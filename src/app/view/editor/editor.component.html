<div class="container">
	<h1>
		<fa-icon [icon]="faEye" [fixedWidth]="true" size="sm"></fa-icon>
		SeekPSD
	</h1>

	<div class="flex-left-right">
		<div #psdViewer class="psd-viewer">
			<div #dropArea appEvent (fileDropped)="onFileDropped($event)" class="drop-area active">
				<div class="normal">
					<fa-icon [icon]="faFileImage" size="3x"></fa-icon>
					<h3>PSDファイルを開く</h3>
					<p>ここにファイルをドラッグ＆ドロップ</p>
				</div>
				<div class="hover"></div>
			</div>

			<canvas #mainCanvas class="psd-canvas"></canvas>
		</div>
		<div class="psd-info">
			<h2>
				<fa-icon [icon]="faSignature" [fixedWidth]="true" size="sm"></fa-icon>
				{{ fileName }}
			</h2>

			<div class="layer-panel">
				<ul>
					<ng-template #recursiveList let-list>
						<li *ngFor="let item of list; let i = index">
							<input attr.id="{{ item.title + '_seek_psd_' + i }}" type="checkbox" hidden />
							<label attr.for="{{ item.title + '_seek_psd_' + i }}" appPreventHoverPropagation>
								<fa-icon *ngIf="item.children.length > 0" [icon]="faAngleRight" [fixedWidth]="true" size="sm"></fa-icon>
								<fa-icon *ngIf="item.children.length > 0" [icon]="faFolder" [fixedWidth]="true" size="sm"></fa-icon>
								{{ item.title }}
							</label>
							<ul *ngIf="item.children.length > 0" style="margin-left: 20px" class="sub-group-list">
								<ng-container *ngTemplateOutlet="recursiveList; context: { $implicit: item.children }"></ng-container>
							</ul>
						</li>
					</ng-template>
					<ng-container *ngTemplateOutlet="recursiveList; context: { $implicit: list }"></ng-container>
				</ul>
			</div>
		</div>
	</div>
</div>

<footer>
	<div class="wrapper">
		<span>©NkiHrk</span>
		<span>・</span>
		<a href="https://github.com/nkihrk" target="_blank">GitHub</a>
		<span>・</span>
		<a href="">About SeekPSD</a>
	</div>
</footer>
