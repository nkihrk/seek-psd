(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+qE3":function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,a,o;if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=d(e))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function v(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,d=m(l,u);for(r=0;r<u;++r)a(d[r],this,t)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var r,n,i,a,o;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},"/RdL":function(e,t,r){"use strict";var n=r("Gwi7").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||i);var o=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||d()},u=t._writableState&&t._writableState.finished,d=function(){s=!1,u=!0,o||a.call(t)},c=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,c=!0,s||a.call(t)},h=function(e){a.call(t,e)},p=function(){var e;return o&&!c?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},g=function(){t.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",d),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",f),t.on("finish",d),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",d),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}},"1QtO":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.infoHandlersMap=t.infoHandlers=void 0;var i=r("H7XF"),a=r("Cwy7"),o=r("WSo5"),s=r("DueJ"),l=r("lgos"),u=r("tgq0"),d=r("cBPS"),c=r("41vA");function f(e,r,n,i){var a={key:e,has:r,read:n,write:i};t.infoHandlers.push(a),t.infoHandlersMap[a.key]=a}function h(e,r){t.infoHandlersMap[e]=t.infoHandlersMap[r]}function p(e){return function(t){return void 0!==t[e]}}function g(e,t,r){var n=s.readFixedPointPath32(e)*r,i=s.readFixedPointPath32(e)*t,a=s.readFixedPointPath32(e)*r,o=s.readFixedPointPath32(e)*t,l=s.readFixedPointPath32(e)*r;return[i,n,o,a,s.readFixedPointPath32(e)*t,l]}function m(e,t,r,n){l.writeFixedPointPath32(e,t[1]/n),l.writeFixedPointPath32(e,t[0]/r),l.writeFixedPointPath32(e,t[3]/n),l.writeFixedPointPath32(e,t[2]/r),l.writeFixedPointPath32(e,t[5]/n),l.writeFixedPointPath32(e,t[4]/r)}t.infoHandlers=[],t.infoHandlersMap={},f("TySh",p("text"),function(e,t,r){if(1!==s.readInt16(e))throw new Error("Invalid TySh version");for(var i=[],a=0;a<6;a++)i.push(s.readFloat64(e));if(50!==s.readInt16(e))throw new Error("Invalid TySh text version");var o=u.readVersionAndDescriptor(e);if(1!==s.readInt16(e))throw new Error("Invalid TySh warp version");var l=u.readVersionAndDescriptor(e);if(t.text={transform:i,left:s.readFloat32(e),top:s.readFloat32(e),right:s.readFloat32(e),bottom:s.readFloat32(e),text:o["Txt "].replace(/\r/g,"\n"),index:o.TextIndex||0,gridding:u.textGridding.decode(o.textGridding),antiAlias:u.Annt.decode(o.AntA),orientation:u.Ornt.decode(o.Ornt),warp:{style:u.warpStyle.decode(l.warpStyle),value:l.warpValue||0,perspective:l.warpPerspective||0,perspectiveOther:l.warpPerspectiveOther||0,rotate:u.Ornt.decode(l.warpRotate)}},o.EngineData){var f=c.decodeEngineData(d.parseEngineData(o.EngineData));t.text=n(n({},t.text),f)}s.skipBytes(e,r())},function(e,t){var r=t.text,n=r.warp||{},i=r.transform||[1,0,0,1,0,0],a={"Txt ":(r.text||"").replace(/\r?\n/g,"\r"),textGridding:u.textGridding.encode(r.gridding),Ornt:u.Ornt.encode(r.orientation),AntA:u.Annt.encode(r.antiAlias),TextIndex:r.index||0,EngineData:d.serializeEngineData(c.encodeEngineData(r))};l.writeInt16(e,1);for(var o=0;o<6;o++)l.writeFloat64(e,i[o]);l.writeInt16(e,50),u.writeVersionAndDescriptor(e,"","TxLr",a),l.writeInt16(e,1),u.writeVersionAndDescriptor(e,"","warp",w(n)),l.writeFloat32(e,r.left),l.writeFloat32(e,r.top),l.writeFloat32(e,r.right),l.writeFloat32(e,r.bottom)}),f("SoCo",function(e){return void 0!==e.vectorFill&&void 0===e.vectorStroke&&"color"===e.vectorFill.type},function(e,t){var r=u.readVersionAndDescriptor(e);t.vectorFill=H(r)},function(e,t){var r=Y(t.vectorFill).descriptor;u.writeVersionAndDescriptor(e,"","null",r)}),f("GdFl",function(e){return void 0!==e.vectorFill&&void 0===e.vectorStroke&&("solid"===e.vectorFill.type||"noise"===e.vectorFill.type)},function(e,t,r){var n=u.readVersionAndDescriptor(e);t.vectorFill=H(n),s.skipBytes(e,r())},function(e,t){var r=Y(t.vectorFill).descriptor;u.writeVersionAndDescriptor(e,"","null",r)}),f("PtFl",function(e){return void 0!==e.vectorFill&&void 0===e.vectorStroke&&"pattern"===e.vectorFill.type},function(e,t){var r=u.readVersionAndDescriptor(e);t.vectorFill=H(r)},function(e,t){var r=Y(t.vectorFill).descriptor;u.writeVersionAndDescriptor(e,"","null",r)}),f("vscg",function(e){return void 0!==e.vectorFill&&void 0!==e.vectorStroke},function(e,t,r){s.readSignature(e);var n=u.readVersionAndDescriptor(e);t.vectorFill=H(n),s.skipBytes(e,r())},function(e,t){var r=Y(t.vectorFill),n=r.descriptor;l.writeSignature(e,r.key),u.writeVersionAndDescriptor(e,"","null",n)});var v=["exclude","combine","subtract","intersect"];f("vmsk",p("vectorMask"),function(e,t,r,n){var i=n.width,a=n.height;if(3!==s.readUint32(e))throw new Error("Invalid vmsk version");t.vectorMask={paths:[]};var o=t.vectorMask,l=s.readUint32(e);o.invert=0!=(1&l),o.notLink=0!=(2&l),o.disable=0!=(4&l);for(var u=o.paths,d=void 0;r()>=26;){var c=s.readUint16(e);switch(c){case 0:case 3:s.readUint16(e);var f=s.readUint16(e);s.readUint16(e),s.skipBytes(e,18),u.push(d={open:3===c,operation:v[f],knots:[]});break;case 1:case 2:case 4:case 5:d.knots.push({linked:1===c||4===c,points:g(e,i,a)});break;case 6:s.skipBytes(e,24);break;case 7:var h=s.readFixedPointPath32(e),p=s.readFixedPointPath32(e),m=s.readFixedPointPath32(e),b=s.readFixedPointPath32(e),y=s.readFixedPointPath32(e);s.skipBytes(e,4),o.clipboard={top:h,left:p,bottom:m,right:b,resolution:y};break;case 8:o.fillStartsWithAllPixels=!!s.readUint16(e),s.skipBytes(e,22);break;default:throw new Error("Invalid vmsk section")}}s.skipBytes(e,r())},function(e,t,r){var n=r.width,i=r.height,a=t.vectorMask,o=(a.invert?1:0)|(a.notLink?2:0)|(a.disable?4:0);l.writeUint32(e,3),l.writeUint32(e,o),l.writeUint16(e,6),l.writeZeros(e,24);var s=a.clipboard;s&&(l.writeUint16(e,7),l.writeFixedPointPath32(e,s.top),l.writeFixedPointPath32(e,s.left),l.writeFixedPointPath32(e,s.bottom),l.writeFixedPointPath32(e,s.right),l.writeFixedPointPath32(e,s.resolution),l.writeZeros(e,4)),void 0!==a.fillStartsWithAllPixels&&(l.writeUint16(e,8),l.writeUint16(e,a.fillStartsWithAllPixels?1:0),l.writeZeros(e,22));for(var u=0,d=a.paths;u<d.length;u++){var c=d[u];l.writeUint16(e,c.open?3:0),l.writeUint16(e,c.knots.length),l.writeUint16(e,Math.abs(v.indexOf(c.operation))),l.writeUint16(e,1),l.writeZeros(e,18);for(var f=c.open?4:1,h=c.open?5:2,p=0,g=c.knots;p<g.length;p++){var b=g[p],y=b.points;l.writeUint16(e,b.linked?f:h),m(e,y,n,i)}}}),h("vsms","vmsk"),f("vogk",p("vectorOrigination"),function(e,t,r){if(1!==s.readInt32(e))throw new Error("Invalid vogk version");var n=u.readVersionAndDescriptor(e);t.vectorOrigination={keyDescriptorList:[]};for(var i=0,a=n.keyDescriptorList;i<a.length;i++){var o=a[i],l={};null!=o.keyShapeInvalidated&&(l.keyShapeInvalidated=o.keyShapeInvalidated),null!=o.keyOriginType&&(l.keyOriginType=o.keyOriginType),null!=o.keyOriginResolution&&(l.keyOriginResolution=o.keyOriginResolution),null!=o.keyOriginShapeBBox&&(l.keyOriginShapeBoundingBox={top:u.parseUnits(o.keyOriginShapeBBox["Top "]),left:u.parseUnits(o.keyOriginShapeBBox.Left),bottom:u.parseUnits(o.keyOriginShapeBBox.Btom),right:u.parseUnits(o.keyOriginShapeBBox.Rght)}),null!=o.keyOriginRRectRadii&&(l.keyOriginRRectRadii={topRight:u.parseUnits(o.keyOriginRRectRadii.topRight),topLeft:u.parseUnits(o.keyOriginRRectRadii.topLeft),bottomLeft:u.parseUnits(o.keyOriginRRectRadii.bottomLeft),bottomRight:u.parseUnits(o.keyOriginRRectRadii.bottomRight)}),t.vectorOrigination.keyDescriptorList.push(l)}s.skipBytes(e,r())},function(e,t){for(var r,n,i=t.vectorOrigination,a={keyDescriptorList:[]},o=0;o<i.keyDescriptorList.length;o++){var s=i.keyDescriptorList[o];if(s.keyShapeInvalidated)a.keyDescriptorList.push({keyShapeInvalidated:!0,keyOriginIndex:o});else{a.keyDescriptorList.push({keyOriginType:null!==(r=s.keyOriginType)&&void 0!==r?r:4,keyOriginResolution:null!==(n=s.keyOriginResolution)&&void 0!==n?n:72});var d=a.keyDescriptorList[a.keyDescriptorList.length-1];s.keyOriginRRectRadii&&(d.keyOriginRRectRadii={unitValueQuadVersion:1,topRight:u.unitsValue(s.keyOriginRRectRadii.topRight,"topRight"),topLeft:u.unitsValue(s.keyOriginRRectRadii.topLeft,"topLeft"),bottomLeft:u.unitsValue(s.keyOriginRRectRadii.bottomLeft,"bottomLeft"),bottomRight:u.unitsValue(s.keyOriginRRectRadii.bottomRight,"bottomRight")}),s.keyOriginShapeBoundingBox&&(d.keyOriginShapeBBox={unitValueQuadVersion:1,"Top ":u.unitsValue(s.keyOriginShapeBoundingBox.top,"top"),Left:u.unitsValue(s.keyOriginShapeBoundingBox.left,"left"),Btom:u.unitsValue(s.keyOriginShapeBoundingBox.bottom,"bottom"),Rght:u.unitsValue(s.keyOriginShapeBoundingBox.right,"right")}),d.keyOriginIndex=o}}l.writeInt32(e,1),u.writeVersionAndDescriptor(e,"","null",a)}),f("luni",p("name"),function(e,t,r){t.name=s.readUnicodeString(e),s.skipBytes(e,r())},function(e,t){l.writeUnicodeString(e,t.name)}),f("lnsr",p("nameSource"),function(e,t){return t.nameSource=s.readSignature(e)},function(e,t){return l.writeSignature(e,t.nameSource)}),f("lyid",p("id"),function(e,t){return t.id=s.readUint32(e)},function(e,t){return l.writeUint32(e,t.id)}),f("lsct",p("sectionDivider"),function(e,t,r){t.sectionDivider={type:s.readUint32(e)},r()&&(s.checkSignature(e,"8BIM"),t.sectionDivider.key=s.readSignature(e)),r()&&(t.sectionDivider.subType=s.readUint32(e))},function(e,t){l.writeUint32(e,t.sectionDivider.type),t.sectionDivider.key&&(l.writeSignature(e,"8BIM"),l.writeSignature(e,t.sectionDivider.key),void 0!==t.sectionDivider.subType&&l.writeUint32(e,t.sectionDivider.subType))}),f("clbl",p("blendClippendElements"),function(e,t){t.blendClippendElements=!!s.readUint8(e),s.skipBytes(e,3)},function(e,t){l.writeUint8(e,t.blendClippendElements?1:0),l.writeZeros(e,3)}),f("infx",p("blendInteriorElements"),function(e,t){t.blendInteriorElements=!!s.readUint8(e),s.skipBytes(e,3)},function(e,t){l.writeUint8(e,t.blendInteriorElements?1:0),l.writeZeros(e,3)}),f("knko",p("knockout"),function(e,t){t.knockout=!!s.readUint8(e),s.skipBytes(e,3)},function(e,t){l.writeUint8(e,t.knockout?1:0),l.writeZeros(e,3)}),f("lspf",p("protected"),function(e,t){var r=s.readUint32(e);t.protected={transparency:0!=(1&r),composite:0!=(2&r),position:0!=(4&r)},8&r&&(t.protected.artboards=!0)},function(e,t){l.writeUint32(e,(t.protected.transparency?1:0)|(t.protected.composite?2:0)|(t.protected.position?4:0)|(t.protected.artboards?8:0))}),f("lclr",p("layerColor"),function(e,t){var r=s.readUint16(e);s.skipBytes(e,6),t.layerColor=o.layerColors[r]},function(e,t){var r=o.layerColors.indexOf(t.layerColor);l.writeUint16(e,-1===r?0:r),l.writeZeros(e,6)}),f("shmd",p("timestamp"),function(e,t,r,n,i){for(var a=s.readUint32(e),o=function(r){s.checkSignature(e,"8BIM");var n=s.readSignature(e);s.readUint8(e),s.skipBytes(e,3),s.readSection(e,1,function(r){if("cust"===n)void 0!==(a=u.readVersionAndDescriptor(e)).layerTime&&(t.timestamp=a.layerTime);else if("mlst"===n){var a=u.readVersionAndDescriptor(e);i.logDevFeatures&&console.log("mlst",a)}else if("mdyn"===n){var o=s.readUint16(e),l=s.readUint8(e),d=s.readUint8(e);i.logDevFeatures&&console.log("mdyn","unknown:",o,"propagate:",l,"flags:",d,{unifyLayerPosition:0!=(1&d),unifyLayerStyle:0!=(2&d),unifyLayerVisibility:0!=(4&d)})}else i.logDevFeatures&&console.log("Unhandled metadata",n);s.skipBytes(e,r())})},l=0;l<a;l++)o();s.skipBytes(e,r())},function(e,t){var r={layerTime:t.timestamp};l.writeUint32(e,1),l.writeSignature(e,"8BIM"),l.writeSignature(e,"cust"),l.writeUint8(e,0),l.writeZeros(e,3),l.writeSection(e,2,function(){return u.writeVersionAndDescriptor(e,"","metadata",r)},!0)}),f("vstk",p("vectorStroke"),function(e,t,r){var n=u.readVersionAndDescriptor(e);t.vectorStroke={strokeEnabled:n.strokeEnabled,fillEnabled:n.fillEnabled,lineWidth:u.parseUnits(n.strokeStyleLineWidth),lineDashOffset:u.parseUnits(n.strokeStyleLineDashOffset),miterLimit:n.strokeStyleMiterLimit,lineCapType:u.strokeStyleLineCapType.decode(n.strokeStyleLineCapType),lineJoinType:u.strokeStyleLineJoinType.decode(n.strokeStyleLineJoinType),lineAlignment:u.strokeStyleLineAlignment.decode(n.strokeStyleLineAlignment),scaleLock:n.strokeStyleScaleLock,strokeAdjust:n.strokeStyleStrokeAdjust,lineDashSet:n.strokeStyleLineDashSet.map(u.parseUnits),blendMode:u.BlnM.decode(n.strokeStyleBlendMode),opacity:u.parsePercent(n.strokeStyleOpacity),content:H(n.strokeStyleContent),resolution:n.strokeStyleResolution},s.skipBytes(e,r())},function(e,t){var r,n,i,a=t.vectorStroke,o={strokeStyleVersion:2,strokeEnabled:!!a.strokeEnabled,fillEnabled:!!a.fillEnabled,strokeStyleLineWidth:a.lineWidth||{value:3,units:"Points"},strokeStyleLineDashOffset:a.lineDashOffset||{value:0,units:"Points"},strokeStyleMiterLimit:null!==(r=a.miterLimit)&&void 0!==r?r:100,strokeStyleLineCapType:u.strokeStyleLineCapType.encode(a.lineCapType),strokeStyleLineJoinType:u.strokeStyleLineJoinType.encode(a.lineJoinType),strokeStyleLineAlignment:u.strokeStyleLineAlignment.encode(a.lineAlignment),strokeStyleScaleLock:!!a.scaleLock,strokeStyleStrokeAdjust:!!a.strokeAdjust,strokeStyleLineDashSet:a.lineDashSet||[],strokeStyleBlendMode:u.BlnM.encode(a.blendMode),strokeStyleOpacity:u.unitsPercent(null!==(n=a.opacity)&&void 0!==n?n:1),strokeStyleContent:Y(a.content||{type:"color",color:{r:0,g:0,b:0}}).descriptor,strokeStyleResolution:null!==(i=a.resolution)&&void 0!==i?i:72};u.writeVersionAndDescriptor(e,"","strokeStyle",o)}),f("artb",p("artboard"),function(e,t,r){var n=u.readVersionAndDescriptor(e);t.artboard={rect:{top:n.artboardRect["Top "],left:n.artboardRect.Left,bottom:n.artboardRect.Btom,right:n.artboardRect.Rght},guideIndices:n.guideIndeces,presetName:n.artboardPresetName,color:Z(n["Clr "]),backgroundType:n.artboardBackgroundType},s.skipBytes(e,r())},function(e,t){var r,n=t.artboard,i={artboardRect:{"Top ":n.rect.top,Left:n.rect.left,Btom:n.rect.bottom,Rght:n.rect.right},guideIndeces:n.guideIndices||[],artboardPresetName:n.presetName||"","Clr ":X(n.color),artboardBackgroundType:null!==(r=n.backgroundType)&&void 0!==r?r:1};u.writeVersionAndDescriptor(e,"","artboard",i)}),f("sn2P",p("usingAlignedRendering"),function(e,t){return t.usingAlignedRendering=!!s.readUint32(e)},function(e,t){return l.writeUint32(e,t.usingAlignedRendering?1:0)});var b=["unknown","vector","raster","image stack"];function y(e){return{style:u.warpStyle.decode(e.warpStyle),value:e.warpValue||0,perspective:e.warpPerspective||0,perspectiveOther:e.warpPerspectiveOther||0,rotate:u.Ornt.decode(e.warpRotate),bounds:e.bounds&&{top:u.parseUnits(e.bounds["Top "]),left:u.parseUnits(e.bounds.Left),bottom:u.parseUnits(e.bounds.Btom),right:u.parseUnits(e.bounds.Rght)},uOrder:e.uOrder,vOrder:e.vOrder,customEnvelopeWarp:e.customEnvelopeWarp&&{meshPoints:e.customEnvelopeWarp.meshPoints.map(function(e){return{type:"Hrzn"===e.type?"horizontal":"vertical",values:e.values}})}}}function w(e){var t,r,n,i,a={warpStyle:u.warpStyle.encode(e.style),warpValue:e.value||0,warpPerspective:e.perspective||0,warpPerspectiveOther:e.perspectiveOther||0,warpRotate:u.Ornt.encode(e.rotate),bounds:{"Top ":u.unitsValue((null===(t=e.bounds)||void 0===t?void 0:t.top)||{units:"Pixels",value:0},"bounds.top"),Left:u.unitsValue((null===(r=e.bounds)||void 0===r?void 0:r.left)||{units:"Pixels",value:0},"bounds.left"),Btom:u.unitsValue((null===(n=e.bounds)||void 0===n?void 0:n.bottom)||{units:"Pixels",value:0},"bounds.bottom"),Rght:u.unitsValue((null===(i=e.bounds)||void 0===i?void 0:i.right)||{units:"Pixels",value:0},"bounds.right")},uOrder:e.uOrder||0,vOrder:e.vOrder||0};return e.customEnvelopeWarp&&(a.customEnvelopeWarp={meshPoints:(e.customEnvelopeWarp.meshPoints||[]).map(function(e){return{type:"horizontal"===e.type?"Hrzn":"Vrtc",values:e.values}})}),a}function _(e){return function(t){return!!t.adjustment&&t.adjustment.type===e}}function x(e){return{shadowInput:s.readInt16(e),highlightInput:s.readInt16(e),shadowOutput:s.readInt16(e),highlightOutput:s.readInt16(e),midtoneInput:s.readInt16(e)/100}}function E(e,t){l.writeInt16(e,t.shadowInput),l.writeInt16(e,t.highlightInput),l.writeInt16(e,t.shadowOutput),l.writeInt16(e,t.highlightOutput),l.writeInt16(e,Math.round(100*t.midtoneInput))}function S(e){for(var t=s.readUint16(e),r=[],n=0;n<t;n++){var i=s.readInt16(e),a=s.readInt16(e);r.push({input:a,output:i})}return r}function k(e,t){l.writeUint16(e,t.length);for(var r=0,n=t;r<n.length;r++){var i=n[r];l.writeUint16(e,i.output),l.writeUint16(e,i.input)}}function T(e){return{a:s.readInt16(e),b:s.readInt16(e),c:s.readInt16(e),d:s.readInt16(e),hue:s.readInt16(e),saturation:s.readInt16(e),lightness:s.readInt16(e)}}function R(e,t){var r=t||{};l.writeInt16(e,r.a||0),l.writeInt16(e,r.b||0),l.writeInt16(e,r.c||0),l.writeInt16(e,r.d||0),l.writeInt16(e,r.hue||0),l.writeInt16(e,r.saturation||0),l.writeInt16(e,r.lightness||0)}function B(e){return{cyanRed:s.readInt16(e),magentaGreen:s.readInt16(e),yellowBlue:s.readInt16(e)}}function C(e,t){l.writeInt16(e,t.cyanRed||0),l.writeInt16(e,t.magentaGreen||0),l.writeInt16(e,t.yellowBlue||0)}function A(e){var t=s.readInt16(e),r=s.readInt16(e),n=s.readInt16(e);return s.skipBytes(e,2),{red:t,green:r,blue:n,constant:s.readInt16(e)}}function I(e,t){var r=t||{};l.writeInt16(e,r.red),l.writeInt16(e,r.green),l.writeInt16(e,r.blue),l.writeZeros(e,2),l.writeInt16(e,r.constant)}f("PlLd",p("placedLayer"),function(e,t,r){if("plcL"!==s.readSignature(e))throw new Error("Invalid PlLd signature");if(3!==s.readInt32(e))throw new Error("Invalid PlLd version");var n=s.readPascalString(e,1);s.readInt32(e),s.readInt32(e),s.readInt32(e);var i=s.readInt32(e);if(!b[i])throw new Error("Invalid PlLd type");for(var a=[],o=0;o<8;o++)a.push(s.readFloat64(e));var l=s.readInt32(e);if(0!==l)throw new Error("Invalid Warp version "+l);var d=u.readVersionAndDescriptor(e);t.placedLayer=t.placedLayer||{id:n,type:b[i],transform:a,warp:y(d)},s.skipBytes(e,r())},function(e,t){var r=t.placedLayer;if(l.writeSignature(e,"plcL"),l.writeInt32(e,3),l.writePascalString(e,r.id,1),l.writeInt32(e,1),l.writeInt32(e,1),l.writeInt32(e,16),-1===b.indexOf(r.type))throw new Error("Invalid placedLayer type");l.writeInt32(e,b.indexOf(r.type));for(var n=0;n<8;n++)l.writeFloat64(e,r.transform[n]);l.writeInt32(e,0),u.writeVersionAndDescriptor(e,"","warp",w(r.warp||{}))}),f("SoLd",p("placedLayer"),function(e,t,r){if("soLD"!==s.readSignature(e))throw new Error("Invalid SoLd type");if(4!==s.readInt32(e))throw new Error("Invalid SoLd version");var n=u.readVersionAndDescriptor(e);t.placedLayer={id:n.Idnt,placed:n.placed,type:b[n.Type],transform:n.Trnf,width:n["Sz  "].Wdth,height:n["Sz  "].Hght,resolution:u.parseUnits(n.Rslt),warp:y(n.warp)},n.Crop&&(t.placedLayer.crop=n.Crop),n.comp&&(t.placedLayer.comp=n.comp),n.compInfo&&(t.placedLayer.compInfo=n.compInfo),s.skipBytes(e,r())},function(e,t){var r;l.writeSignature(e,"soLD"),l.writeInt32(e,4);var i=t.placedLayer,a=n(n({Idnt:i.id,placed:null!==(r=i.placed)&&void 0!==r?r:i.id,PgNm:1,totalPages:1},i.crop?{Crop:i.crop}:{}),{frameStep:{numerator:0,denominator:600},duration:{numerator:0,denominator:600},frameCount:1,Annt:16,Type:b.indexOf(i.type),Trnf:i.transform,nonAffineTransform:i.transform,warp:w(i.warp||{}),"Sz  ":{Wdth:i.width||0,Hght:i.height||0},Rslt:i.resolution?u.unitsValue(i.resolution,"resolution"):{units:"Density",value:72}});i.comp&&(a.comp=i.comp),i.compInfo&&(a.compInfo=i.compInfo),u.writeVersionAndDescriptor(e,"","null",a)}),f("fxrp",p("referencePoint"),function(e,t){t.referencePoint={x:s.readFloat64(e),y:s.readFloat64(e)}},function(e,t){l.writeFloat64(e,t.referencePoint.x),l.writeFloat64(e,t.referencePoint.y)}),f("Patt",function(e){return!e},function(e,t,r){r()&&s.skipBytes(e,r())},function(e,t){}),f("lnk2",function(e){return!!e.linkedFiles&&e.linkedFiles.length>0},function(e,t,r,n,i){var a=t;for(a.linkedFiles=[];r()>8;){var o=M(e),l=e.offset,d=s.readSignature(e),c=s.readInt32(e),f=s.readPascalString(e,1),h=s.readUnicodeString(e),p=s.readSignature(e).trim(),g=s.readSignature(e).trim(),m=M(e),v=s.readUint8(e)?u.readVersionAndDescriptor(e):void 0,b=("liFE"===d&&u.readVersionAndDescriptor(e),{id:f,name:h,data:void 0});if(p&&(b.type=p),g&&(b.creator=g),v&&(b.descriptor=v),"liFE"===d&&c>3){var y=s.readInt32(e),w=s.readUint8(e),_=s.readUint8(e),x=s.readUint8(e),E=s.readUint8(e),S=s.readFloat64(e),k=Math.floor(S);b.time=new Date(y,w,_,x,E,k,1e3*(S-k))}var T="liFE"===d?M(e):0;for("liFA"===d&&s.skipBytes(e,8),"liFD"===d&&(b.data=s.readBytes(e,m)),c>=5&&(b.childDocumentID=s.readUnicodeString(e)),c>=6&&(b.assetModTime=s.readFloat64(e)),c>=7&&(b.assetLockedState=s.readUint8(e)),"liFE"===d&&(b.data=s.readBytes(e,T)),i.skipLinkedFilesData&&(b.data=void 0),a.linkedFiles.push(b);o%4;)o++;e.offset=l+o}s.skipBytes(e,r())},function(e,t){for(var r=0,n=t.linkedFiles;r<n.length;r++){var i=n[r],a=2;null!=i.assetLockedState?a=7:null!=i.assetModTime?a=6:null!=i.childDocumentID&&(a=5),l.writeUint32(e,0),l.writeUint32(e,0);var o=e.offset;if(l.writeSignature(e,i.data?"liFD":"liFA"),l.writeInt32(e,a),l.writePascalString(e,i.id||"",1),l.writeUnicodeStringWithPadding(e,i.name||""),l.writeSignature(e,i.type?(i.type+"    ").substr(0,4):"    "),l.writeSignature(e,i.creator?(i.creator+"    ").substr(0,4):"\0\0\0\0"),N(e,i.data?i.data.byteLength:0),i.descriptor&&i.descriptor.compInfo){var s={compInfo:i.descriptor.compInfo};l.writeUint8(e,1),u.writeVersionAndDescriptor(e,"","null",s)}else l.writeUint8(e,0);i.data?l.writeBytes(e,i.data):N(e,0),a>=5&&l.writeUnicodeStringWithPadding(e,i.childDocumentID||""),a>=6&&l.writeFloat64(e,i.assetModTime||0),a>=7&&l.writeUint8(e,i.assetLockedState||0);var d=e.offset-o;for(e.view.setUint32(o-4,d,!1);d%4;)d++,l.writeUint8(e,0)}}),h("lnkD","lnk2"),h("lnk3","lnk2"),f("pths",p("pathList"),function(e,t){u.readVersionAndDescriptor(e),t.pathList=[]},function(e,t){u.writeVersionAndDescriptor(e,"","pathsDataClass",{pathList:[]})}),f("lyvr",p("version"),function(e,t){return t.version=s.readUint32(e)},function(e,t){return l.writeUint32(e,t.version)}),f("lrFX",p("effects"),function(e,t,r){t.effects||(t.effects=a.readEffects(e)),s.skipBytes(e,r())},function(e,t){a.writeEffects(e,t.effects)}),f("brit",_("brightness/contrast"),function(e,t,r){t.adjustment||(t.adjustment={type:"brightness/contrast",brightness:s.readInt16(e),contrast:s.readInt16(e),meanValue:s.readInt16(e),labColorOnly:!!s.readUint8(e),useLegacy:!0}),s.skipBytes(e,r())},function(e,t){var r,n=t.adjustment;l.writeInt16(e,n.brightness||0),l.writeInt16(e,n.contrast||0),l.writeInt16(e,null!==(r=n.meanValue)&&void 0!==r?r:127),l.writeUint8(e,n.labColorOnly?1:0),l.writeZeros(e,1)}),f("levl",_("levels"),function(e,t,r){if(2!==s.readUint16(e))throw new Error("Invalid levl version");t.adjustment=n(n({},t.adjustment),{type:"levels",rgb:x(e),red:x(e),green:x(e),blue:x(e)}),s.skipBytes(e,r())},function(e,t){var r=t.adjustment,n={shadowInput:0,highlightInput:255,shadowOutput:0,highlightOutput:255,midtoneInput:1};l.writeUint16(e,2),E(e,r.rgb||n),E(e,r.red||n),E(e,r.blue||n),E(e,r.green||n);for(var i=0;i<59;i++)E(e,n)}),f("curv",_("curves"),function(e,t,r){if(s.readUint8(e),1!==s.readUint16(e))throw new Error("Invalid curv version");s.readUint16(e);var i=s.readUint16(e),a={type:"curves"};1&i&&(a.rgb=S(e)),2&i&&(a.red=S(e)),4&i&&(a.green=S(e)),8&i&&(a.blue=S(e)),t.adjustment=n(n({},t.adjustment),a),s.skipBytes(e,r())},function(e,t){var r=t.adjustment,n=r.rgb,i=r.red,a=r.green,o=r.blue,s=0,u=0;n&&n.length&&(s|=1,u++),i&&i.length&&(s|=2,u++),a&&a.length&&(s|=4,u++),o&&o.length&&(s|=8,u++),l.writeUint8(e,0),l.writeUint16(e,1),l.writeUint16(e,0),l.writeUint16(e,s),n&&n.length&&k(e,n),i&&i.length&&k(e,i),a&&a.length&&k(e,a),o&&o.length&&k(e,o),l.writeSignature(e,"Crv "),l.writeUint16(e,4),l.writeUint16(e,0),l.writeUint16(e,u),n&&n.length&&(l.writeUint16(e,0),k(e,n)),i&&i.length&&(l.writeUint16(e,1),k(e,i)),a&&a.length&&(l.writeUint16(e,2),k(e,a)),o&&o.length&&(l.writeUint16(e,3),k(e,o)),l.writeZeros(e,2)}),f("expA",_("exposure"),function(e,t,r){if(1!==s.readUint16(e))throw new Error("Invalid expA version");t.adjustment=n(n({},t.adjustment),{type:"exposure",exposure:s.readFloat32(e),offset:s.readFloat32(e),gamma:s.readFloat32(e)}),s.skipBytes(e,r())},function(e,t){var r=t.adjustment;l.writeUint16(e,1),l.writeFloat32(e,r.exposure),l.writeFloat32(e,r.offset),l.writeFloat32(e,r.gamma),l.writeZeros(e,2)}),f("vibA",_("vibrance"),function(e,t,r){var n=u.readVersionAndDescriptor(e);t.adjustment={type:"vibrance"},void 0!==n.vibrance&&(t.adjustment.vibrance=n.vibrance),void 0!==n.Strt&&(t.adjustment.saturation=n.Strt),s.skipBytes(e,r())},function(e,t){var r=t.adjustment,n={};void 0!==r.vibrance&&(n.vibrance=r.vibrance),void 0!==r.saturation&&(n.Strt=r.saturation),u.writeVersionAndDescriptor(e,"","null",n)}),f("hue2",_("hue/saturation"),function(e,t,r){if(2!==s.readUint16(e))throw new Error("Invalid hue2 version");t.adjustment=n(n({},t.adjustment),{type:"hue/saturation",master:T(e),reds:T(e),yellows:T(e),greens:T(e),cyans:T(e),blues:T(e),magentas:T(e)}),s.skipBytes(e,r())},function(e,t){var r=t.adjustment;l.writeUint16(e,2),R(e,r.master),R(e,r.reds),R(e,r.yellows),R(e,r.greens),R(e,r.cyans),R(e,r.blues),R(e,r.magentas)}),f("blnc",_("color balance"),function(e,t,r){t.adjustment={type:"color balance",shadows:B(e),midtones:B(e),highlights:B(e),preserveLuminosity:!!s.readUint8(e)},s.skipBytes(e,r())},function(e,t){var r=t.adjustment;C(e,r.shadows||{}),C(e,r.midtones||{}),C(e,r.highlights||{}),l.writeUint8(e,r.preserveLuminosity?1:0),l.writeZeros(e,1)}),f("blwh",_("black & white"),function(e,t,r){var n=u.readVersionAndDescriptor(e);t.adjustment={type:"black & white",reds:n["Rd  "],yellows:n.Yllw,greens:n["Grn "],cyans:n["Cyn "],blues:n["Bl  "],magentas:n.Mgnt,useTint:!!n.useTint,presetKind:n.bwPresetKind,presetFileName:n.blackAndWhitePresetFileName},void 0!==n.tintColor&&(t.adjustment.tintColor=Z(n.tintColor)),s.skipBytes(e,r())},function(e,t){var r=t.adjustment,n={"Rd  ":r.reds||0,Yllw:r.yellows||0,"Grn ":r.greens||0,"Cyn ":r.cyans||0,"Bl  ":r.blues||0,Mgnt:r.magentas||0,useTint:!!r.useTint,tintColor:X(r.tintColor),bwPresetKind:r.presetKind||0,blackAndWhitePresetFileName:r.presetFileName||""};u.writeVersionAndDescriptor(e,"","null",n)}),f("phfl",_("photo filter"),function(e,t,r){var n,i=s.readUint16(e);if(2!==i&&3!==i)throw new Error("Invalid phfl version");n=2===i?s.readColor(e):{l:s.readInt32(e)/100,a:s.readInt32(e)/100,b:s.readInt32(e)/100},t.adjustment={type:"photo filter",color:n,density:s.readUint32(e)/100,preserveLuminosity:!!s.readUint8(e)},s.skipBytes(e,r())},function(e,t){var r=t.adjustment;l.writeUint16(e,2),l.writeColor(e,r.color||{l:0,a:0,b:0}),l.writeUint32(e,100*(r.density||0)),l.writeUint8(e,r.preserveLuminosity?1:0),l.writeZeros(e,3)}),f("mixr",_("channel mixer"),function(e,t,r){if(1!==s.readUint16(e))throw new Error("Invalid mixr version");var i=t.adjustment=n(n({},t.adjustment),{type:"channel mixer",monochrome:!!s.readUint16(e)});i.monochrome||(i.red=A(e),i.green=A(e),i.blue=A(e)),i.gray=A(e),s.skipBytes(e,r())},function(e,t){var r=t.adjustment;l.writeUint16(e,1),l.writeUint16(e,r.monochrome?1:0),r.monochrome?(I(e,r.gray),l.writeZeros(e,30)):(I(e,r.red),I(e,r.green),I(e,r.blue),I(e,r.gray))});var D=o.createEnum("colorLookupType","3DLUT",{"3dlut":"3DLUT",abstractProfile:"abstractProfile",deviceLinkProfile:"deviceLinkProfile"}),L=o.createEnum("LUTFormatType","look",{look:"LUTFormatLOOK",cube:"LUTFormatCUBE","3dl":"LUTFormat3DL"}),P=o.createEnum("colorLookupOrder","rgb",{rgb:"rgbOrder",bgr:"bgrOrder"});f("clrL",_("color lookup"),function(e,t,r){if(1!==s.readUint16(e))throw new Error("Invalid clrL version");var n=u.readVersionAndDescriptor(e);t.adjustment={type:"color lookup"};var i=t.adjustment;void 0!==n.lookupType&&(i.lookupType=D.decode(n.lookupType)),void 0!==n["Nm  "]&&(i.name=n["Nm  "]),void 0!==n.Dthr&&(i.dither=n.Dthr),void 0!==n.profile&&(i.profile=n.profile),void 0!==n.LUTFormat&&(i.lutFormat=L.decode(n.LUTFormat)),void 0!==n.dataOrder&&(i.dataOrder=P.decode(n.dataOrder)),void 0!==n.tableOrder&&(i.tableOrder=P.decode(n.tableOrder)),void 0!==n.LUT3DFileData&&(i.lut3DFileData=n.LUT3DFileData),void 0!==n.LUT3DFileName&&(i.lut3DFileName=n.LUT3DFileName),s.skipBytes(e,r())},function(e,t){var r=t.adjustment,n={};void 0!==r.lookupType&&(n.lookupType=D.encode(r.lookupType)),void 0!==r.name&&(n["Nm  "]=r.name),void 0!==r.dither&&(n.Dthr=r.dither),void 0!==r.profile&&(n.profile=r.profile),void 0!==r.lutFormat&&(n.LUTFormat=L.encode(r.lutFormat)),void 0!==r.dataOrder&&(n.dataOrder=P.encode(r.dataOrder)),void 0!==r.tableOrder&&(n.tableOrder=P.encode(r.tableOrder)),void 0!==r.lut3DFileData&&(n.LUT3DFileData=r.lut3DFileData),void 0!==r.lut3DFileName&&(n.LUT3DFileName=r.lut3DFileName),l.writeUint16(e,1),u.writeVersionAndDescriptor(e,"","null",n)}),f("nvrt",_("invert"),function(e,t,r){t.adjustment={type:"invert"},s.skipBytes(e,r())},function(){}),f("post",_("posterize"),function(e,t,r){t.adjustment={type:"posterize",levels:s.readUint16(e)},s.skipBytes(e,r())},function(e,t){var r;l.writeUint16(e,null!==(r=t.adjustment.levels)&&void 0!==r?r:4),l.writeZeros(e,2)}),f("thrs",_("threshold"),function(e,t,r){t.adjustment={type:"threshold",level:s.readUint16(e)},s.skipBytes(e,r())},function(e,t){var r;l.writeUint16(e,null!==(r=t.adjustment.level)&&void 0!==r?r:128),l.writeZeros(e,2)});var F=["","","","rgb","hsb","","lab"];function O(e){return{c:s.readInt16(e),m:s.readInt16(e),y:s.readInt16(e),k:s.readInt16(e)}}function U(e,t){var r=t||{};l.writeInt16(e,r.c),l.writeInt16(e,r.m),l.writeInt16(e,r.y),l.writeInt16(e,r.k)}function M(e){if(s.readUint32(e))throw new Error("Resource size above 4 GB limit at "+e.offset.toString(16));return s.readUint32(e)}function N(e,t){l.writeUint32(e,0),l.writeUint32(e,t)}function z(e){if("GrdF.CstS"===e.GrdF){var t=e.Intr||4096;return{type:"solid",name:e["Nm  "],smoothness:e.Intr/4096,colorStops:e.Clrs.map(function(e){return{color:Z(e["Clr "]),location:e.Lctn/t,midpoint:e.Mdpn/100}}),opacityStops:e.Trns.map(function(e){return{opacity:u.parsePercent(e.Opct),location:e.Lctn/t,midpoint:e.Mdpn/100}})}}return{type:"noise",name:e["Nm  "],roughness:e.Smth/4096,colorModel:u.ClrS.decode(e.ClrS),randomSeed:e.RndS,restrictColors:!!e.VctC,addTransparency:!!e.ShTr,min:e["Mnm "].map(function(e){return e/100}),max:e["Mxm "].map(function(e){return e/100})}}function j(e){var t,r;if("solid"===e.type){var n=Math.round(4096*(null!==(t=e.smoothness)&&void 0!==t?t:1));return{"Nm  ":e.name,GrdF:"GrdF.CstS",Intr:n,Clrs:e.colorStops.map(function(e){var t;return{"Clr ":X(e.color),Type:"Clry.UsrS",Lctn:Math.round(e.location*n),Mdpn:Math.round(100*(null!==(t=e.midpoint)&&void 0!==t?t:.5))}}),Trns:e.opacityStops.map(function(e){var t;return{Opct:u.unitsPercent(e.opacity),Lctn:Math.round(e.location*n),Mdpn:Math.round(100*(null!==(t=e.midpoint)&&void 0!==t?t:.5))}})}}return{GrdF:"GrdF.ClNs","Nm  ":e.name,ShTr:!!e.addTransparency,VctC:!!e.restrictColors,ClrS:u.ClrS.encode(e.colorModel),RndS:e.randomSeed||0,Smth:Math.round(4096*(null!==(r=e.roughness)&&void 0!==r?r:1)),"Mnm ":(e.min||[0,0,0,0]).map(function(e){return 100*e}),"Mxm ":(e.max||[1,1,1,1]).map(function(e){return 100*e})}}function G(e){var t=z(e.Grad);return t.style=u.GrdT.decode(e.Type),void 0!==e.Dthr&&(t.dither=e.Dthr),void 0!==e.Rvrs&&(t.reverse=e.Rvrs),void 0!==e.Angl&&(t.angle=u.parseAngle(e.Angl)),void 0!==e["Scl "]&&(t.scale=u.parsePercent(e["Scl "])),void 0!==e.Algn&&(t.align=e.Algn),void 0!==e.Ofst&&(t.offset={x:u.parsePercent(e.Ofst.Hrzn),y:u.parsePercent(e.Ofst.Vrtc)}),t}function W(e){var t={name:e.Ptrn["Nm  "],id:e.Ptrn.Idnt};return void 0!==e.Lnkd&&(t.linked=e.Lnkd),void 0!==e.phase&&(t.phase={x:e.phase.Hrzn,y:e.phase.Vrtc}),t}function H(e){if("Grad"in e)return G(e);if("Ptrn"in e)return n({type:"pattern"},W(e));if("Clr "in e)return{type:"color",color:Z(e["Clr "])};throw new Error("Invalid vector content")}function V(e){var t={};return void 0!==e.dither&&(t.Dthr=e.dither),void 0!==e.reverse&&(t.Rvrs=e.reverse),void 0!==e.angle&&(t.Angl=u.unitsAngle(e.angle)),t.Type=u.GrdT.encode(e.style),void 0!==e.align&&(t.Algn=e.align),void 0!==e.scale&&(t["Scl "]=u.unitsPercent(e.scale)),e.offset&&(t.Ofst={Hrzn:u.unitsPercent(e.offset.x),Vrtc:u.unitsPercent(e.offset.y)}),t.Grad=j(e),t}function K(e){var t={Ptrn:{"Nm  ":e.name||"",Idnt:e.id||""}};return void 0!==e.linked&&(t.Lnkd=!!e.linked),void 0!==e.phase&&(t.phase={Hrzn:e.phase.x,Vrtc:e.phase.y}),t}function Y(e){return"color"===e.type?{key:"SoCo",descriptor:{"Clr ":X(e.color)}}:"pattern"===e.type?{key:"PtFl",descriptor:K(e)}:{key:"GdFl",descriptor:V(e)}}function Z(e){if("H   "in e)return{h:u.parsePercentOrAngle(e["H   "]),s:e.Strt,b:e.Brgh};if("Rd  "in e)return{r:e["Rd  "],g:e["Grn "],b:e["Bl  "]};if("Cyn "in e)return{c:e["Cyn "],m:e.Mgnt,y:e["Ylw "],k:e.Blck};if("Gry "in e)return{k:e["Gry "]};if("Lmnc"in e)return{l:e.Lmnc,a:e["A   "],b:e["B   "]};throw new Error("Unsupported color descriptor")}function X(e){if(e){if("r"in e)return{"Rd  ":e.r||0,"Grn ":e.g||0,"Bl  ":e.b||0};if("h"in e)return{"H   ":u.unitsAngle(360*e.h),Strt:e.s||0,Brgh:e.b||0};if("c"in e)return{"Cyn ":e.c||0,Mgnt:e.m||0,"Ylw ":e.y||0,Blck:e.k||0};if("l"in e)return{Lmnc:e.l||0,"A   ":e.a||0,"B   ":e.b||0};if("k"in e)return{"Gry ":e.k};throw new Error("Invalid color value")}return{"Rd  ":0,"Grn ":0,"Bl  ":0}}function q(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],o=e[a];switch(a){case"enab":r.enabled=!!o;break;case"uglg":r.useGlobalLight=!!o;break;case"AntA":r.antialiased=!!o;break;case"Algn":r.align=!!o;break;case"Dthr":r.dither=!!o;break;case"Invr":r.invert=!!o;break;case"Rvrs":r.reverse=!!o;break;case"Clr ":r.color=Z(o);break;case"hglC":r.highlightColor=Z(o);break;case"sdwC":r.shadowColor=Z(o);break;case"Styl":r.position=u.FStl.decode(o);break;case"Md  ":r.blendMode=u.BlnM.decode(o);break;case"hglM":r.highlightBlendMode=u.BlnM.decode(o);break;case"sdwM":r.shadowBlendMode=u.BlnM.decode(o);break;case"bvlS":r.style=u.BESl.decode(o);break;case"bvlD":r.direction=u.BESs.decode(o);break;case"bvlT":r.technique=u.bvlT.decode(o);break;case"GlwT":r.technique=u.BETE.decode(o);break;case"glwS":r.source=u.IGSr.decode(o);break;case"Type":r.type=u.GrdT.decode(o);break;case"Opct":r.opacity=u.parsePercent(o);break;case"hglO":r.highlightOpacity=u.parsePercent(o);break;case"sdwO":r.shadowOpacity=u.parsePercent(o);break;case"lagl":case"Angl":r.angle=u.parseAngle(o);break;case"Lald":r.altitude=u.parseAngle(o);break;case"Sftn":r.soften=u.parseUnits(o);break;case"srgR":r.strength=u.parsePercent(o);break;case"blur":r.size=u.parseUnits(o);break;case"Nose":r.noise=u.parsePercent(o);break;case"Inpr":r.range=u.parsePercent(o);break;case"Ckmt":r.choke=u.parseUnits(o);break;case"ShdN":r.jitter=u.parsePercent(o);break;case"Dstn":r.distance=u.parseUnits(o);break;case"Scl ":r.scale=u.parsePercent(o);break;case"Ptrn":r.pattern={name:o["Nm  "],id:o.Idnt};break;case"phase":r.phase={x:o.Hrzn,y:o.Vrtc};break;case"Ofst":r.offset={x:u.parsePercent(o.Hrzn),y:u.parsePercent(o.Vrtc)};break;case"MpgS":case"TrnS":r.contour={name:o["Nm  "],curve:o["Crv "].map(function(e){return{x:e.Hrzn,y:e.Vrtc}})};break;case"Grad":r.gradient=z(o);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":r[a]=o;break;default:t&&console.log("Invalid effect key: '"+a+"':",o)}}return r}function J(e,t,r){for(var n={},i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];switch(o){case"enabled":n.enab=!!s;break;case"useGlobalLight":n.uglg=!!s;break;case"antialiased":n.AntA=!!s;break;case"align":n.Algn=!!s;break;case"dither":n.Dthr=!!s;break;case"invert":n.Invr=!!s;break;case"reverse":n.Rvrs=!!s;break;case"color":n["Clr "]=X(s);break;case"highlightColor":n.hglC=X(s);break;case"shadowColor":n.sdwC=X(s);break;case"position":n.Styl=u.FStl.encode(s);break;case"blendMode":n["Md  "]=u.BlnM.encode(s);break;case"highlightBlendMode":n.hglM=u.BlnM.encode(s);break;case"shadowBlendMode":n.sdwM=u.BlnM.encode(s);break;case"style":n.bvlS=u.BESl.encode(s);break;case"direction":n.bvlD=u.BESs.encode(s);break;case"technique":"bevel"===t?n.bvlT=u.bvlT.encode(s):n.GlwT=u.BETE.encode(s);break;case"source":n.glwS=u.IGSr.encode(s);break;case"type":n.Type=u.GrdT.encode(s);break;case"opacity":n.Opct=u.unitsPercent(s);break;case"highlightOpacity":n.hglO=u.unitsPercent(s);break;case"shadowOpacity":n.sdwO=u.unitsPercent(s);break;case"angle":"gradientOverlay"===t?n.Angl=u.unitsAngle(s):n.lagl=u.unitsAngle(s);break;case"altitude":n.Lald=u.unitsAngle(s);break;case"soften":n.Sftn=u.unitsValue(s,o);break;case"strength":n.srgR=u.unitsPercent(s);break;case"size":n.blur=u.unitsValue(s,o);break;case"noise":n.Nose=u.unitsPercent(s);break;case"range":n.Inpr=u.unitsPercent(s);break;case"choke":n.Ckmt=u.unitsValue(s,o);break;case"jitter":n.ShdN=u.unitsPercent(s);break;case"distance":n.Dstn=u.unitsValue(s,o);break;case"scale":n["Scl "]=u.unitsPercent(s);break;case"pattern":n.Ptrn={"Nm  ":s.name,Idnt:s.id};break;case"phase":n.phase={Hrzn:s.x,Vrtc:s.y};break;case"offset":n.Ofst={Hrzn:u.unitsPercent(s.x),Vrtc:u.unitsPercent(s.y)};break;case"contour":n["satin"===t?"MpgS":"TrnS"]={"Nm  ":s.name,"Crv ":s.curve.map(function(e){return{Hrzn:e.x,Vrtc:e.y}})};break;case"gradient":n.Grad=j(s);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":n[o]=s;break;default:r&&console.log("Invalid effect key: '"+o+"' value:",s)}}return n}f("grdm",_("gradient map"),function(e,t,r){if(1!==s.readUint16(e))throw new Error("Invalid grdm version");var n={type:"gradient map",gradientType:"solid"};n.reverse=!!s.readUint8(e),n.dither=!!s.readUint8(e),n.name=s.readUnicodeString(e),n.colorStops=[],n.opacityStops=[];for(var i=s.readUint16(e),a=0;a<i;a++)n.colorStops.push({location:s.readUint32(e),midpoint:s.readUint32(e)/100,color:s.readColor(e)}),s.skipBytes(e,2);var o=s.readUint16(e);for(a=0;a<o;a++)n.opacityStops.push({location:s.readUint32(e),midpoint:s.readUint32(e)/100,opacity:s.readUint16(e)/255});if(2!==s.readUint16(e))throw new Error("Invalid grdm expansion count");var l=s.readUint16(e);if(n.smoothness=l/4096,32!==s.readUint16(e))throw new Error("Invalid grdm length");n.gradientType=s.readUint16(e)?"noise":"solid",n.randomSeed=s.readUint32(e),n.addTransparency=!!s.readUint16(e),n.restrictColors=!!s.readUint16(e),n.roughness=s.readUint32(e)/4096,n.colorModel=F[s.readUint16(e)]||"rgb",n.min=[s.readUint16(e)/32768,s.readUint16(e)/32768,s.readUint16(e)/32768,s.readUint16(e)/32768],n.max=[s.readUint16(e)/32768,s.readUint16(e)/32768,s.readUint16(e)/32768,s.readUint16(e)/32768],s.skipBytes(e,r());for(var u=0,d=n.colorStops;u<d.length;u++)d[u].location/=l;for(var c=0,f=n.opacityStops;c<f.length;c++)f[c].location/=l;t.adjustment=n},function(e,t){var r,n,i,a=t.adjustment;l.writeUint16(e,1),l.writeUint8(e,a.reverse?1:0),l.writeUint8(e,a.dither?1:0),l.writeUnicodeStringWithPadding(e,a.name||""),l.writeUint16(e,a.colorStops&&a.colorStops.length||0);for(var o=Math.round(4096*(null!==(r=a.smoothness)&&void 0!==r?r:1)),s=0,u=a.colorStops||[];s<u.length;s++){var d=u[s];l.writeUint32(e,Math.round(d.location*o)),l.writeUint32(e,Math.round(100*d.midpoint)),l.writeColor(e,d.color),l.writeZeros(e,2)}l.writeUint16(e,a.opacityStops&&a.opacityStops.length||0);for(var c=0,f=a.opacityStops||[];c<f.length;c++)d=f[c],l.writeUint32(e,Math.round(d.location*o)),l.writeUint32(e,Math.round(100*d.midpoint)),l.writeUint16(e,Math.round(255*d.opacity));l.writeUint16(e,2),l.writeUint16(e,o),l.writeUint16(e,32),l.writeUint16(e,"noise"===a.gradientType?1:0),l.writeUint32(e,a.randomSeed||0),l.writeUint16(e,a.addTransparency?1:0),l.writeUint16(e,a.restrictColors?1:0),l.writeUint32(e,Math.round(4096*(null!==(n=a.roughness)&&void 0!==n?n:1)));var h=F.indexOf(null!==(i=a.colorModel)&&void 0!==i?i:"rgb");l.writeUint16(e,-1===h?3:h);for(var p=0;p<4;p++)l.writeUint16(e,Math.round(32768*(a.min&&a.min[p]||0)));for(p=0;p<4;p++)l.writeUint16(e,Math.round(32768*(a.max&&a.max[p]||0)));l.writeZeros(e,4)}),f("selc",_("selective color"),function(e,t){if(1!==s.readUint16(e))throw new Error("Invalid selc version");var r=s.readUint16(e)?"absolute":"relative";s.skipBytes(e,8),t.adjustment={type:"selective color",mode:r,reds:O(e),yellows:O(e),greens:O(e),cyans:O(e),blues:O(e),magentas:O(e),whites:O(e),neutrals:O(e),blacks:O(e)}},function(e,t){var r=t.adjustment;l.writeUint16(e,1),l.writeUint16(e,"absolute"===r.mode?1:0),l.writeZeros(e,8),U(e,r.reds),U(e,r.yellows),U(e,r.greens),U(e,r.cyans),U(e,r.blues),U(e,r.magentas),U(e,r.whites),U(e,r.neutrals),U(e,r.blacks)}),f("CgEd",function(e){var t=e.adjustment;return!!t&&("brightness/contrast"===t.type&&!t.useLegacy||("levels"===t.type||"curves"===t.type||"exposure"===t.type||"channel mixer"===t.type||"hue/saturation"===t.type)&&void 0!==t.presetFileName)},function(e,t,r){var i=u.readVersionAndDescriptor(e);if(1!==i.Vrsn)throw new Error("Invalid CgEd version");t.adjustment="presetFileName"in i?n(n({},t.adjustment),{presetKind:i.presetKind,presetFileName:i.presetFileName}):"curvesPresetFileName"in i?n(n({},t.adjustment),{presetKind:i.curvesPresetKind,presetFileName:i.curvesPresetFileName}):"mixerPresetFileName"in i?n(n({},t.adjustment),{presetKind:i.mixerPresetKind,presetFileName:i.mixerPresetFileName}):{type:"brightness/contrast",brightness:i.Brgh,contrast:i.Cntr,meanValue:i.means,useLegacy:!!i.useLegacy,labColorOnly:!!i["Lab "],auto:!!i.Auto},s.skipBytes(e,r())},function(e,t){var r,n,i,a,o=t.adjustment;if("levels"===o.type||"exposure"===o.type||"hue/saturation"===o.type){var s={Vrsn:1,presetKind:null!==(r=o.presetKind)&&void 0!==r?r:1,presetFileName:o.presetFileName||""};u.writeVersionAndDescriptor(e,"","null",s)}else if("curves"===o.type)s={Vrsn:1,curvesPresetKind:null!==(n=o.presetKind)&&void 0!==n?n:1,curvesPresetFileName:o.presetFileName||""},u.writeVersionAndDescriptor(e,"","null",s);else if("channel mixer"===o.type)s={Vrsn:1,mixerPresetKind:null!==(i=o.presetKind)&&void 0!==i?i:1,mixerPresetFileName:o.presetFileName||""},u.writeVersionAndDescriptor(e,"","null",s);else{if("brightness/contrast"!==o.type)throw new Error("Unhandled CgEd case");s={Vrsn:1,Brgh:o.brightness||0,Cntr:o.contrast||0,means:null!==(a=o.meanValue)&&void 0!==a?a:127,"Lab ":!!o.labColorOnly,useLegacy:!!o.useLegacy,Auto:!!o.auto},u.writeVersionAndDescriptor(e,"","null",s)}}),f("Txt2",p("engineData"),function(e,t,r){var n=s.readBytes(e,r());t.engineData=i.fromByteArray(n)},function(e,t){var r=i.toByteArray(t.engineData);l.writeBytes(e,r)}),f("FMsk",p("filterMask"),function(e,t){t.filterMask={colorSpace:s.readColor(e),opacity:s.readUint16(e)/255}},function(e,t){var r;l.writeColor(e,t.filterMask.colorSpace),l.writeUint16(e,255*o.clamp(null!==(r=t.filterMask.opacity)&&void 0!==r?r:1,0,1))}),f("artd",function(e){return void 0!==e.artboards},function(e,t,r){var n=u.readVersionAndDescriptor(e);t.artboards={count:n["Cnt "],autoExpandOffset:{horizontal:n.autoExpandOffset.Hrzn,vertical:n.autoExpandOffset.Vrtc},origin:{horizontal:n.origin.Hrzn,vertical:n.origin.Vrtc},autoExpandEnabled:n.autoExpandEnabled,autoNestEnabled:n.autoNestEnabled,autoPositionEnabled:n.autoPositionEnabled,shrinkwrapOnSaveEnabled:n.shrinkwrapOnSaveEnabled,docDefaultNewArtboardBackgroundColor:Z(n.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:n.docDefaultNewArtboardBackgroundType},s.skipBytes(e,r())},function(e,t){var r,n,i,a,o,s=t.artboards,l={"Cnt ":s.count,autoExpandOffset:s.autoExpandOffset?{Hrzn:s.autoExpandOffset.horizontal,Vrtc:s.autoExpandOffset.vertical}:{Hrzn:0,Vrtc:0},origin:s.origin?{Hrzn:s.origin.horizontal,Vrtc:s.origin.vertical}:{Hrzn:0,Vrtc:0},autoExpandEnabled:null===(r=s.autoExpandEnabled)||void 0===r||r,autoNestEnabled:null===(n=s.autoNestEnabled)||void 0===n||n,autoPositionEnabled:null===(i=s.autoPositionEnabled)||void 0===i||i,shrinkwrapOnSaveEnabled:null===(a=s.shrinkwrapOnSaveEnabled)||void 0===a||a,docDefaultNewArtboardBackgroundColor:X(s.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:null!==(o=s.docDefaultNewArtboardBackgroundType)&&void 0!==o?o:1};u.writeVersionAndDescriptor(e,"","null",l,"artd")}),f("lfx2",p("effects"),function(e,t,r,n,i){var a=!!i.logMissingFeatures;if(0!==s.readUint32(e))throw new Error("Invalid lfx2 version");var o=u.readVersionAndDescriptor(e);t.effects={};var l=t.effects;o.masterFXSwitch||(l.disabled=!0),o["Scl "]&&(l.scale=u.parsePercent(o["Scl "])),o.DrSh&&(l.dropShadow=q(o.DrSh,a)),o.IrSh&&(l.innerShadow=q(o.IrSh,a)),o.OrGl&&(l.outerGlow=q(o.OrGl,a)),o.IrGl&&(l.innerGlow=q(o.IrGl,a)),o.ebbl&&(l.bevel=q(o.ebbl,a)),o.SoFi&&(l.solidFill=q(o.SoFi,a)),o.patternFill&&(l.patternOverlay=q(o.patternFill,a)),o.GrFl&&(l.gradientOverlay=q(o.GrFl,a)),o.ChFX&&(l.satin=q(o.ChFX,a)),o.FrFX&&(l.stroke={enabled:!!o.FrFX.enab,position:u.FStl.decode(o.FrFX.Styl),fillType:u.FrFl.decode(o.FrFX.PntT),blendMode:u.BlnM.decode(o.FrFX["Md  "]),opacity:u.parsePercent(o.FrFX.Opct),size:u.parseUnits(o.FrFX["Sz  "])},o.FrFX["Clr "]&&(l.stroke.color=Z(o.FrFX["Clr "])),o.FrFX.Grad&&(l.stroke.gradient=G(o.FrFX)),o.FrFX.Ptrn&&(l.stroke.pattern=W(o.FrFX))),s.skipBytes(e,r())},function(e,t,r,i){var a,o=!!i.logMissingFeatures,s=t.effects,d={masterFXSwitch:!s.disabled,"Scl ":u.unitsPercent(null!==(a=s.scale)&&void 0!==a?a:1)};s.dropShadow&&(d.DrSh=J(s.dropShadow,"dropShadow",o)),s.innerShadow&&(d.IrSh=J(s.innerShadow,"innerShadow",o)),s.outerGlow&&(d.OrGl=J(s.outerGlow,"outerGlow",o)),s.innerGlow&&(d.IrGl=J(s.innerGlow,"innerGlow",o)),s.bevel&&(d.ebbl=J(s.bevel,"bevel",o)),s.solidFill&&(d.SoFi=J(s.solidFill,"solidFill",o)),s.patternOverlay&&(d.patternFill=J(s.patternOverlay,"patternOverlay",o)),s.gradientOverlay&&(d.GrFl=J(s.gradientOverlay,"gradientOverlay",o)),s.satin&&(d.ChFX=J(s.satin,"satin",o));var c=s.stroke;c&&(d.FrFX={enab:!!c.enabled,Styl:u.FStl.encode(c.position),PntT:u.FrFl.encode(c.fillType),"Md  ":u.BlnM.encode(c.blendMode),Opct:u.unitsPercent(c.opacity),"Sz  ":u.unitsValue(c.size,"size")},c.color&&(d.FrFX["Clr "]=X(c.color)),c.gradient&&(d.FrFX=n(n({},d.FrFX),V(c.gradient))),c.pattern&&(d.FrFX=n(n({},d.FrFX),K(c.pattern)))),l.writeUint32(e,0),u.writeVersionAndDescriptor(e,"","null",d)}),f("cinf",p("compositorUsed"),function(e,t){var r=u.readVersionAndDescriptor(e);t.compositorUsed={description:r.description,reason:r.reason,engine:r.Engn.split(".")[1],enableCompCore:r.enableCompCore.split(".")[1],enableCompCoreGPU:r.enableCompCoreGPU.split(".")[1],compCoreSupport:r.compCoreSupport.split(".")[1],compCoreGPUSupport:r.compCoreGPUSupport.split(".")[1]}},function(e,t){var r=t.compositorUsed;u.writeVersionAndDescriptor(e,"","null",{Vrsn:{major:1,minor:0,fix:0},description:r.description,reason:r.reason,Engn:"Engn."+r.engine,enableCompCore:"enable."+r.enableCompCore,enableCompCoreGPU:"enable."+r.enableCompCoreGPU,compCoreSupport:"reason."+r.compCoreSupport,compCoreGPUSupport:"reason."+r.compCoreGPUSupport})})},"1yL5":function(e,t,r){"use strict";var n;r.d(t,"a",function(){return d});var i=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var o=r("BuRe"),s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));var u=function(e,t,r){var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!Object(o.a)(r))throw TypeError("Stringified UUID is invalid");return r}(n)};function d(){return u()}},"274U":function(module,exports,__webpack_require__){"use strict";(function(Buffer){const Token=__webpack_require__("b1it"),strtok3=__webpack_require__("IcKz"),{stringToBytes:stringToBytes,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint32SyncSafeToken:uint32SyncSafeToken}=__webpack_require__("W3re"),supported=__webpack_require__("2Iqx"),minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(t&&t.length>1)return fromTokenizer(strtok3.fromBuffer(t))}function _check(e,t,r){r={offset:0,...r};for(const[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const r=(e,r)=>_check(t,e,r),n=(e,t)=>r(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:12,mayBeLess:!0}),r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(r([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),n("PS-Adobe-",{offset:2})&&n(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n("ID3")){await e.ignore(6);const t=await e.readToken(uint32SyncSafeToken);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),fromTokenizer(e))}if(n("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n("FLIF"))return{ext:"flif",mime:"image/flif"};if(n("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(n("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(n("FORM"))return{ext:"aif",mime:"audio/aiff"};if(n("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(r([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});const r={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(r.filename=await e.readToken(new Token.StringType(r.filenameLength,"utf-8")),await e.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize)switch(await e.readToken(new Token.StringType(r.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===r.compressedSize){let r=-1;for(;r<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),r=t.indexOf("504B0304",0,"hex"),await e.ignore(r>=0?r:t.length)}else await e.ignore(r.compressedSize)}}catch(l){if(!(l instanceof strtok3.EndOfStreamError))throw l}return{ext:"zip",mime:"application/zip"}}if(n("OggS")){await e.ignore(28);const t=Buffer.alloc(8);return await e.readBuffer(t),_check(t,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(r([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n("ftyp",{offset:4})&&0!=(96&t[8])){const e=t.toString("binary",8,12).replace("\0"," ").trim();switch(e){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(n("MThd"))return{ext:"mid",mime:"audio/midi"};if(n("wOFF")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(n("wOF2")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([212,195,178,161])||r([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(n("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(n("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(n("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(n("%PDF")){await e.ignore(1350);const t=Buffer.alloc(Math.min(10485760,e.fileInfo.size));return await e.readBuffer(t,{mayBeLess:!0}),t.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([73,73,42,0]))return n("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:r([28,0,254,0],{offset:8})||r([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:r([8,0,0,0],{offset:4})&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n("MAC "))return{ext:"ape",mime:"audio/ape"};if(r([26,69,223,163])){async function i(){const t=await e.peekNumber(Token.UINT8);let r=128,n=0;for(;0==(t&r);)++n,r>>=1;const i=Buffer.alloc(n+1);return await e.readBuffer(i),i}async function a(){const e=await i(),t=await i();t[0]^=128>>t.length-1;const r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}const t=await a();switch(await async function(t,r){for(;r>0;){const t=await a();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--r}}(0,t.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n("MSCF")||n("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(r([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(n("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n("IMPM"))return{ext:"it",mime:"audio/x-it"};if(n("-lh0-",{offset:2})||n("-lh1-",{offset:2})||n("-lh2-",{offset:2})||n("-lh3-",{offset:2})||n("-lh4-",{offset:2})||n("-lh5-",{offset:2})||n("-lh6-",{offset:2})||n("-lh7-",{offset:2})||n("-lzs-",{offset:2})||n("-lz4-",{offset:2})||n("-lz5-",{offset:2})||n("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(r([0,0,1,186])){if(r([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(r([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(n("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(n("BEGIN:"))return{ext:"ics",mime:"text/calendar"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n("solid "))return{ext:"stl",mime:"model/stl"};if(n("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(n("!<arch>"))return await e.ignore(8),"debian-binary"===await e.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(r([137,80,78,71,13,10,26,10])){async function o(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{const t=await o();if(t.length<0)return;switch(t.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(t.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(r([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(r([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(r([48,38,178,117,142,102,207,17,166,217])){async function s(){const t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:await e.readToken(Token.UINT64_LE)}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const t=await s();let r=t.size-24;if(_check(t.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const t=Buffer.alloc(16);if(r-=await e.readBuffer(t),_check(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(r)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(r([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(n("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(n("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(r([4,0,0,0])&&t.length>=16){const e=t.readUInt32LE(12);if(e>12&&e<240&&t.length>=e+16)try{const r=t.slice(16,e+16).toString();if(JSON.parse(r).files)return{ext:"asar",mime:"application/x-asar"}}catch(u){}}if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(r([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(n("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};for(let d=0;d<2&&d<t.length-16;d++)if(t.length>=d+2&&r([255,224],{offset:d,mask:[255,224]})){if(r([16],{offset:d+1,mask:[22]}))return r([8],{offset:d+1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(r([2],{offset:d+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([4],{offset:d+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([6],{offset:d+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const e=new stream.PassThrough;let t;t=stream.pipeline?stream.pipeline(readableStream,e,()=>{}):readableStream.pipe(e);const r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const t=await fromBuffer(r);e.fileType=t}catch(n){reject(n)}resolve(t)})}),fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType}).call(this,__webpack_require__("tjlA").Buffer)},"2Iqx":function(e,t,r){"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","application/zstd"]}},3:function(e,t){},4:function(e,t){},"41vA":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeEngineData=t.decodeEngineData=void 0;var i={name:"MyriadPro-Regular",script:0,type:0,synthetic:0},a={justification:"left",firstLineIndent:0,startIndent:0,endIndent:0,spaceBefore:0,spaceAfter:0,autoHyphenate:!0,hyphenatedWordSize:6,preHyphen:2,postHyphen:2,consecutiveHyphens:8,zone:36,wordSpacing:[.8,1,1.33],letterSpacing:[0,0,0],glyphSpacing:[1,1,1],autoLeading:1.2,leadingType:0,hanging:!1,burasagari:!1,kinsokuOrder:0,everyLineComposer:!1},o={font:i,fontSize:12,fauxBold:!1,fauxItalic:!1,autoLeading:!0,leading:0,horizontalScale:1,verticalScale:1,tracking:0,autoKerning:!0,kerning:0,baselineShift:0,fontCaps:0,fontBaseline:0,underline:!1,strikethrough:!1,ligatures:!0,dLigatures:!1,baselineDirection:2,tsume:0,styleRunAlignment:2,language:0,noBreak:!1,fillColor:{r:0,g:0,b:0},strokeColor:{r:0,g:0,b:0},fillFlag:!0,strokeFlag:!1,fillFirst:!0,yUnderline:1,outlineWidth:1,characterDirection:0,hindiNumbers:!1,kashida:1,diacriticPos:2},s={isOn:!1,show:!1,size:18,leading:22,color:{r:0,g:0,b:255},leadingFillColor:{r:0,g:0,b:255},alignLineHeightToGridFlags:!1},l=["justification","firstLineIndent","startIndent","endIndent","spaceBefore","spaceAfter","autoHyphenate","hyphenatedWordSize","preHyphen","postHyphen","consecutiveHyphens","zone","wordSpacing","letterSpacing","glyphSpacing","autoLeading","leadingType","hanging","burasagari","kinsokuOrder","everyLineComposer"],u=["font","fontSize","fauxBold","fauxItalic","autoLeading","leading","horizontalScale","verticalScale","tracking","autoKerning","kerning","baselineShift","fontCaps","fontBaseline","underline","strikethrough","ligatures","dLigatures","baselineDirection","tsume","styleRunAlignment","language","noBreak","fillColor","strokeColor","fillFlag","strokeFlag","fillFirst","yUnderline","outlineWidth","characterDirection","hindiNumbers","kashida","diacriticPos"],d=["none","crisp","strong","smooth","sharp"],c=["left","right","center"];function f(e){return e.substr(0,1).toUpperCase()+e.substr(1)}function h(e){return e&&"r"in e?["a"in e?e.a:1,e.r/255,e.g/255,e.b/255]:[0,0,0,0]}function p(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function g(e,t){if(!e||!t)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++)if(e[o=n[r]]!==t[o])return!1;for(var i=0,a=Object.keys(t);i<a.length;i++){var o;if(e[o=a[i]]!==t[o])return!1}return!0}function m(e,t){for(var r=0;r<e.length;r++)if(e[r].name===t.name)return r;return e.push(t),e.length-1}function v(e,t,r){for(var n,i,a={},o=0,s=t;o<s.length;o++){var l=s[o],u=f(l);void 0!==e[u]&&(a[l]="justification"===l?c[e[u]]:"font"===l?r[e[u]]:"fillColor"===l||"strokeColor"===l?(i=(n=e[u]).Values,0===n.Type?{r:255*i[1],g:255*i[1],b:255*i[1]}:{r:255*i[1],g:255*i[2],b:255*i[3],a:i[0]}):e[u])}return a}function b(e,t,r){for(var n,i={},a=0,o=t;a<o.length;a++){var s=o[a],l=f(s);void 0!==e[s]&&(i[l]="justification"===s?c.indexOf(null!==(n=e[s])&&void 0!==n?n:"left"):"font"===s?m(r,e[s]):"fillColor"===s||"strokeColor"===s?{Type:1,Values:h(e[s])}:e[s])}return i}function y(e,t){return v(e,l,t)}function w(e,t){return v(e,u,t)}function _(e,t){return b(e,l,t)}function x(e,t){return b(e,u,t)}function E(e,t,r){if(t.length){for(var n=function(r){var n=t[0].style[r];if(void 0!==n&&(Array.isArray(n)?t.every(function(e){return p(e.style[r],n)}):t.every("object"==typeof n?function(e){return g(e.style[r],n)}:function(e){return e.style[r]===n}))&&(e[r]=n),void 0!==e[r])for(var i=0,a=t;i<a.length;i++){var o=a[i];(Array.isArray(n)?p(o.style[r],n):"object"==typeof n?g(o.style[r],n):o.style[r]===n)&&delete o.style[r]}},i=0,a=r;i<a.length;i++)n(a[i]);t.every(function(e){return 0===Object.keys(e.style).length})&&(t.length=0)}}t.decodeEngineData=function(e){var t,r,n,i,a,o,s=e.EngineDict,c=e.ResourceDict,f=c.FontSet.map(function(e){return{name:e.Name,script:e.Script,type:e.FontType,synthetic:e.Synthetic}}),h={text:s.Editor.Text.replace(/\r/g,"\n").replace(/\n$/,""),antiAlias:null!==(t=d[s.AntiAlias])&&void 0!==t?t:"smooth",useFractionalGlyphWidths:!!s.UseFractionalGlyphWidths,superscriptSize:c.SuperscriptSize,superscriptPosition:c.SuperscriptPosition,subscriptSize:c.SubscriptSize,subscriptPosition:c.SubscriptPosition,smallCapSize:c.SmallCapSize},p=null===(o=null===(a=null===(i=null===(n=null===(r=s.Rendered)||void 0===r?void 0:r.Shapes)||void 0===n?void 0:n.Children)||void 0===i?void 0:i[0])||void 0===a?void 0:a.Cookie)||void 0===o?void 0:o.Photoshop;p&&(h.shapeType=1===p.ShapeType?"box":"point",p.PointBase&&(h.pointBase=p.PointBase),p.BoxBounds&&(h.boxBounds=p.BoxBounds));var g=e.EngineDict.ParagraphRun;h.paragraphStyle={},h.paragraphStyleRuns=[];for(var m=0;m<g.RunArray.length;m++){var v=g.RunLengthArray[m],b=y(g.RunArray[m].ParagraphSheet.Properties,f);h.paragraphStyleRuns.push({length:v,style:b})}E(h.paragraphStyle,h.paragraphStyleRuns,l),h.paragraphStyleRuns.length||delete h.paragraphStyleRuns;var _=e.EngineDict.StyleRun;for(h.style={},h.styleRuns=[],m=0;m<_.RunArray.length;m++){var x=_.RunLengthArray[m];b=w(_.RunArray[m].StyleSheet.StyleSheetData,f),h.styleRuns.push({length:x,style:b})}return E(h.style,h.styleRuns,u),h.styleRuns.length||delete h.styleRuns,h},t.encodeEngineData=function(e){var t,r,l,u,c,f,p,g,m,v,b,y,w=(e.text||"").replace(/\r?\n/g,"\r")+"\r",E=[{name:"AdobeInvisFont",script:0,type:0,synthetic:0}],S=(null===(t=e.style)||void 0===t?void 0:t.font)||(null===(l=null===(r=e.styleRuns)||void 0===r?void 0:r.find(function(e){return e.style.font}))||void 0===l?void 0:l.style.font)||i,k=[],T=[];if(e.paragraphStyleRuns&&e.paragraphStyleRuns.length)for(var R=0,B=e.paragraphStyleRuns;R<B.length;R++){var C=B[R];T.push(C.length),k.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:_(n(n(n({},a),e.paragraphStyle),C.style),E)},Adjustments:{Axis:[1,0,1],XY:[0,0]}})}else for(var A=0,I=0;A<w.length;A++)13===w.charCodeAt(A)&&(T.push(A-I+1),k.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:_(n(n({},a),e.paragraphStyle),E)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}),I=A+1);for(var D=x(n(n({},o),{font:S}),E),L=[],P=[],F=0,O=e.styleRuns||[{length:w.length,style:e.style||{}}];F<O.length;F++){var U=O[F];P.push(U.length),L.push({StyleSheet:{StyleSheetData:x(n(n({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},e.style),U.style),E)}})}var M=n(n({},s),e.gridInfo),N="vertical"===e.orientation?2:0,z="vertical"===e.orientation?1:0,j="box"===e.shapeType?1:0,G={ShapeType:j};0===j?G.PointBase=e.pointBase||[0,0]:G.BoxBounds=e.boxBounds||[0,0,0,0],G.Base={ShapeType:j,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]};var W={KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uff0c\uff0e\u30fb\uff1a\uff1b\uff1f\uff01\u30fc\u2015\u2019\u201d\uff09\u3015\uff3d\uff5d\u3009\u300b\u300d\u300f\u3011\u30fd\u30fe\u309d\u309e\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u309b\u309c?!)]},.:;\u2103\u2109\xa2\uff05\u2030",NoEnd:"\u2018\u201c\uff08\u3014\uff3b\uff5b\u3008\u300a\u300c\u300e\u3010([{\uffe5\uff04\xa3\uff20\xa7\u3012\uff03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uff0c\uff0e\u30fb\uff1a\uff1b\uff1f\uff01\u2019\u201d\uff09\u3015\uff3d\uff5d\u3009\u300b\u300d\u300f\u3011\u30fd\u30fe\u309d\u309e\u3005",NoEnd:"\u2018\u201c\uff08\u3014\uff3b\uff5b\u3008\u300a\u300c\u300e\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:_(n(n({},a),e.paragraphStyle),E)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:D}],FontSet:E.map(function(e){return{Name:e.name,Script:e.script||0,FontType:e.type||0,Synthetic:e.synthetic||0}}),SuperscriptSize:null!==(u=e.superscriptSize)&&void 0!==u?u:.583,SuperscriptPosition:null!==(c=e.superscriptPosition)&&void 0!==c?c:.333,SubscriptSize:null!==(f=e.subscriptSize)&&void 0!==f?f:.583,SubscriptPosition:null!==(p=e.subscriptPosition)&&void 0!==p?p:.333,SmallCapSize:null!==(g=e.smallCapSize)&&void 0!==g?g:.7};return{EngineDict:{Editor:{Text:w},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:k,RunLengthArray:T,IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:L,RunLengthArray:P,IsJoinable:2},GridInfo:{GridIsOn:!!M.isOn,ShowGrid:!!M.show,GridSize:null!==(m=M.size)&&void 0!==m?m:18,GridLeading:null!==(v=M.leading)&&void 0!==v?v:22,GridColor:{Type:1,Values:h(M.color)},GridLeadingFillColor:{Type:1,Values:h(M.color)},AlignLineHeightToGridFlags:!!M.alignLineHeightToGridFlags},AntiAlias:d.indexOf(null!==(b=e.antiAlias)&&void 0!==b?b:"sharp"),UseFractionalGlyphWidths:null===(y=e.useFractionalGlyphWidths)||void 0===y||y,Rendered:{Version:1,Shapes:{WritingDirection:N,Children:[{ShapeType:j,Procession:z,Lines:{WritingDirection:N,Children:[]},Cookie:{Photoshop:G}}]}}},ResourceDict:n({},W),DocumentResources:n({},W)}}},"49sm":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"4ROa":function(e,t,r){"use strict";var n=r("Gwi7").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},"4s7s":function(e,t,r){"use strict";function n(e,t){return new RegExp(t).test(e.type?e.type:e.name)}r.d(t,"a",function(){return n}),r("BuRe")},"4uRP":function(e,t,r){"use strict";r.d(t,"a",function(){return g}),r.d(t,"c",function(){return m}),r.d(t,"b",function(){return v});const n=Math.pow(2,1),i=Math.pow(2,2),a=Math.pow(2,3),o=Math.pow(2,4),s=Math.pow(2,5),l=Math.pow(2,6),u=Math.pow(2,7),d=Math.pow(2,8),c=Math.pow(2,9),f=Math.pow(2,10),h=Math.pow(2,11),p=Math.pow(2,12);function g(e,t,r){const n=e,i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t,r,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);const a=n.createFramebuffer();return n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0),n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),{framebuffer:a,texture:i}}function m(e,t){const r=e,g=r.createTexture(),m=r.RGBA,v=r.RGBA,b=r.UNSIGNED_BYTE;return r.bindTexture(r.TEXTURE_2D,g),r.texImage2D(r.TEXTURE_2D,0,m,v,b,function(e){const t=function(e){let t=0;return t=e<i?n:i<=e&&e<a?i:a<=e&&e<o?a:o<=e&&e<s?o:s<=e&&e<l?s:l<=e&&e<u?l:u<=e&&e<d?u:d<=e&&e<c?d:c<=e&&e<f?c:f<=e&&e<h?f:h<=e&&e<p?h:p,t}(e.width>=e.height?e.width:e.height),r=document.createElement("canvas");r.width=t,r.height=t;const g=r.getContext("2d");return e instanceof HTMLImageElement||e instanceof HTMLImageElement?g.drawImage(e,0,0,r.width,r.height):e instanceof ImageData&&g.putImageData(e,0,0),r}(t)),r.generateMipmap(r.TEXTURE_2D),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.bindTexture(r.TEXTURE_2D,null),g}function v(e,t,r,n,i){const a=e,o=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,o),function(e,t,r,n,i){const a=t+n,o=r+i;e.bufferData(e.ARRAY_BUFFER,new Float32Array([t,r,a,r,t,o,a,o]),e.STATIC_DRAW)}(a,t,r,n,i);const s=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,2,1,3]),a.STATIC_DRAW);const l=a.createBuffer();return a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,1,1]),a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,null),{position:o,index:s,textureCoord:l}}},"67IB":function(e,t,r){"use strict";const{ReadableWebToNodeStream:n}=r("XPDt"),i=r("BJdv"),a=r("274U");Object.assign(e.exports,a,{fromStream:async function(e){const t=new n(e),r=await a.fromStream(t);return await t.close(),r},fromBlob:async function(e){const t=await function(e){return new Promise((t,r)=>{const n=new FileReader;n.addEventListener("loadend",e=>{let r=e.target.result;r instanceof ArrayBuffer&&(r=i(new Uint8Array(e.target.result))),t(r)}),n.addEventListener("error",e=>{r(new Error(e.message))}),n.addEventListener("abort",e=>{r(new Error(e.type))}),n.readAsArrayBuffer(e)})}(e);return a.fromBuffer(t)}})},"813Z":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class n extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=n},"8oxB":function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,u=[],d=!1,c=-1;function f(){d&&l&&(d=!1,l.length?u=l.concat(u):c=-1,u.length&&h())}function h(){if(!d){var e=s(f);d=!0;for(var t=u.length;t;){for(l=u,u=[];++c<t;)l&&l[c].run();c=-1,t=u.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||d||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},ANlV:function(e,t,r){"use strict";r.d(t,"b",function(){return J}),r.d(t,"d",function(){return Q}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return $});var n=r("GMPE");class i{constructor(){this.entity=null,this.notifyType="",this.defaultEvent=null,this.flags={clipboard:{isCopy:!1,isCut:!1,isPaste:!1},pointer:{base:{isCancel:!1,isDown:!1,isEnter:!1,isLeave:!1,isMove:!1,isOut:!1,isOver:!1,isUp:!1,isDownMove:!1},meta:{isShiftKey:!1,isMetaKey:!1,isCtrlKey:!1,isAltKey:!1,isMultiTouch:!1,isPrimary:!1,isTouch:!1},state:{isBackDown:!1,isBackMove:!1,isBackUp:!1,isEraserDown:!1,isEraserMove:!1,isEraserUp:!1,isForwardDown:!1,isForwardMove:!1,isForwardUp:!1,isLeftDown:!1,isLeftMove:!1,isLeftUp:!1,isMiddleDown:!1,isMiddleMove:!1,isMiddleUp:!1,isRightDown:!1,isRightMove:!1,isRightUp:!1}},keyboard:{isAltKey:!1,isCtrlKey:!1,isKeydown:!1,isKeyup:!1,isMetaKey:!1,isRepeat:!1,isShiftKey:!1},drag:{isDrag:!1,isDragEnd:!1,isDragEnter:!1,isDragLeave:!1,isDragOver:!1,isDragStart:!1,isDrop:!1},event:{isFullscreen:!1,isFullscreenSupported:!1,isOnline:!1},mouse:{isAltKey:!1,isCtrlKey:!1,isMetaKey:!1,isShiftKey:!1,isClick:!1,isContextmenu:!1,isDblClick:!1},wheel:{isWheelStart:!1,isWheelEnd:!1,isWheel:!1}},this.values={clipboard:{data:null,files:[]},pointer:{current:{x:-1/0,y:-1/0},prev:{x:-1/0,y:-1/0},diff:{x:0,y:0},raw:{x:-1/0,y:-1/0},tmp:{x:-1/0,y:-1/0}},keyboard:{key:"",location:""},drag:{client:{x:0,y:0},data:null,files:[]},event:{},mouse:{button:"",buttons:[]},wheel:{deltaX:0,deltaY:0,deltaZ:0}}}}var a=function(e){return e[e.NO_CHANGE=-1]="NO_CHANGE",e[e.LEFT=0]="LEFT",e[e.MIDDLE=1]="MIDDLE",e[e.RIGHT=2]="RIGHT",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD",e[e.ERASER=5]="ERASER",e}({}),o=function(e){return e[e.NO_BUTTON=0]="NO_BUTTON",e[e.LEFT_RIGHT=3]="LEFT_RIGHT",e[e.LEFT_MIDDLE=5]="LEFT_MIDDLE",e[e.LEFT_BACK=7]="LEFT_BACK",e[e.LEFT_FORWARD=17]="LEFT_FORWARD",e[e.RIGHT_MIDDLE=6]="RIGHT_MIDDLE",e[e.RIGHT_BACK=10]="RIGHT_BACK",e[e.RIGHT_FORWARD=18]="RIGHT_FORWARD",e[e.MIDDLE_BACK=12]="MIDDLE_BACK",e[e.MIDDLE_FORWARD=20]="MIDDLE_FORWARD",e[e.BACK_FORWARD=24]="BACK_FORWARD",e}({}),s=function(e){return e.LEFT="left",e.MIDDLE="middle",e.RIGHT="right",e.BACK="back",e.FORWARD="forward",e.ERASER="eraser",e}({}),l=function(e){return e.DOWN="pointerdown",e.UP="pointerup",e.MOVE="pointermove",e.OVER="pointerover",e.ENTER="pointerenter",e.CANCEL="pointercancel",e.OUT="pointerout",e.LEAVE="pointerleave",e}({}),u=function(e){return e.STANDARD="standard",e.LEFT="left",e.RIGHT="right",e.NUMPAD="numpad",e}({}),d=function(e){return e.GLOBAL="global",e.TARGET="target",e}({}),c=function(e){return e.INIT="init",e.CLIPBOARD="clipboard",e.KEYBOARD="keyboard",e.POINTER="pointer",e.DRAG="drag",e.EVENT="event",e.MOUSE="mouse",e.WHEEL="wheel",e.RENDER="render",e.ANY="any",e}({});const f=["pointerdown","pointerup","pointermove","pointerover","pointerenter","pointercancel","pointerout","pointerleave"],h=["wheel"],p=["click","dblclick"],g=["contextmenu"],m=["fullscreenchange, fullscreenerror"],v=["online","offline"],b=["drag","dragend","dragenter","dragstart","dragleave","dragover","drop"],y=["cut","copy","paste"],w=["keydown","keyup","keypress"];var _=r("2Vo4"),x=r("HDdC");class E{constructor(){this.notifyEvent=new _.a({})}update(e){this.notifyEvent.next(e)}getValue(){return this.notifyEvent.getValue()}observer(){return new x.a(e=>{this.notifyEvent.subscribe(t=>{this.notifyType&&e.next({notifyType:this.notifyType,content:t})})})}}class S{constructor(){this._store=new i,this._userStore=null,this.updateNotifier=new E,this.flagUpdator={[c.CLIPBOARD]:e=>this.updateClipboardFlags(e),[c.KEYBOARD]:e=>this.updateKeyboardFlags(e),[c.POINTER]:e=>this.updatePointerFlags(e),[c.DRAG]:e=>this.updateDragFlags(e),[c.EVENT]:e=>this.updateEventFlgas(e),[c.MOUSE]:e=>this.updateMouseFlags(e),[c.WHEEL]:e=>this.updateWheelFlags(e)},this.valueUpdator={[c.CLIPBOARD]:e=>this.updateClipboardData(e),[c.KEYBOARD]:e=>this.updateKeyboardValues(e),[c.POINTER]:e=>{},[c.DRAG]:e=>this.updateDragValues(e),[c.EVENT]:e=>this.updateEventValues(e),[c.MOUSE]:e=>this.updateMouseValues(e),[c.WHEEL]:e=>this.updateWheelValues(e)}}get store(){return this._store}get userStore(){return this._userStore}registerEntity(e){this._store.entity=e}registerStore(e){this._userStore=e}updateFlags(e,t){if(!this.flagUpdator[e])throw new Error("Invalid event type is detected.");this.flagUpdator[e](t)}updateValues(e,t){if(!this.valueUpdator[e])throw new Error("Invalid event type is detected.");this.valueUpdator[e](t)}updateNotifyType(e){this._store.notifyType=e}updateDefaultEvent(e){this._store.defaultEvent=e}updateClipboardFlags(e){this._store.flags.clipboard=e}updateClipboardData(e){this._store.values.clipboard.data=e.data}updateKeyboardFlags(e){this._store.flags.keyboard=e}updateKeyboardValues(e){this._store.values.keyboard=e}updatePointerFlags(e){this._store.flags.pointer=e}updatePointerOffset(e,t){var r;const n=e,i=t,a=(null===(r=this._store.entity)||void 0===r?void 0:r.element.getBoundingClientRect())||{x:0,y:0},o=this._store.values.pointer,s={x:i.client.x-a.x,y:i.client.y-a.y},l={x:s.x-this._store.values.pointer.prev.x,y:s.y-this._store.values.pointer.prev.y};let u={current:s,diff:l,raw:{x:i.client.x,y:i.client.y},tmp:{x:i.tmpClient.x-a.x,y:i.tmpClient.y-a.y},prev:o.prev};n.base.isDown||n.base.isUp?u=Object.assign({},u,{prev:s,diff:{x:0,y:0}}):n.base.isDownMove&&(u=Object.assign({},u,{diff:l})),this._store.values.pointer=Object.assign({},o,u)}updateDragFlags(e){this._store.flags.drag=e}updateDragValues(e){this._store.values.drag.client=e.client,this._store.values.drag.data=e.data}updateEventFlgas(e){this._store.flags.event=e}updateEventValues(e){this._store.values.event=e}updateMouseFlags(e){this._store.flags.mouse=e}updateMouseValues(e){this._store.values.mouse=e}updateWheelFlags(e){this._store.flags.wheel=e}updateWheelValues(e){this._store.values.wheel=e}}var k=r("mrSG");class T{constructor(){this._flags={},this._values={}}get flags(){return this._flags}get values(){return this._values}init(e){this._flags=this.generateFlags(e),this._values=this.generateValues(e)}}class R extends T{constructor(){super()}generateFlags(){return{isFullscreen:!!document.fullscreenElement,isFullscreenSupported:document.fullscreenEnabled,isOnline:navigator.onLine}}generateValues(){return{}}}class B{constructor(e){this.notifier=e.notifier,this.eventStore=e.eventStore}}class C extends B{constructor(e){super(e)}onFullscreenchange(e){const{flags:t,values:r}=this._getFilterContent(e);this._publish(t,r,e)}onFullscreenerror(e){const{flags:t,values:r}=this._getFilterContent(e);this._publish(t,r,e)}onOnline(e){const{flags:t,values:r}=this._getFilterContent(e);this._publish(t,r,e)}onOffline(e){const{flags:t,values:r}=this._getFilterContent(e);this._publish(t,r,e)}_getFilterContent(e){const t=new R;return t.init(e),{flags:t.flags,values:t.values,filter:t}}_publish(e,t,r){this.notifier.update({flags:e,values:t,eventType:c.EVENT,defaultEvent:r})}}function A(e){let t;switch(e){case a.LEFT:t=s.LEFT;break;case a.MIDDLE:t=s.MIDDLE;break;case a.RIGHT:t=s.RIGHT;break;case a.BACK:t=s.BACK;break;case a.FORWARD:t=s.FORWARD}return t||null}function I(e){let t=[];switch(e){case o.LEFT_RIGHT:t=[s.LEFT,s.RIGHT];break;case o.LEFT_MIDDLE:t=[s.LEFT,s.MIDDLE];break;case o.LEFT_BACK:t=[s.LEFT,s.BACK];break;case o.LEFT_FORWARD:t=[s.LEFT,s.FORWARD];break;case o.RIGHT_MIDDLE:t=[s.RIGHT,s.MIDDLE];break;case o.RIGHT_BACK:t=[s.RIGHT,s.BACK];break;case o.RIGHT_FORWARD:t=[s.RIGHT,s.FORWARD];break;case o.MIDDLE_BACK:t=[s.MIDDLE,s.BACK];break;case o.MIDDLE_FORWARD:t=[s.MIDDLE,s.FORWARD];break;case o.BACK_FORWARD:t=[s.BACK,s.FORWARD]}return t}class D extends T{constructor(){super()}generateFlags(e){return{isAltKey:e.altKey,isCtrlKey:e.ctrlKey,isMetaKey:e.metaKey,isShiftKey:e.shiftKey,isClick:!1,isDblClick:!1,isContextmenu:!1}}generateValues(e){return{button:A(e.button),buttons:I(e.buttons)}}}class L extends B{constructor(e){super(e)}onClick(e){const{flags:t,values:r}=this._getFilterContent(e);t.isClick=!0,this._publish(t,r,e)}onDblClick(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDblClick=!0,this._publish(t,r,e)}onContextmenu(e){const{flags:t,values:r}=this._getFilterContent(e);t.isContextmenu=!0,this._publish(t,r,e)}_getFilterContent(e){const t=new D;return t.init(e),{flags:t.flags,values:t.values,filter:t}}_publish(e,t,r){this.notifier.update({flags:e,values:t,eventType:c.MOUSE,defaultEvent:r})}}class P extends T{constructor(){super()}generateFlags(){return{isWheelStart:!1,isWheelEnd:!1,isWheel:!0}}generateValues(e){return{deltaX:e.deltaX,deltaY:e.deltaY,deltaZ:e.deltaZ}}}class F extends B{constructor(e){super(e),this.wheelCounter1=0,this.wheelCounter2=0,this.wheelMaker=!0}onWheel(e){const t=new P;t.init(e),this._detectWheelEnd(t.flags,t.values,e)}_detectWheelEnd(e,t,r){0===this.wheelCounter1&&(e.isWheelStart=!0,e.isWheel=!1),this.notifier.update({flags:e,values:t,eventType:c.WHEEL,defaultEvent:r}),this.wheelCounter1+=1,this.wheelMaker&&this._wheelStart(e,t,r)}_wheelStart(e,t,r){this.wheelMaker=!1,this._wheelAct(e,t,r)}_wheelAct(e,t,r){this.wheelCounter2=this.wheelCounter1,setTimeout(()=>{this.wheelCounter2===this.wheelCounter1?this._wheelEnd(e,t,r):this._wheelAct(e,t,r)},500)}_wheelEnd(e,t,r){this.wheelCounter1=0,this.wheelCounter2=0,this.wheelMaker=!0,e.isWheelStart=!1,e.isWheelEnd=!0,e.isWheel=!1,this.notifier.update({flags:e,values:t,eventType:c.WHEEL,defaultEvent:r})}}class O extends T{constructor(){super()}generateFlags(e){return{meta:this._generateMetaFlags(e),base:this._generateBaseFlags(e),state:this._generateStateFlags(e)}}generateValues(e){return{meta:{pointerId:e.pointerId,pointerType:e.pointerType},pressure:{normal:e.pressure,tangential:e.tangentialPressure},tilt:{x:e.clientX,y:e.clientY},twist:e.twist,client:{x:e.clientX,y:e.clientY},tmpClient:{x:e.clientX,y:e.clientY},movement:{x:e.movementX,y:e.movementY},touch:{},button:A(e.button),buttons:I(e.buttons)}}_generateMetaFlags(e){return{isPrimary:e.isPrimary,isTouch:"touch"===e.pointerType,isMultiTouch:!1,isAltKey:e.altKey,isCtrlKey:e.ctrlKey,isMetaKey:e.metaKey,isShiftKey:e.shiftKey}}_generateBaseFlags(e){const t={};switch(e.type){case l.DOWN:t.isDown=!0;break;case l.UP:t.isUp=!0;break;case l.MOVE:t.isMove=!0;break;case l.OVER:t.isOver=!0;break;case l.ENTER:t.isEnter=!0;break;case l.CANCEL:t.isCancel=!0;break;case l.OUT:t.isOut=!0;break;case l.LEAVE:t.isLeave=!0}return t}_generateStateFlags(e){let t="",r={};switch(e.button){case a.LEFT:t=s.LEFT;break;case a.MIDDLE:t=s.MIDDLE;break;case a.RIGHT:t=s.RIGHT;break;case a.BACK:t=s.BACK;break;case a.FORWARD:t=s.FORWARD;break;case a.ERASER:t=s.ERASER}return t&&(r=this._generateDownUpMoveFlags(e.type,t,r)),r}_generateDownUpMoveFlags(e,t,r){const n=Object.assign({},r),i=t.charAt(0).toUpperCase()+t.slice(1);return e===l.DOWN?n[`is${i}Down`]=!0:e===l.UP&&(n[`is${i}Up`]=!0),n}}class U extends B{constructor(e){super(e)}onPointerdown(e){const t=this._getFilterContent(e),r=this.eventStore.pointer;r.isDown=!0,r.prevButton=A(e.button),r.ongoingTouches.push(t.filter);const n=this._manageMultiTouch(t.flags,t.values);this._publish(n.flags,n.values,e)}onPointerup(e){const{flags:t,values:r}=this._getFilterContent(e),n=this.eventStore.pointer;n.isDown=!1,n.prevButton="",n.ongoingTouches=this._removeFilterFromList(r.meta.pointerId),this._publish(t,r,e)}onPointermove(e){const t=this._getFilterContent(e),r=this.eventStore.pointer;let n=this._setMoveFlag(t.flags),i=t.values;n.base.isDownMove=r.isDown,this._setTmpClient(i);const a=this._manageMultiTouch(n,i);n=a.flags,i=a.values,this._publish(n,i,e)}onPointerover(e){}onPointerenter(e){}onPointercancel(e){}onPointerout(e){}onPointerleave(e){}_getFilterContent(e){const t=new O;return t.init(e),{flags:t.flags,values:t.values,filter:t}}_publish(e,t,r){this.notifier.update({flags:e,values:t,eventType:c.POINTER,defaultEvent:r})}_setMoveFlag(e){const t=Object.assign({},e);switch(this.eventStore.pointer.prevButton){case s.LEFT:t.state.isLeftMove=!0;break;case s.MIDDLE:t.state.isMiddleMove=!0;break;case s.RIGHT:t.state.isRightMove=!0;break;case s.BACK:t.state.isBackMove=!0;break;case s.FORWARD:t.state.isForwardMove=!0}return t}_setTmpClient(e){const t=this.eventStore.pointer;t.idleTimer&&clearInterval(t.idleTimer),t.idleTimer=window.setTimeout(()=>{e.tmpClient.x=e.client.x,e.tmpClient.y=e.client.y},1)}_manageMultiTouch(e,t){const r=Object.assign({},e),i=Object.assign({},t),a=this.eventStore.pointer,o=a.ongoingTouches.length>1;if(r.meta.isMultiTouch=o,!o)return{flags:r,values:i};const s=a.ongoingTouches.length,l=a.ongoingTouches[s-1],u=a.ongoingTouches[s-2];return i.touch=Object(n.getCenterCoord)(l.values.client,u.values.client),{flags:r,values:i}}_removeFilterFromList(e){const t=this._getFilterIndexFromList(e);return Object(n.removeItem)(this.eventStore.pointer.ongoingTouches,t)}_getFilterIndexFromList(e){return this.eventStore.pointer.ongoingTouches.findIndex(t=>e===t.values.meta.pointerId)}}class M extends T{constructor(){super()}generateFlags(){return{isDrag:!1,isDragEnd:!1,isDragEnter:!1,isDragStart:!1,isDragLeave:!1,isDragOver:!1,isDrop:!1}}generateValues(e){return{data:e.dataTransfer||null,client:{x:e.clientX,y:e.clientY}}}}class N extends B{constructor(e){super(e)}onDrag(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDrag=!0,this._publish(t,r,e)}onDragend(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDragEnd=!0,this._publish(t,r,e)}onDragenter(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDragEnter=!0,this._publish(t,r,e)}onDragstart(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDragStart=!0,this._publish(t,r,e)}onDragleave(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDragLeave=!0,this._publish(t,r,e)}onDragover(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDragOver=!0,this._publish(t,r,e)}onDrop(e){const{flags:t,values:r}=this._getFilterContent(e);t.isDrop=!0,this._publish(t,r,e)}_getFilterContent(e){const t=new M;return t.init(e),{flags:t.flags,values:t.values,filter:t}}_publish(e,t,r){this.notifier.update({flags:e,values:t,eventType:c.DRAG,defaultEvent:r})}}class z extends T{constructor(){super()}generateFlags(){return{isCut:!1,isCopy:!1,isPaste:!1}}generateValues(e){return{data:e.clipboardData||null}}}class j extends B{constructor(e){super(e)}onCut(e){const{flags:t,values:r}=this._getFilterContent(e);t.isCut=!0,this._publish(t,r,e)}onCopy(e){const{flags:t,values:r}=this._getFilterContent(e);t.isCopy=!0,this._publish(t,r,e)}onPaste(e){const{flags:t,values:r}=this._getFilterContent(e);t.isPaste=!0,this._publish(t,r,e)}_getFilterContent(e){const t=new z;return t.init(e),{flags:t.flags,values:t.values,filter:t}}_publish(e,t,r){this.notifier.update({flags:e,values:t,eventType:c.CLIPBOARD,defaultEvent:r})}}class G extends T{constructor(){super()}generateFlags(e){return{isAltKey:e.altKey,isCtrlKey:e.ctrlKey,isMetaKey:e.metaKey,isShiftKey:e.shiftKey,isRepeat:e.repeat,isKeydown:!1,isKeyup:!1}}generateValues(e){return{key:e.key,location:this._getLocation(e.location)}}_getLocation(e){let t="";switch(e){case 0:t=u.STANDARD;break;case 1:t=u.LEFT;break;case 2:t=u.RIGHT;break;case 3:t=u.NUMPAD}return t}}class W extends B{constructor(e){super(e)}onKeydown(e){const{flags:t,values:r}=this._getFilterContent(e);t.isKeydown=!0,this._publish(t,r,e)}onKeyup(e){const{flags:t,values:r}=this._getFilterContent(e);t.isKeyup=!0,this._publish(t,r,e)}_getFilterContent(e){const t=new G;return t.init(e),{flags:t.flags,values:t.values,filter:t}}_publish(e,t,r){this.notifier.update({flags:e,values:t,eventType:c.KEYBOARD,defaultEvent:r})}}class H{constructor(e){this.notifier=e.notifier,this.onPointerEvent=new U(e),this.onWheelEvent=new F(e),this.onMouseEvent=new L(e),this.onEvent=new C(e),this.onDragEvent=new N(e),this.onClipboardEvent=new j(e),this.onKeyboardEvent=new W(e)}init(e){this.entity=e}pointerEvent(e){Object(n.addEventListeners)(f,e,e=>this._onPointerEvent(e))}wheelEvent(e){Object(n.addEventListeners)(h,e,e=>this._onWheelEvent(e))}clickEvent(e){Object(n.addEventListeners)(p,e,e=>this._onMouseEvent(e))}contextmenuEvent(e){Object(n.addEventListeners)(g,e,e=>this._onMouseEvent(e))}viewEvent(e){Object(n.addEventListeners)(m,e,e=>this._onEvent(e))}networkEvent(e){Object(n.addEventListeners)(v,e,e=>this._onEvent(e))}dragEvent(e){Object(n.addEventListeners)(b,e,e=>this._onDragEvent(e))}clipboardEvent(e){Object(n.addEventListeners)(y,e,e=>this._onClipboardEvent(e))}keyboardEvent(e){Object(n.addEventListeners)(w,e,e=>this._onKeyboardEvent(e))}_onPointerEvent(e){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(e))return;const t=this.onPointerEvent;switch(e.type){case"pointerdown":t.onPointerdown(e);break;case"pointerup":t.onPointerup(e);break;case"pointermove":t.onPointermove(e);break;case"pointerover":t.onPointerover(e);break;case"pointerenter":t.onPointerenter(e);break;case"pointercancel":t.onPointercancel(e);break;case"pointerout":t.onPointerout(e);break;case"pointerleave":t.onPointerleave(e)}}_onWheelEvent(e){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(e))return;const t=this.onWheelEvent;switch(e.type){case"wheel":t.onWheel(e)}}_onMouseEvent(e){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(e))return;const t=this.onMouseEvent;switch(e.type){case"click":t.onClick(e);break;case"dblclick":t.onDblClick(e);break;case"contextmenu":t.onContextmenu(e)}}_onEvent(e){const t=this.onEvent;switch(e.type){case"fullscreenchange":t.onFullscreenchange(e);break;case"fullscreenerror":t.onFullscreenerror(e);break;case"online":t.onOnline(e);break;case"offline":t.onOffline(e)}}_onDragEvent(e){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(e))return;const t=this.onDragEvent;switch(e.type){case"drag":t.onDrag(e);break;case"dragend":t.onDragend(e);break;case"dragenter":t.onDragenter(e);break;case"dragstart":t.onDragstart(e);break;case"dragleave":t.onDragleave(e);break;case"dragover":t.onDragover(e);break;case"drop":t.onDrop(e)}}_onClipboardEvent(e){const t=this.onClipboardEvent;switch(e.type){case"cut":t.onCut(e);break;case"copy":t.onCopy(e);break;case"paste":t.onPaste(e)}}_onKeyboardEvent(e){const t=this.onKeyboardEvent;switch(e.type){case"keydown":t.onKeydown(e);break;case"keyup":t.onKeyup(e)}}_isTargetArea(e){if(!this.entity)return!1;const t=this.entity.element.getBoundingClientRect(),r=t.x,n=t.y;return r<=e.clientX&&e.clientX<=r+t.width&&n<=e.clientY&&e.clientY<=n+t.height}}class V extends H{constructor(e){super(e)}start(){this.pointerEvent(document),this.wheelEvent(document),this.clickEvent(document),this.contextmenuEvent(document),this.viewEvent(document),this.networkEvent(window),this.dragEvent(document),this.clipboardEvent(document),this.keyboardEvent(document)}}class K extends H{constructor(e){super(e)}start(){if(!this.entity)throw new Error("Entity is not properly set.");this.pointerEvent(this.entity.element),this.wheelEvent(this.entity.element),this.clickEvent(this.entity.element),this.contextmenuEvent(this.entity.element),this.dragEvent(this.entity.element)}}class Y{constructor(){this.pointer={prevButton:"",ongoingTouches:[],idleTimer:null,isDown:!1}}}class Z{constructor(){this.storeManager=null,this.pluginManager=null}init(e,t){this.storeManager=e,this.pluginManager=t}start(){if(!this.storeManager)throw new Error("EventManager is not properly initialized.");this._startEvents()}_startEvents(){return Object(k.a)(this,void 0,void 0,function*(){const e=new Y;this._initStore(),this._createGlobalEvents(e),this._createTargetEvents(e)})}_createGlobalEvents(e){const t=new E;t.notifyType=d.GLOBAL;const r=new V({notifier:t,eventStore:e});r.init(this.storeManager.store.entity),r.start(),this._observe(t)}_createTargetEvents(e){const t=this.storeManager.store.entity;if(!t)return;const r=new E;r.notifyType=d.TARGET;const n=new K({notifier:r,eventStore:e});n.init(t),n.start(),this._observe(r)}_observe(e){e.observer().subscribe(e=>{this._updateStore(e)})}_initStore(){return Object(k.a)(this,void 0,void 0,function*(){const e=this.pluginManager.searchPluginsByEventType(c.INIT);for(let t=0;t<e.length;t++){const r=e[t],n=r.plugin;yield n.call(this.storeManager.store,this.storeManager.userStore),this._notifyEvent(c.INIT,r.pluginName,n.isNotifierEnabled)}})}_updateStore(e){return Object(k.a)(this,void 0,void 0,function*(){const t=e.content.eventType,r=e.content.flags,n=e.content.values,i=e.content.defaultEvent;if(!r&&!n&&!i)return;const a=this.pluginManager.searchPluginsByEventType(t),o=this.pluginManager.searchPluginsByEventType(c.ANY);for(let e=0;e<o.length;e++){const t=o[e];t.plugin.isLoadAtStartup?a.unshift(t):a.push(t)}this.storeManager.updateNotifyType(e.notifyType),this.storeManager.updateDefaultEvent(i),this.storeManager.updateFlags(t,r),this.storeManager.updateValues(t,n),t===c.POINTER&&this.storeManager.updatePointerOffset(r,n);for(let e=0;e<a.length;e++){const r=a[e],n=r.plugin;yield n.call(this.storeManager.store,this.storeManager.userStore),this._notifyEvent(t,r.pluginName,n.isNotifierEnabled)}})}_notifyEvent(e,t,r){r&&(this.storeManager.updateNotifier.notifyType=e,this.storeManager.updateNotifier.update({pluginNama:t,store:this.storeManager.store,userStore:this.storeManager.userStore}))}}let X=(()=>{class e{constructor(){}static registerPlugin(t){const r=t.plugin.pluginType;if(!e.plugins[r])throw new Error("Invalid plugin category is detected.");e.plugins[r].push(t)}searchPluginsByEventType(t){let r=[];if(!e.plugins[t])throw new Error("Invalid plugin category is detected.");return r.push(...e.plugins[t]),r}searchPluginByName(e,t){return this.searchPluginsByEventType(e).filter(e=>e.pluginName===t)[0]}}return e.inits=[],e.anys=[],e.clipboards=[],e.keyboards=[],e.pointers=[],e.drags=[],e.events=[],e.mouses=[],e.wheels=[],e.renders=[],e.plugins={[c.INIT]:e.inits,[c.ANY]:e.anys,[c.CLIPBOARD]:e.clipboards,[c.KEYBOARD]:e.keyboards,[c.POINTER]:e.pointers,[c.DRAG]:e.drags,[c.EVENT]:e.events,[c.MOUSE]:e.mouses,[c.WHEEL]:e.wheels,[c.RENDER]:e.renders},e})();class q{constructor(){this.storeManager=null,this.pluginManager=null}init(e,t){this.storeManager=e,this.pluginManager=t}start(){if(!this.storeManager)throw new Error("RendererManager is not properly initialized.");this._render()}_render(){this.pluginManager.searchPluginsByEventType(c.RENDER).forEach(e=>{e.plugin.call(this.storeManager.store,this.storeManager.userStore)})}}class J{constructor(){this._storeManager=null,this._pluginManager=null,this._eventManager=null,this._rendererManager=null}get store(){return this._storeManager}get plugin(){return this._pluginManager}get event(){return this._eventManager}get renderer(){return this._rendererManager}registerPlugin(e){X.registerPlugin(e)}init(e,t){const r=new S;e&&r.registerEntity(e),t&&r.registerStore(t),this._storeManager=r;const n=new X;this._pluginManager=n;const i=new Z;i.init(r,n),this._eventManager=i;const a=new q;a.init(r,n),this._rendererManager=a}start(){this.event.start(),Object(n.requestRender)(()=>this._renderer())}_renderer(){this.renderer.start()}}class Q{constructor(e){this.store=null,this.userStore=null,this.resolve=null,this.resolvePayload=null,this.pluginType=e.pluginType,this.isNotifierEnabled=e.isNotifierEnabled||!1,this.isLoadAtStartup=e.isLoadAtStartup||!1}call(e,t){this.store=e,this.userStore=t}}class ${constructor(e){if(this.element=e,!e)throw new Error("element is not set properly")}}},BJdv:function(e,t,r){(function(t){var n=r("qXd6").strict;e.exports=function(e){if(n(e)){var r=t.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}return t.from(e)}}).call(this,r("tjlA").Buffer)},BuRe:function(e,t,r){"use strict";var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&n.test(e)}},Cwy7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeEffects=t.readEffects=void 0;var n=r("WSo5"),i=r("DueJ"),a=r("lgos"),o=[void 0,"outer bevel","inner bevel","emboss","pillow emboss","stroke emboss"];function s(e){return i.checkSignature(e,"8BIM"),n.toBlendMode[i.readSignature(e)]||"normal"}function l(e,t){a.writeSignature(e,"8BIM"),a.writeSignature(e,n.fromBlendMode[t]||"norm")}function u(e){return i.readUint8(e)/255}function d(e,t){a.writeUint8(e,0|Math.round(255*t))}function c(e,t){var r;a.writeUint32(e,51),a.writeUint32(e,2),a.writeFixedPoint32(e,t.size&&t.size.value||0),a.writeFixedPoint32(e,0),a.writeFixedPoint32(e,t.angle||0),a.writeFixedPoint32(e,t.distance&&t.distance.value||0),a.writeColor(e,t.color),l(e,t.blendMode),a.writeUint8(e,t.enabled?1:0),a.writeUint8(e,t.useGlobalLight?1:0),d(e,null!==(r=t.opacity)&&void 0!==r?r:1),a.writeColor(e,t.color)}t.readEffects=function(e){var t=i.readUint16(e);if(0!==t)throw new Error("Invalid effects layer version: "+t);for(var r=i.readUint16(e),n={},a=0;a<r;a++){i.checkSignature(e,"8BIM");var l=i.readSignature(e);switch(l){case"cmnS":var d=i.readUint32(e),c=i.readUint32(e),f=!!i.readUint8(e);if(i.skipBytes(e,2),7!==d||0!==c||!f)throw new Error("Invalid effects common state");break;case"dsdw":case"isdw":var h=i.readUint32(e),p=i.readUint32(e);if(41!==h&&51!==h)throw new Error("Invalid shadow size: "+h);if(0!==p&&2!==p)throw new Error("Invalid shadow version: "+p);d=i.readFixedPoint32(e),i.readFixedPoint32(e);var g=i.readFixedPoint32(e),m=i.readFixedPoint32(e),v=i.readColor(e),b=s(e),y=!!i.readUint8(e),w=!!i.readUint8(e),_=u(e);h>=51&&i.readColor(e);var x={size:{units:"Pixels",value:d},distance:{units:"Pixels",value:m},angle:g,color:v,blendMode:b,enabled:y,useGlobalLight:w,opacity:_};"dsdw"===l?n.dropShadow=x:n.innerShadow=x;break;case"oglw":h=i.readUint32(e);var E=i.readUint32(e);if(32!==h&&42!==h)throw new Error("Invalid outer glow size: "+h);if(0!==E&&2!==E)throw new Error("Invalid outer glow version: "+E);d=i.readFixedPoint32(e),i.readFixedPoint32(e),v=i.readColor(e),b=s(e),y=!!i.readUint8(e),_=u(e),h>=42&&i.readColor(e),n.outerGlow={size:{units:"Pixels",value:d},color:v,blendMode:b,enabled:y,opacity:_};break;case"iglw":h=i.readUint32(e);var S=i.readUint32(e);if(32!==h&&43!==h)throw new Error("Invalid inner glow size: "+h);if(0!==S&&2!==S)throw new Error("Invalid inner glow version: "+S);d=i.readFixedPoint32(e),i.readFixedPoint32(e),v=i.readColor(e),b=s(e),y=!!i.readUint8(e),_=u(e),h>=43&&(i.readUint8(e),i.readColor(e)),n.innerGlow={size:{units:"Pixels",value:d},color:v,blendMode:b,enabled:y,opacity:_};break;case"bevl":h=i.readUint32(e);var k=i.readUint32(e);if(58!==h&&78!==h)throw new Error("Invalid bevel size: "+h);if(0!==k&&2!==k)throw new Error("Invalid bevel version: "+k);g=i.readFixedPoint32(e);var T=i.readFixedPoint32(e),R=(d=i.readFixedPoint32(e),s(e)),B=s(e),C=i.readColor(e),A=i.readColor(e),I=o[i.readUint8(e)]||"inner bevel",D=u(e),L=u(e),P=(y=!!i.readUint8(e),w=!!i.readUint8(e),i.readUint8(e)?"down":"up");h>=78&&(i.readColor(e),i.readColor(e)),n.bevel={size:{units:"Pixels",value:d},angle:g,strength:T,highlightBlendMode:R,shadowBlendMode:B,highlightColor:C,shadowColor:A,style:I,highlightOpacity:D,shadowOpacity:L,enabled:y,useGlobalLight:w,direction:P};break;case"sofi":d=i.readUint32(e);var F=i.readUint32(e);if(34!==d)throw new Error("Invalid effects solid fill info size: "+d);if(2!==F)throw new Error("Invalid effects solid fill info version: "+F);b=s(e),v=i.readColor(e),_=u(e),y=!!i.readUint8(e),i.readColor(e),n.solidFill={blendMode:b,color:v,opacity:_,enabled:y};break;default:throw new Error("Invalid effect type: '"+l+"'")}}return n},t.writeEffects=function(e,t){var r,n,i;a.writeUint16(e,0);var s=1;if(t.dropShadow&&s++,t.innerShadow&&s++,t.outerGlow&&s++,t.innerGlow&&s++,t.bevel&&s++,t.solidFill&&s++,a.writeUint16(e,s),a.writeSignature(e,"8BIM"),a.writeSignature(e,"cmnS"),a.writeUint32(e,7),a.writeUint32(e,0),a.writeUint8(e,1),a.writeZeros(e,2),t.dropShadow&&(a.writeSignature(e,"8BIM"),a.writeSignature(e,"dsdw"),c(e,t.dropShadow)),t.innerShadow&&(a.writeSignature(e,"8BIM"),a.writeSignature(e,"isdw"),c(e,t.innerShadow)),t.outerGlow&&(a.writeSignature(e,"8BIM"),a.writeSignature(e,"oglw"),a.writeUint32(e,42),a.writeUint32(e,2),a.writeFixedPoint32(e,(null===(r=t.outerGlow.size)||void 0===r?void 0:r.value)||0),a.writeFixedPoint32(e,0),a.writeColor(e,t.outerGlow.color),l(e,t.outerGlow.blendMode),a.writeUint8(e,t.outerGlow.enabled?1:0),d(e,t.outerGlow.opacity||0),a.writeColor(e,t.outerGlow.color)),t.innerGlow&&(a.writeSignature(e,"8BIM"),a.writeSignature(e,"iglw"),a.writeUint32(e,43),a.writeUint32(e,2),a.writeFixedPoint32(e,(null===(n=t.innerGlow.size)||void 0===n?void 0:n.value)||0),a.writeFixedPoint32(e,0),a.writeColor(e,t.innerGlow.color),l(e,t.innerGlow.blendMode),a.writeUint8(e,t.innerGlow.enabled?1:0),d(e,t.innerGlow.opacity||0),a.writeUint8(e,0),a.writeColor(e,t.innerGlow.color)),t.bevel){a.writeSignature(e,"8BIM"),a.writeSignature(e,"bevl"),a.writeUint32(e,78),a.writeUint32(e,2),a.writeFixedPoint32(e,t.bevel.angle||0),a.writeFixedPoint32(e,t.bevel.strength||0),a.writeFixedPoint32(e,(null===(i=t.bevel.size)||void 0===i?void 0:i.value)||0),l(e,t.bevel.highlightBlendMode),l(e,t.bevel.shadowBlendMode),a.writeColor(e,t.bevel.highlightColor),a.writeColor(e,t.bevel.shadowColor);var u=o.indexOf(t.bevel.style);a.writeUint8(e,u<=0?1:u),d(e,t.bevel.highlightOpacity||0),d(e,t.bevel.shadowOpacity||0),a.writeUint8(e,t.bevel.enabled?1:0),a.writeUint8(e,t.bevel.useGlobalLight?1:0),a.writeUint8(e,"down"===t.bevel.direction?1:0),a.writeColor(e,t.bevel.highlightColor),a.writeColor(e,t.bevel.shadowColor)}t.solidFill&&(a.writeSignature(e,"8BIM"),a.writeSignature(e,"sofi"),a.writeUint32(e,34),a.writeUint32(e,2),l(e,t.solidFill.blendMode),a.writeColor(e,t.solidFill.color),d(e,t.solidFill.opacity||0),a.writeUint8(e,t.solidFill.enabled?1:0),a.writeColor(e,t.solidFill.color))}},DueJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readPattern=t.readColor=t.readSection=t.readDataRLE=t.readPsd=t.checkSignature=t.skipBytes=t.readAsciiString=t.readUnicodeStringWithLength=t.readUnicodeString=t.readPascalString=t.readSignature=t.readBytes=t.readFixedPointPath32=t.readFixedPoint32=t.readFloat64=t.readFloat32=t.readUint32=t.readInt32LE=t.readInt32=t.readUint16=t.readInt16=t.peekUint8=t.readUint8=t.createReader=t.supportedColorModes=void 0;var n=r("WSo5"),i=r("1QtO"),a=r("x4Ov");t.supportedColorModes=[0,1,3];var o=["bitmap","grayscale","indexed","RGB","CMYK","multichannel","duotone","lab"];function s(e){for(var t=e.width*e.height*4,r=0;r<t;r+=4)e.data[r+1]=e.data[r],e.data[r+2]=e.data[r]}function l(e){return e.offset+=1,e.view.getUint8(e.offset-1)}function u(e){return e.view.getUint8(e.offset)}function d(e){return e.offset+=2,e.view.getInt16(e.offset-2,!1)}function c(e){return e.offset+=2,e.view.getUint16(e.offset-2,!1)}function f(e){return e.offset+=4,e.view.getInt32(e.offset-4,!1)}function h(e){return e.offset+=4,e.view.getUint32(e.offset-4,!1)}function p(e){return e.offset+=8,e.view.getFloat64(e.offset-8,!1)}function g(e,t){return e.offset+=t,new Uint8Array(e.view.buffer,e.view.byteOffset+e.offset-t,t)}function m(e){return x(e,4)}function v(e,t){for(var r=l(e),n=x(e,r);++r%t;)w(e,1);return n}function b(e){return y(e,h(e))}function y(e,t){for(var r="";t--;){var n=c(e);(n||t>0)&&(r+=String.fromCharCode(n))}return r}function w(e,t){e.offset+=t}function _(e,t,r){var n=e.offset,i=m(e);if(i!==t&&i!==r)throw new Error("Invalid signature: '"+i+"' at 0x"+n.toString(16))}function x(e,t){var r=g(e,t);return String.fromCharCode.apply(String,r)}function E(e,t,r){var i={};i.top=f(e),i.left=f(e),i.bottom=f(e),i.right=f(e);for(var a=c(e),o=[],s=0;s<a;s++){var u=d(e),g=f(e);o.push({id:u,length:g})}_(e,"8BIM");var b=m(e);if(!n.toBlendMode[b])throw new Error("Invalid blend mode: '"+b+"'");i.blendMode=n.toBlendMode[b],i.opacity=l(e)/255,i.clipping=1===l(e);var y=l(e);return i.transparencyProtected=0!=(1&y),i.hidden=0!=(2&y),w(e,1),C(e,1,function(n){var a=function(e,t){return C(e,1,function(r){if(r()){var n={};n.top=f(e),n.left=f(e),n.bottom=f(e),n.right=f(e),n.defaultColor=l(e);var i=l(e);if(n.positionRelativeToLayer=0!=(1&i),n.disabled=0!=(2&i),n.fromVectorData=0!=(8&i),16&i){var a=l(e);1&a&&(n.userMaskDensity=l(e)/255),2&a&&(n.userMaskFeather=p(e)),4&a&&(n.vectorMaskDensity=l(e)/255),8&a&&(n.vectorMaskFeather=p(e))}return r()>2&&(t.logMissingFeatures&&console.log("Unhandled extra mask params"),l(e),l(e),f(e),f(e),f(e),f(e)),w(e,r()),n}})}(e,r);for(a&&(i.mask=a),function(e){C(e,1,function(t){for(var r=h(e),n=h(e),i=[];t();){var a=h(e),o=h(e);i.push({sourceRange:a,destRange:o})}return{compositeGrayBlendSource:r,compositeGraphBlendDestinationRange:n,ranges:i}})}(e),i.name=v(e,4);n();)T(e,i,t,r)}),{layer:i,channels:o}}function S(e,t,r,i,a){var o,l=(r.right||0)-(r.left||0),u=(r.bottom||0)-(r.top||0);l&&u&&(o=n.createImageData(l,u),n.resetImageData(o));for(var d=0,f=i;d<f.length;d++){var h=f[d],p=c(e);if(-2===h.id){var g=r.mask;if(!g)throw new Error("Missing layer mask data");var m=(g.right||0)-(g.left||0),v=(g.bottom||0)-(g.top||0);if(m&&v){var b=n.createImageData(m,v);n.resetImageData(b),k(e,b,p,m,v,0),s(b),a.useImageData?g.imageData=b:(g.canvas=n.createCanvas(m,v),g.canvas.getContext("2d").putImageData(b,0,0))}}else{var y=n.offsetForChannel(h.id),w=o;if(y<0&&(w=void 0,a.throwForMissingFeatures))throw new Error("Channel not supported: "+h.id);k(e,w,p,l,u,y),w&&1===t.colorMode&&s(w)}}o&&(a.useImageData?r.imageData=o:(r.canvas=n.createCanvas(l,u),r.canvas.getContext("2d").putImageData(o,0,0)))}function k(e,t,r,n,i,a){if(0===r)R(e,t,a,n,i);else{if(1!==r)throw new Error("Compression type not supported: "+r);B(e,t,0,i,4,[a])}}function T(e,t,r,n){_(e,"8BIM","8B64");var a=m(e);C(e,2,function(o){var s=i.infoHandlersMap[a];if(s)try{s.read(e,t,o,r,n)}catch(l){if(n.throwForMissingFeatures)throw l}else n.logMissingFeatures&&console.log("Unhandled additional info: "+a),w(e,o());o()&&(n.logMissingFeatures&&console.log("Unread "+o()+" bytes left for tag: "+a),w(e,o()))},!1)}function R(e,t,r,n,i){var a=n*i,o=g(e,a);if(t&&r<4)for(var s=t.data,l=0,u=0|r;l<a;l++,u=u+4|0)s[u]=o[l]}function B(e,t,r,n,i,a){for(var o=new Uint16Array(a.length*n),s=t&&t.data,l=0,u=0;l<a.length;l++)for(var d=0;d<n;d++,u++)o[u]=c(e);var f=0;for(u=0;f<a.length;f++){var h=0|a[f];if(!s||f>3||h>3)for(d=0;d<n;d++,u++)w(e,o[u]);else{d=0;for(var p=0|h;d<n;d++,u++)for(var m=o[u],v=g(e,m),b=0;b<m;b++){var y=v[b];if(y>128){var _=v[++b];y=256-y|0;for(var x=0;x<=y;x=x+1|0)s[p]=_,p=p+i|0}else if(y<128)for(x=0;x<=y;x=x+1|0)s[p]=v[++b],p=p+i|0;if(b>=m)throw new Error("Invalid RLE data: exceeded buffer size "+b+"/"+m)}}}}function C(e,t,r,n){void 0===n&&(n=!0);var i=f(e);if(!(i<=0&&n)){var a=e.offset+i,o=r(function(){return a-e.offset});if(e.offset>a)throw new Error("Exceeded section limits");if(e.offset!==a)throw new Error("Unread section data: "+(a-e.offset)+" bytes at 0x"+e.offset.toString(16));for(;a%t;)a++;return e.offset=a,o}}t.createReader=function(e,t,r){return{view:new DataView(e,t,r),offset:0}},t.readUint8=l,t.peekUint8=u,t.readInt16=d,t.readUint16=c,t.readInt32=f,t.readInt32LE=function(e){return e.offset+=4,e.view.getInt32(e.offset-4,!0)},t.readUint32=h,t.readFloat32=function(e){return e.offset+=4,e.view.getFloat32(e.offset-4,!1)},t.readFloat64=p,t.readFixedPoint32=function(e){return f(e)/65536},t.readFixedPointPath32=function(e){return f(e)/(1<<24)},t.readBytes=g,t.readSignature=m,t.readPascalString=v,t.readUnicodeString=b,t.readUnicodeStringWithLength=y,t.readAsciiString=function(e,t){for(var r="";t--;)r+=String.fromCharCode(l(e));return r},t.skipBytes=w,t.checkSignature=_,t.readPsd=function(e,r){var i;void 0===r&&(r={}),_(e,"8BPS");var f=c(e);if(1!==f)throw new Error("Invalid PSD file version: "+f);w(e,6);var p=c(e),m=h(e),b=h(e),y=c(e),x=c(e);if(-1===t.supportedColorModes.indexOf(x))throw new Error("Color mode not supported: "+(null!==(i=o[x])&&void 0!==i?i:x));var k={width:b,height:m,channels:p,bitsPerChannel:y,colorMode:x};C(e,1,function(t){if(r.throwForMissingFeatures)throw new Error("Color mode data not supported");w(e,t())}),C(e,1,function(t){for(var n=function(){_(e,"8BIM");var t=c(e);v(e,2),C(e,2,function(n){var i=a.resourceHandlersMap[t],o=1036===t&&!!r.skipThumbnail;if(k.imageResources||(k.imageResources={}),i&&!o)try{i.read(e,k.imageResources,n,r)}catch(s){if(r.throwForMissingFeatures)throw s;w(e,n())}else w(e,n())})};t();)n()});var A=!1;return C(e,1,function(t){if(A=function(e,t,r){var n=!1;return C(e,2,function(i){var a=d(e);a<0&&(n=!0,a=-a);for(var o=[],s=[],l=0;l<a;l++){var u=E(e,t,r),c=u.channels;o.push(u.layer),s.push(c)}if(!r.skipLayerImageData)for(l=0;l<a;l++)S(e,t,o[l],s[l],r);w(e,i()),t.children||(t.children=[]);var f=[t];for(l=o.length-1;l>=0;l--){var h=o[l],p=h.sectionDivider?h.sectionDivider.type:0;1===p||2===p?(h.opened=1===p,h.children=[],f[f.length-1].children.unshift(h),f.push(h)):3===p?f.pop():f[f.length-1].children.unshift(h)}}),n}(e,k,r),t()>0){var n=function(e){return C(e,1,function(t){if(t()){var r=c(e),n=c(e),i=c(e),a=c(e),o=c(e),s=c(e)/255,u=l(e);return w(e,t()),{overlayColorSpace:r,colorSpace1:n,colorSpace2:i,colorSpace3:a,colorSpace4:o,opacity:s,kind:u}}})}(e);n&&(k.globalLayerMaskInfo=n)}else w(e,t());for(;t()>0;){for(;t()&&0===u(e);)w(e,1);t()>=12?T(e,k,k,r):w(e,t())}}),r.skipCompositeImageData&&(r.skipLayerImageData||k.children&&k.children.length)||function(e,r,i,a){var o=c(e);if(-1===t.supportedColorModes.indexOf(r.colorMode))throw new Error("Color mode not supported: "+r.colorMode);if(0!==o&&1!==o)throw new Error("Compression type not supported: "+o);var l=n.createImageData(r.width,r.height);if(n.resetImageData(l),0===r.colorMode){var u=void 0;if(0===o)u=g(e,Math.ceil(r.width/8)*r.height);else{if(1!==o)throw new Error("Bitmap compression not supported: "+o);B(e,{data:u=new Uint8Array(r.width*r.height),width:r.width,height:r.height},0,r.height,1,[0])}n.decodeBitmap(u,l.data,r.width,r.height)}else{var d=1===r.colorMode?[0]:[0,1,2];if(r.channels&&r.channels>3)for(var f=3;f<r.channels;f++)d.push(f);else i&&d.push(3);if(0===o)for(f=0;f<d.length;f++)R(e,l,d[f],r.width,r.height);else 1===o&&B(e,l,0,r.height,4,d);1===r.colorMode&&s(l)}a.useImageData?r.imageData=l:(r.canvas=n.createCanvas(r.width,r.height),r.canvas.getContext("2d").putImageData(l,0,0))}(e,k,A,r),k},t.readDataRLE=B,t.readSection=C,t.readColor=function(e){switch(c(e)){case 0:var t=c(e)/257,r=c(e)/257,n=c(e)/257;return w(e,2),{r:t,g:r,b:n};case 7:var i=d(e)/100,a=d(e)/100;return n=d(e)/100,w(e,2),{l:i,a:a,b:n};case 2:return{c:d(e),m:d(e),y:d(e),k:o=d(e)};case 8:var o=d(e);return w(e,6),{k:o};case 1:var s=d(e),l=d(e);return n=d(e),w(e,2),{h:s,s:l,b:n};default:throw new Error("Invalid color space")}},t.readPattern=function(e){h(e);var t=h(e);if(1!==t)throw new Error("Invalid pattern version: "+t);var r=h(e),n=d(e),i=d(e);if(3!==r&&1!==r)throw new Error("Unsupported pattern color mode");var a=b(e),o=v(e,1),s=h(e);if(3!==s)throw new Error("Invalid pattern VMAL version: "+s);h(e);for(var u=h(e),f=h(e),p=h(e),m=h(e),y=h(e),w=m-f,_=p-u,x=new Uint8Array(w*_*4),E=3;E<x.byteLength;E+=4)x[E]=255;E=0;for(var S=0;E<y+2;E++)if(h(e)){var k=h(e),T=h(e),R=h(e),B=h(e),C=h(e),A=h(e),I=c(e),D=l(e),L=g(e,k-23);if(8!==T||8!==I)throw new Error("16bit pixel depth not supported in palettes");if(0!==D)throw new Error("Zip compression not supported in palettes");var P=A-B,F=C-R,O=B-f,U=R-u;if(3===r&&S<3)for(var M=0;M<F;M++)for(var N=0;N<P;N++)x[(G=4*(O+N+(M+U)*w))+S]=L[N+M*P];if(1===r&&S<1)for(var z=0;z<F;z++)for(var j=0;j<P;j++){var G,W=L[j+z*P];x[0+(G=4*(O+j+(z+U)*w))]=W,x[G+1]=W,x[G+2]=W}S++}return{id:o,name:a,x:n,y:i,bounds:{x:f,y:u,w:w,h:_},data:x}}},Ezdm:function(e,t,r){"use strict";function n(e){return e.split("/").slice(-1).pop()}r.d(t,"a",function(){return n})},FpR3:function(e,t,r){"use strict";r("bdgK")},GMPE:function(e,t,r){"use strict";var n=r("gAMI");r.o(n,"addEventListeners")&&r.d(t,"addEventListeners",function(){return n.addEventListeners}),r.o(n,"calcFixedSize")&&r.d(t,"calcFixedSize",function(){return n.calcFixedSize}),r.o(n,"createFramebuffer")&&r.d(t,"createFramebuffer",function(){return n.createFramebuffer}),r.o(n,"createImage")&&r.d(t,"createImage",function(){return n.createImage}),r.o(n,"createQuadBuffer")&&r.d(t,"createQuadBuffer",function(){return n.createQuadBuffer}),r.o(n,"createTexture")&&r.d(t,"createTexture",function(){return n.createTexture}),r.o(n,"generateUuid")&&r.d(t,"generateUuid",function(){return n.generateUuid}),r.o(n,"getCenterCoord")&&r.d(t,"getCenterCoord",function(){return n.getCenterCoord}),r.o(n,"hasProperty")&&r.d(t,"hasProperty",function(){return n.hasProperty}),r.o(n,"removeItem")&&r.d(t,"removeItem",function(){return n.removeItem}),r.o(n,"removePathFromName")&&r.d(t,"removePathFromName",function(){return n.removePathFromName}),r.o(n,"requestRender")&&r.d(t,"requestRender",function(){return n.requestRender}),r.o(n,"validateFormat")&&r.d(t,"validateFormat",function(){return n.validateFormat})},GwSj:function(e,t,r){"use strict";r.r(t),r.d(t,"ViewerModule",function(){return j});var n=r("ofXK"),i=r("tyNb"),a=r("fXoL");let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-header"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})(),s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-footer"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})();var l=r("MRUz");let u=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-renderer"]],decls:1,vars:0,template:function(e,t){1&e&&a.Ib(0,"seek-psd-canvas")},directives:[l.a],styles:[""]}),e})(),d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-toggle-slider-button"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})(),c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-dark-mode"]],decls:1,vars:0,template:function(e,t){1&e&&a.Ib(0,"seek-psd-toggle-slider-button")},directives:[d],styles:[""]}),e})(),f=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-tools"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})(),h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-layers"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})();const p=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bb({type:e,selectors:[["seek-psd-viewer-page"]],decls:6,vars:0,template:function(e,t){1&e&&(a.Ib(0,"seek-psd-header"),a.Ib(1,"seek-psd-footer"),a.Ib(2,"seek-psd-renderer"),a.Ib(3,"seek-psd-dark-mode"),a.Ib(4,"seek-psd-tools"),a.Ib(5,"seek-psd-layers"))},directives:[o,s,u,c,f,h],styles:["p[_ngcontent-%COMP%]{color:var(--accent-color-right)}"]}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[i.c.forChild(p)],i.c]}),e})();r("XNiG"),r("2Vo4"),r("HDdC"),r("VRyK"),r("quSY"),r("LRne"),r("xgIS"),r("pLZG"),r("lJxs"),r("7o/Q"),r("eIep"),r("zx2A"),r("IzEk"),r("vkgz");const m={provide:a.b,useFactory:function(e,t){return()=>{if(Object(n.m)(t)){const t=Array.from(e.querySelectorAll(`[class*=${v}]`)),r=/\bflex-layout-.+?\b/g;t.forEach(e=>{e.classList.contains(`${v}ssr`)&&e.parentNode?e.parentNode.removeChild(e):e.className.replace(r,"")})}}},deps:[n.c,a.C],multi:!0},v="flex-layout-";let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({providers:[m]}),e})();const y={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},w=new a.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>y}),_=new a.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),x=new a.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null}),E=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],S="(orientation: portrait) and (max-width: 599.98px)",k="(orientation: landscape) and (max-width: 959.98px)",T="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",R="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",B="(orientation: portrait) and (min-width: 840px)",C="(orientation: landscape) and (min-width: 1280px)",A={HANDSET:`${S}, ${k}`,TABLET:`${T} , ${R}`,WEB:`${B}, ${C} `,HANDSET_PORTRAIT:`${S}`,TABLET_PORTRAIT:`${T} `,WEB_PORTRAIT:`${B}`,HANDSET_LANDSCAPE:`${k}`,TABLET_LANDSCAPE:`${R}`,WEB_LANDSCAPE:`${C}`},I=[{alias:"handset",priority:2e3,mediaQuery:A.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:A.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:A.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:A.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:A.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:A.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:A.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:A.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:A.WEB_PORTRAIT,overlapping:!0}],D=/(\.|-|_)/g;function L(e){let t=e.length>0?e.charAt(0):"",r=e.length>1?e.slice(1):"";return t.toUpperCase()+r}new a.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const e=Object(a.T)(x),t=Object(a.T)(w),r=[].concat.apply([],(e||[]).map(e=>Array.isArray(e)?e:[e]));return function(e,t=[]){const r={};return e.forEach(e=>{r[e.alias]=e}),t.forEach(e=>{r[e.alias]?function(e,...t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let r of t)if(null!=r)for(let t in r)r.hasOwnProperty(t)&&(e[t]=r[t])}(r[e.alias],e):r[e.alias]=e}),(n=Object.keys(r).map(e=>r[e])).forEach(e=>{e.suffix||(e.suffix=e.alias.replace(D,"|").split("|").map(L).join(""),e.overlapping=!!e.overlapping)}),n;var n}((t.disableDefaultBps?[]:E).concat(t.addOrientationBps?I:[]),r)}}),r("jhN1"),new Map,new WeakMap;let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[b]]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({}),e})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[b,F]]}),e})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[b]]}),e})();new a.O("11.0.0-beta.33");let M=(()=>{class e{constructor(e,t){Object(n.n)(t)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,r=[]){return{ngModule:e,providers:t.serverLoaded?[{provide:w,useValue:Object.assign(Object.assign({},y),t)},{provide:x,useValue:r,multi:!0},{provide:_,useValue:!0}]:[{provide:w,useValue:Object.assign(Object.assign({},y),t)},{provide:x,useValue:r,multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(_),a.Nb(a.C))},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[O,P,U],O,P,U]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[n.b]]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[n.b]]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({imports:[[n.b,g,M,N,z]]}),e})()},Gwi7:function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function a(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o,s;if("string"==typeof t&&"not "===t.substr(0,"not ".length)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))i="The ".concat(e," ").concat(n," ").concat(a(t,"type"));else{var l=("number"!=typeof s&&(s=0),s+".".length>(o=e).length||-1===o.indexOf(".",s)?"argument":"property");i='The "'.concat(e,'" ').concat(l," ").concat(n," ").concat(a(t,"type"))}return i+". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},H7XF:function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[1];return 3*(t[0]+r)/4-r},t.toByteArray=function(e){var t,r,n=u(e),o=n[0],s=n[1],l=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),d=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[d++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(d(e,s,s+o>l?l:s+o));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function d(e,t,r){for(var i,a=[],o=t;o<r;o+=3)a.push(n[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HkiG:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const n=r("oEZn"),i=r("IPhx");t.ReadStreamTokenizer=class extends n.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){let r=0,n=e.length;if(t){if(Number.isInteger(t.length)?n=t.length:n-=t.offset||0,t.position){const r=t.position-this.position;if(r>0)return await this.ignore(r),this.readBuffer(e,t);if(r<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`")}t.offset&&(r=t.offset)}if(0===n)return 0;const a=await this.streamReader.read(e,r,n);if(this.position+=a,(!t||!t.mayBeLess)&&a<n)throw new i.EndOfStreamError;return a}async peekBuffer(t,r){let n,a=0,o=t.length;if(r&&(r.offset&&(a=r.offset),Number.isInteger(r.length)?o=r.length:o-=r.offset||0,r.position)){const i=r.position-this.position;if(i>0){const s=e.alloc(o+i);return n=await this.peekBuffer(s,{mayBeLess:r.mayBeLess}),s.copy(t,a,i),n-i}if(i<0)throw new Error("Cannot peek from a negative offset in a stream")}try{n=await this.streamReader.peek(t,a,o)}catch(s){if(r&&r.mayBeLess&&s instanceof i.EndOfStreamError)return 0;throw s}if((!r||!r.mayBeLess)&&n<o)throw new i.EndOfStreamError;return n}async ignore(t){const r=Math.min(256e3,t),n=e.alloc(r);let i=0;for(;i<t;){const e=t-i,a=await this.readBuffer(n,{length:Math.min(r,e)});if(a<0)return a;i+=a}return i}}}).call(this,r("tjlA").Buffer)},Hs2X:function(e,t,r){"use strict";function n(e,t){const r=new Image;return r.crossOrigin="Anonymous",r.src=e instanceof Blob?URL.createObjectURL(e):e,r.onload=()=>{t&&t(r),e instanceof Blob&&URL.revokeObjectURL(r.src)},r}r.d(t,"a",function(){return n})},IPhx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;const n=r("813Z");var i=r("813Z");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}});class a{constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}t.StreamReader=class{constructor(e){if(this.s=e,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new n.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(e,t,r){const n=await this.read(e,t,r);return this.peekQueue.push(e.slice(t,t+n)),n}async read(e,t,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new n.EndOfStreamError;let i=r,a=0;for(;this.peekQueue.length>0&&i>0;){const r=this.peekQueue.pop(),n=Math.min(r.length,i);r.copy(e,t+a,0,n),a+=n,i-=n,n<r.length&&this.peekQueue.push(r.slice(n))}for(;i>0&&!this.endOfStream;){const r=Math.min(i,1048576),n=await this._read(e,t+a,r);if(a+=n,n<r)break;i-=n}return a}async _read(e,t,r){if(this.request)throw new Error("Concurrent read operation?");const n=this.s.read(r);return n?(n.copy(e,t),n.length):(this.request={buffer:e,offset:t,length:r,deferred:new a},this.s.once("readable",()=>{this.tryRead()}),this.request.deferred.promise.then(e=>(this.request=null,e),e=>{throw this.request=null,e}))}tryRead(){const e=this.s.read(this.request.length);e?(e.copy(this.request.buffer,this.request.offset),this.request.deferred.resolve(e.length)):this.s.once("readable",()=>{this.tryRead()})}reject(e){this.endOfStream=!0,this.request&&(this.request.deferred.reject(e),this.request=null)}}},IcKz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const n=r("HkiG"),i=r("N3/w");var a=r("IPhx");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),t.fromStream=function(e,t){return new n.ReadStreamTokenizer(e,t=t||{})},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},Jndf:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return o});var n=r("n/eI"),i=function(e){return e.UPDATE_OFFSET="UPDATE_OFFSET",e.UPDATE_ZOOM="UPDATE_ZOOM",e}({});const a={[i.UPDATE_OFFSET]:function(e,t){const r=t.states.common.offset,n=r.new.x,i=r.new.y;return{execute(){const t=e.values.pointer.diff;r.new.x=r.prev.x+t.x,r.new.y=r.prev.y+t.y},undo(){r.new.x=n,r.new.y=i}}},[i.UPDATE_ZOOM]:function(e,t){const r=t.states.common.offset.new,i=e.values.pointer.current;return{execute(){let t=1;t=e.values.wheel.deltaY>0?1-n.c:1+n.c,r.x=(r.x-i.x)*t+i.x,r.y=(r.y-i.y)*t+i.y},undo(){}}}};class o{constructor(e,t){this.states={common:{size:{width:0,height:0},offset:{new:{x:0,y:0},prev:{x:0,y:0}},rotation:0},extra:{}},this.history={commands:[],position:0},this._blendModes=[],this._bufferElement=null,this._targetElement=null,this._bufferGl=null,this._targetGl=null,this._isRenderBufferActive=!1,this._isRenderTargetActive=!1,this._zoomRatio=1,this.prevCommand=null,this.states.extra=t||{},this.root=e}get bufferElement(){return this._bufferElement}get targetElement(){return this._targetElement}get bufferGl(){return this._bufferGl}get targetGl(){return this._targetGl}get blendModes(){return this._blendModes}get isRenderBufferActive(){return this._isRenderBufferActive}get isRenderTargetActive(){return this._isRenderTargetActive}get zoomRatio(){return this._zoomRatio}initOffset(e){this.states.common.offset.new=e}doCommand(e,t){const r=this.history;if(r.position<r.commands.length-1&&(r.commands=r.commands.slice(0,r.position+1)),a[e]){const r=a[e](t,this);this.prevCommand=r,r.execute()}}save(e,t){if(!this.prevCommand)return;const r=this.history;r.commands.push(this.prevCommand),r.position+=1,this.prevCommand=null}undo(){const e=this.history;e.position>0&&(e.commands[e.position].undo(),e.position-=1)}redo(){const e=this.history;e.position<e.commands.length-1&&(e.position+=1,e.commands[e.position].execute())}updatePrevOffset(e){this.states.common.offset.prev.x=e.x,this.states.common.offset.prev.y=e.y}getProgramInfo(e){return this.blendModes.find(t=>t.name===e).programInfo}attatchBlendModes(e,t){this._blendModes=t.createBlendModes(e)}updateBufferElement(e){this._bufferElement=e}updateTargetElement(e){this._targetElement=e}updateBufferGl(e){this._bufferGl=e}updateTargetGl(e){this._targetGl=e}updateIsRenderBufferActive(e){this._isRenderBufferActive=e}updateIsRenderTargetActive(e){this._isRenderTargetActive=e}updateStateSize(e){this.states.common.size.width=e.width,this.states.common.size.height=e.height}updateZoomRatio(e){let t=1;e>0?t-=n.c:t+=n.c,this._zoomRatio*=t}}},K9eC:function(e,t,r){"use strict";function n(e,t){return e.slice(0,t).concat(e.slice(t+1,e.length))}r.d(t,"a",function(){return n})},MRUz:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return f});var n=r("ZHzF"),i=r("O25g"),a=r("LRne"),o=r("ANlV"),s=r("fXoL");const l=["layer"],u=["mainLayer"],d=["webGlLayer"],c=["uiLayer"];let f=(()=>{class t{constructor(){this._psd=null,this.renderTargetSets=[],this.count=0}get psd(){return this._psd}ngOnInit(){const e=new n.PsdRenderer;e.init(this.layer.nativeElement),[{name:n.RENDER_TARGET.MAIN_LAYER,target:this.mainLayer.nativeElement,buffer:document.createElement("canvas")},{name:n.RENDER_TARGET.UI_LAYER,target:this.uiLayer.nativeElement,buffer:document.createElement("canvas")},{name:n.RENDER_TARGET.WEBGL_LAYER,target:this.webGlLayer.nativeElement}].forEach(t=>{e.registerRenderTargetSet(t)}),e.start(),this._psd=e}_testWorker(){if("undefined"!=typeof Worker){const t=Object(a.a)("Hello from main thread");Object(i.a)(()=>new Worker(e,void 0),t).subscribe(e=>{console.log(e)})}else console.warn("Web worker is not supported in this browser.")}test(){this.psd.engine.plugin.searchPluginByName(o.a.DRAG,n.DRAW_PSD).plugin.reRenderAll()}countUp(){this.count++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Bb({type:t,selectors:[["seek-psd-canvas"]],viewQuery:function(e,t){if(1&e&&(s.Yb(l,3),s.Yb(u,3),s.Yb(d,3),s.Yb(c,3)),2&e){let e;s.Tb(e=s.Sb())&&(t.layer=e.first),s.Tb(e=s.Sb())&&(t.mainLayer=e.first),s.Tb(e=s.Sb())&&(t.webGlLayer=e.first),s.Tb(e=s.Sb())&&(t.uiLayer=e.first)}},decls:15,vars:1,consts:[[1,"float"],[3,"click"],[1,"layer"],["layer",""],[1,"layer__psd"],["mainLayer",""],["webGlLayer",""],[1,"layer__ui"],["uiLayer",""]],template:function(e,t){1&e&&(s.Kb(0,"div",0),s.Kb(1,"button",1),s.Rb("click",function(){return t.test()}),s.Wb(2,"reRender"),s.Jb(),s.Kb(3,"button",1),s.Rb("click",function(){return t.countUp()}),s.Wb(4,"count"),s.Jb(),s.Kb(5,"div"),s.Wb(6),s.Jb(),s.Jb(),s.Kb(7,"div",2,3),s.Ib(9,"canvas",4,5),s.Ib(11,"canvas",4,6),s.Ib(13,"canvas",7,8),s.Jb()),2&e&&(s.yb(6),s.Xb(t.count))},styles:[".float[_ngcontent-%COMP%]{position:absolute;right:0;z-index:1000}.float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff;width:100px}.layer[_ngcontent-%COMP%]{position:relative;background-color:var(--bg-secondary);width:100vw;max-width:100%;height:100vh}.layer[_ngcontent-%COMP%]   .layer__psd[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%]   .layer__ui[_ngcontent-%COMP%]{position:absolute;image-rendering:-webkit-crisp-edges;image-rendering:pixelated;image-rendering:crisp-edges;width:100%;height:100%}.layer__psd[_ngcontent-%COMP%]{z-index:0}.layer__ui[_ngcontent-%COMP%]{z-index:1}"]}),t})()}).call(this,r("OK+Z"))},"N3/w":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const n=r("IPhx");t.BufferTokenizer=class{constructor(e,t){this.buffer=e,this.position=0,this.fileInfo=t||{},this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}return this.peekBuffer(e,t).then(e=>(this.position+=e,e))}async peekBuffer(e,t){let r=0,i=e.length,a=this.position;if(t){if(t.position){if(t.position<this.position)throw new Error("`options.position` can be less than `tokenizer.position`");a=t.position}Number.isInteger(t.length)?i=t.length:i-=t.offset||0,t.offset&&(r=t.offset)}if(0===i)return Promise.resolve(0);a=a||this.position,i||(i=e.length);const o=Math.min(this.buffer.length-a,i);if(t&&t.mayBeLess||!(o<i))return this.buffer.copy(e,r,a,a+o),o;throw new n.EndOfStreamError}async readToken(e,t){this.position=t||this.position;try{const t=this.peekToken(e,this.position);return this.position+=e.len,t}catch(r){throw this.position+=this.buffer.length-t,r}}async peekToken(e,t=this.position){if(this.buffer.length-t<e.len)throw new n.EndOfStreamError;return e.get(this.buffer,t)}async readNumber(e){return this.readToken(e)}async peekNumber(e){return this.peekToken(e)}async ignore(e){const t=Math.min(this.buffer.length-this.position,e);return this.position+=t,t}async close(){}}},NAH1:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("ANlV"),i=r("wDnH"),a=r("jWUv"),o=r("UcDJ");class s{constructor(){this.targetElement=null,this.pluginSetsInit=[{pluginName:o.d,plugin:new o.e}],this.pluginSetsDrag=[{pluginName:i.b,plugin:new i.c(n.a.DRAG)},{pluginName:i.d,plugin:new i.e(n.a.DRAG)},{pluginName:o.h,plugin:new o.i},{pluginName:o.a,plugin:new o.b(n.a.DRAG)}],this.pluginSetsPointer=[{pluginName:o.f,plugin:new o.g}],this.pluginSetsRender=[{pluginName:o.j,plugin:new o.k}],this.pluginSetsZoom=[{pluginName:o.l,plugin:new o.m}],this.renderTargetSets=[],this._engine=null}get engine(){return this._engine}init(e){this.targetElement=e}registerRenderTargetSet(e){this.renderTargetSets.push(e)}start(){const e=new n.b,t=new n.c(this.targetElement),r=new a.a;this.pluginSetsInit.forEach(t=>e.registerPlugin(t)),this.pluginSetsDrag.forEach(t=>e.registerPlugin(t)),this.pluginSetsPointer.forEach(t=>e.registerPlugin(t)),this.pluginSetsRender.forEach(t=>e.registerPlugin(t)),this.pluginSetsZoom.forEach(t=>e.registerPlugin(t)),r.renderTargetSets=this.renderTargetSets,e.init(t,r),e.start(),e.store.updateNotifier.observer().subscribe(e=>{console.log(e)}),this._engine=e}}},O25g:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r("EY2u"),i=r("LRne"),a=r("HDdC");let o=(()=>{class e{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return e=this.error,new a.a(t=>t.error(e));case"C":return Object(n.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();r("xgIS"),r("XNiG"),r("yCtX"),r("DH7j");var s=r("7o/Q");r("Lhse"),r("zx2A");var l=r("lJxs");r("pLZG");class u{call(e,t){return t.subscribe(new d(e))}}class d extends s.a{constructor(e){super(e)}_next(e){e.observe(this.destination)}}r("bOdf");class c{call(e,t){return t.subscribe(new f(e))}}class f extends s.a{constructor(e){super(e)}_next(e){this.destination.next(o.createNext(e))}_error(e){const t=this.destination;t.next(o.createError(e)),t.complete()}_complete(){const e=this.destination;e.next(o.createComplete()),e.complete()}}var h=r("vkgz");function p(e,t,r,n={terminateOnComplete:!0}){return new a.a(i=>{let a,o;try{a=e(),a.onmessage=e=>i.next(e.data),a.onerror=e=>i.error(e),o=t.pipe(function(e){return e.lift(new c)},Object(h.a)(e=>{if(r&&e.hasValue){const t=r(e.value);a.postMessage(e,t)}else a.postMessage(e)})).subscribe()}catch(s){i.error(s)}return()=>{o&&o.unsubscribe(),a&&n.terminateOnComplete&&a.terminate()}}).pipe(Object(l.a)(({kind:e,value:t,error:r})=>new o(e,t,r)),function(e){return e.lift(new u)})}r("bHdf"),r("nYR2")},"OK+Z":function(e,t,r){e.exports=r.p+"0.fd78c6452ad3eccfde97.worker.js"},P7XM:function(e,t){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},Syqg:function(e,t,r){"use strict";function n(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function i(e,t){const r=t.width>t.height,n=r?t.width/t.height:t.height/t.width;return{width:r?e*n:e,height:r?e:e*n}}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i})},URgk:function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("yLpj"))},UYS0:function(e,t,r){e.exports=r("+qE3").EventEmitter},UcDJ:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return w}),r.d(t,"f",function(){return E}),r.d(t,"g",function(){return S}),r.d(t,"l",function(){return k}),r.d(t,"m",function(){return T}),r.d(t,"h",function(){return M}),r.d(t,"i",function(){return N}),r.d(t,"d",function(){return K}),r.d(t,"e",function(){return Y}),r.d(t,"j",function(){return Z}),r.d(t,"k",function(){return X});var n=r("ANlV");const i="clearTmp";class a extends n.d{constructor(e){super({pluginType:e,isLoadAtStartup:!1})}call(e,t){super.call(e,t),this.userStore.tmp={psdSets:[],psds:[]}}}var o=r("GMPE"),s=r("n/eI");class l extends n.d{constructor(){super({pluginType:n.a.DRAG})}call(e,t){if(super.call(e,t),e.flags.drag.isDrop){const e=this.userStore.tmp.psds.filter(e=>!e.isPsd);0===e.length&&console.log("No valid image files are found. Skip loading files.");for(let t=0;t<e.length;t++)this._drawPsd(e[t],this.userStore.stage.targetGl)}}load(e,t){e.isPsd||this._drawPsd(e,t)}_drawPsd(e,t){this._updatePsd(e,t),this._updateStageChildren(e)}_updateStageChildren(e){this.userStore&&this.userStore.stage.children.push(e)}_updatePsd(e,t){const r={width:e.rawWidth,height:e.rawHeight},n=Object(o.calcFixedSize)(s.a,r);e.updateStateSize({width:n.width,height:n.height}),e.updateTexture(t,e.rawElement),console.log(`Rendered ${e.fileName}!`)}}var u=function(e){return e.VERTEX="vertex",e.FRAGMENT="fragment",e}({});function d(e,t,r){const n=e,i=t.attribLocations,a=t.uniformLocations;{const e=2,t=n.FLOAT,a=!1,o=0,s=0;n.bindBuffer(n.ARRAY_BUFFER,r.position),n.vertexAttribPointer(i.aPosition,e,t,a,o,s),n.enableVertexAttribArray(i.aPosition)}{const e=2,t=n.FLOAT,a=!1,o=0,s=0;n.bindBuffer(n.ARRAY_BUFFER,r.textureCoord),n.vertexAttribPointer(i.aTexCoord,e,t,a,o,s),n.enableVertexAttribArray(i.aTexCoord)}n.uniform1i(a.uTexture0,0),n.uniform1i(a.uTexture1,1);const o=n.TRIANGLES,s=n.UNSIGNED_SHORT;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r.index),n.drawElements(o,6,s,0),n.bindBuffer(n.ARRAY_BUFFER,null)}function c(e,t,r){const n=e,i=f(n,n.VERTEX_SHADER,t),a=f(n,n.FRAGMENT_SHADER,r),o=n.createProgram();return n.attachShader(o,i),n.attachShader(o,a),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS)?o:(alert("Unable to initialize the shader program: "+n.getProgramInfoLog(o)),null)}function f(e,t,r){const n=e,i=n.createShader(t);return n.shaderSource(i,r),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS)?i:(alert("An error occurred compiling the shaders: "+n.getShaderInfoLog(i)),n.deleteShader(i),null)}class h{constructor(e,t){this.vertex=e,this.fragment=t}searchShaderByType(e){if(e===u.VERTEX)return this.vertex;if(e===u.FRAGMENT)return this.fragment;throw new Error("Invalid shader type is detected.")}searchShaderByName(e,t){return this.searchShaderByType(e).find(e=>e.name===t).program}}var p=function(e){return e.VERTEX="vertex",e.FRAGMENT="fragment",e}({});const g={normal:"alpha",lighten:"lighten",darken:"darken",multiply:"multiply",average:"average",add:"add",substract:"substract",difference:"difference",negation:"negation",exclusion:"exclusion",screen:"screen",overlay:"overlay","soft light":"softLight","hard light":"hardLight","color dodge":"colorDodge","color burn":"colorBurn","linear dodge":"linearDodge","linear burn":"linearBurn","linear light":"linearLight","vivid light":"vividLight","pin light":"pinLight","hard mix":"hardMix",reflect:"reflect",glow:"glow",phoenix:"phoenix",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"},m=["normal","alpha","lighten","darken","multiply","average","add","substract","difference","negation","exclusion","screen","overlay","softLight","hardLight","colorDodge","colorBurn","linearDodge","linearBurn","linearLight","vividLight","pinLight","hardMix","reflect","glow","phoenix","hue","saturation","color","luminosity"],v=[{name:"normal",program:"\n\t\t\tattribute vec4 a_position;\n\t\t\tattribute vec2 a_texCoord;\n\n\t\t\tuniform float u_flipY;\n\t\t\tuniform vec2 u_resolution;\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tvoid main() {\n\t\t\t\tvec2 zeroToOne = a_position.xy / u_resolution;\n\t\t\t\tvec2 zeroToTwo = zeroToOne * 2.0;\n\t\t\t\tvec2 clipSpace = zeroToTwo - 1.0;\n\t\t\t\tvec4 pos = vec4(clipSpace * vec2(1, u_flipY), 0, 1);\n\n\t\t\t\tgl_Position = pos;\n\t\t\t\tv_texCoord = a_texCoord;\n\t\t\t}\n\t\t"}],b=[{name:"normal",program:"\n\t\t\tprecision mediump float;\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform float u_opacity;\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\n\t\t\t\tgl_FragColor = vec4(b.rgb, b.a * u_opacity);\n\t\t\t}\n\t\t"},{name:"alpha",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, s).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"lighten",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendLightenf(base, blend)\t\tmax(blend, base)\n\t\t\t#define BlendLighten\t\tBlendLightenf\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 lighten = vec4(BlendLighten(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, lighten).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"darken",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendDarkenf(base, blend)\t\tmin(blend, base)\n\t\t\t#define BlendDarken\t\tBlendDarkenf\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 darken = vec4(BlendDarken(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, darken).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"multiply",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendMultiply(base, blend)\t\t(base * blend)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 multiply = vec4(BlendMultiply(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, multiply).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"average",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendAverage(base, blend)\t\t((base + blend) / 2.0)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 average = vec4(BlendAverage(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, average).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"add",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendAdd(base, blend)\t\tmin(base + blend, vec3(1.0))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 add = vec4(BlendAdd(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, add).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"substract",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendSubstract(base, blend) \tmax(base + blend - vec3(1.0), vec3(0.0))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 substract = vec4(BlendSubstract(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, substract).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"difference",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendDifference(base, blend)\t\tabs(base - blend)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 difference = vec4(BlendDifference(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, difference).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"negation",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendNegation(base, blend)\t\t(vec3(1.0) - abs(vec3(1.0) - base - blend))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 negation = vec4(BlendNegation(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, negation).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"exclusion",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendExclusion(base, blend)\t\t(base + blend - 2.0 * base * blend)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 exclusion = vec4(BlendExclusion(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, exclusion).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"screen",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendScreenf(base, blend)\t\t(1.0 - ((1.0 - base) * (1.0 - blend)))\n\t\t\t#define BlendScreen(base, blend)\t\tBlend(base, blend, BlendScreenf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 screen = vec4(BlendScreenf(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, screen).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"overlay",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendOverlayf(base, blend)\t\t(base < 0.5 ? (2.0 * base * blend) : (1.0 - 2.0 * (1.0 - base) * (1.0 - blend)))\n\t\t\t#define BlendOverlay(base, blend)\t\tBlend(base, blend, BlendOverlayf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 overlay = vec4(BlendOverlay(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, overlay).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"softLight",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendSoftLightf(base, blend)\t\t((blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend)))\n\t\t\t#define BlendSoftLight(base, blend)\t\tBlend(base, blend, BlendSoftLightf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 softLight = vec4(BlendSoftLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, softLight).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"hardLight",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendOverlayf(base, blend)\t\t(base < 0.5 ? (2.0 * base * blend) : (1.0 - 2.0 * (1.0 - base) * (1.0 - blend)))\n\t\t\t#define BlendOverlay(base, blend)\t\tBlend(base, blend, BlendOverlayf)\n\t\t\t#define BlendHardLight(base, blend)\t\tBlendOverlay(blend, base)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 hardLight = vec4(BlendHardLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, hardLight).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"colorDodge",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendColorDodgef(base, blend)\t\t((blend == 1.0) ? blend : min(base / (1.0 - blend), 1.0))\n\t\t\t#define BlendColorDodge(base, blend)\t\tBlend(base, blend, BlendColorDodgef)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 colorDodge = vec4(BlendColorDodge(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, colorDodge).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"colorBurn",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendColorBurnf(base, blend) \t((blend == 0.0) ? blend : max((1.0 - ((1.0 - base) / blend)), 0.0))\n\t\t\t#define BlendColorBurn(base, blend) \tBlend(base, blend, BlendColorBurnf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 colorBurn = vec4(BlendColorBurn(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, colorBurn).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"linearDodge",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendAdd(base, blend)\t\tmin(base + blend, vec3(1.0))\n\t\t\t#define BlendLinearDodge\t\tBlendAdd\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 linearDodge = vec4(BlendLinearDodge(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, linearDodge).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"linearBurn",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendSubstract(base, blend)\t\tmax(base + blend - vec3(1.0), vec3(0.0))\n\t\t\t#define BlendLinearBurn\t\t\tBlendSubstract\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 linearBurn = vec4(BlendLinearBurn(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, linearBurn).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"linearLight",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendSubstractf(base, blend)\t\tmax(base + blend - 1.0, 0.0)\n\t\t\t#define BlendAddf(base, blend)\t\tmin(base + blend, 1.0)\n\t\t\t#define BlendLinearBurnf\t\tBlendSubstractf\n\t\t\t#define BlendLinearDodgef\t\tBlendAddf\n\t\t\t#define BlendLinearLightf(base, blend)\t\t(blend < 0.5 ? BlendLinearBurnf(base, (2.0 * blend)) : BlendLinearDodgef(base, (2.0 * (blend - 0.5))))\n\t\t\t#define BlendLinearLight(base, blend)\t\tBlend(base, blend, BlendLinearLightf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 linearLight = vec4(BlendLinearLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, linearLight).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"vividLight",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendColorDodgef(base, blend)\t\t((blend == 1.0) ? blend : min(base / (1.0 - blend), 1.0))\n\t\t\t#define BlendColorBurnf(base, blend)\t\t((blend == 0.0) ? blend : max((1.0 - ((1.0 - base) / blend)), 0.0))\n\t\t\t#define BlendVividLightf(base, blend) \t((blend < 0.5) ? BlendColorBurnf(base, (2.0 * blend)) : BlendColorDodgef(base, (2.0 * (blend - 0.5))))\n\t\t\t#define BlendVividLight(base, blend)\t\tBlend(base, blend, BlendVividLightf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 vividLight = vec4(BlendVividLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, vividLight).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"pinLight",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendDarkenf(base, blend)\t\tmin(blend, base)\n\t\t\t#define BlendLightenf(base, blend)\t\tmax(blend, base)\n\t\t\t#define BlendPinLightf(base, blend)\t\t((blend < 0.5) ? BlendDarkenf(base, (2.0 * blend)) : BlendLightenf(base, (2.0 *(blend - 0.5))))\n\t\t\t#define BlendPinLight(base, blend)\t\tBlend(base, blend, BlendPinLightf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 pinLight = vec4(BlendPinLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, pinLight).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"hardMix",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendColorBurnf(base, blend)\t\t((blend == 0.0) ? blend : max((1.0 - ((1.0 - base) / blend)), 0.0))\n\t\t\t#define BlendColorDodgef(base, blend)\t\t((blend == 1.0) ? blend : min(base / (1.0 - blend), 1.0))\n\t\t\t#define BlendVividLightf(base, blend)\t\t((blend < 0.5) ? BlendColorBurnf(base, (2.0 * blend)) : BlendColorDodgef(base, (2.0 * (blend - 0.5))))\n\t\t\t#define BlendHardMixf(base, blend)\t\t((BlendVividLightf(base, blend) < 0.5) ? 0.0 : 1.0)\n\t\t\t#define BlendHardMix(base, blend)\t\tBlend(base, blend, BlendHardMixf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 hardMix = vec4(BlendHardMix(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, hardMix).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"reflect",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendReflectf(base, blend)\t\t((blend == 1.0) ? blend : min(base * base / (1.0 - blend), 1.0))\n\t\t\t#define BlendReflect(base, blend)\t\tBlend(base, blend, BlendReflectf)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 reflect = vec4(BlendReflect(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, reflect).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"glow",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t#define BlendReflectf(base, blend)\t\t((blend == 1.0) ? blend : min(base * base / (1.0 - blend), 1.0))\n\t\t\t#define BlendReflect(base, blend)\t\tBlend(base, blend, BlendReflectf)\n\t\t\t#define BlendGlow(base, blend)\t\tBlendReflect(blend, base)\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 glow = vec4(BlendGlow(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, glow).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"phoenix",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t#define BlendPhoenix(base, blend) \t\t(min(base, blend) - max(base, blend) + vec3(1.0))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 phoenix = vec4(BlendPhoenix(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, phoenix).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"hue",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t} else {\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t}\n\n\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn hsl;\n\t\t\t}\n\n\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\thue += 1.0;\n\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\thue -= 1.0;\n\t\t\t\t}\n\n\t\t\t\tfloat res;\n\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\tres = f2;\n\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t} else {\n\t\t\t\t\tres = f1;\n\t\t\t\t}\n\n\t\t\t\treturn res;\n\t\t\t}\n\n\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\tvec3 rgb;\n\n\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t} else {\n\t\t\t\t\tfloat f2;\n\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t}\n\n\t\t\t\treturn rgb;\n\t\t\t}\n\n\t\t\tvec3 BlendHue(vec3 base, vec3 blend) {\n\t\t\t\tvec3 baseHSL = RGBToHSL(base);\n\t\t\t\treturn HSLToRGB(vec3(RGBToHSL(blend).r, baseHSL.g, baseHSL.b));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 hue = vec4(BlendHue(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, hue).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"saturation",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t} else {\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t}\n\n\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn hsl;\n\t\t\t}\n\n\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\thue += 1.0;\n\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\thue -= 1.0;\n\t\t\t\t}\n\n\t\t\t\tfloat res;\n\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\tres = f2;\n\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t} else {\n\t\t\t\t\tres = f1;\n\t\t\t\t}\n\n\t\t\t\treturn res;\n\t\t\t}\n\n\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\tvec3 rgb;\n\n\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t} else {\n\t\t\t\t\tfloat f2;\n\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t}\n\n\t\t\t\treturn rgb;\n\t\t\t}\n\n\t\t\tvec3 BlendSaturation(vec3 base, vec3 blend) {\n\t\t\t\tvec3 baseHSL = RGBToHSL(base);\n\t\t\t\treturn HSLToRGB(vec3(baseHSL.r, RGBToHSL(blend).g, baseHSL.b));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 saturation = vec4(BlendSaturation(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, saturation).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"color",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t} else {\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t}\n\n\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn hsl;\n\t\t\t}\n\n\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\thue += 1.0;\n\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\thue -= 1.0;\n\t\t\t\t}\n\n\t\t\t\tfloat res;\n\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\tres = f2;\n\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t} else {\n\t\t\t\t\tres = f1;\n\t\t\t\t}\n\n\t\t\t\treturn res;\n\t\t\t}\n\n\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\tvec3 rgb;\n\n\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t} else {\n\t\t\t\t\tfloat f2;\n\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t}\n\n\t\t\t\treturn rgb;\n\t\t\t}\n\n\t\t\tvec3 BlendColor(vec3 base, vec3 blend) {\n\t\t\t\tvec3 blendHSL = RGBToHSL(blend);\n\t\t\t\treturn HSLToRGB(vec3(blendHSL.r, blendHSL.g, RGBToHSL(base).b));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 color = vec4(BlendColor(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, color).rgb, u_opacity);\n\t\t\t}\n\t\t"},{name:"luminosity",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\t\t\tuniform sampler2D u_texture1;\n\t\t\tuniform float u_opacity;\n\n\n\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t} else {\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t}\n\n\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn hsl;\n\t\t\t}\n\n\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\thue += 1.0;\n\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\thue -= 1.0;\n\t\t\t\t}\n\n\t\t\t\tfloat res;\n\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\tres = f2;\n\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t} else {\n\t\t\t\t\tres = f1;\n\t\t\t\t}\n\n\t\t\t\treturn res;\n\t\t\t}\n\n\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\tvec3 rgb;\n\n\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t} else {\n\t\t\t\t\tfloat f2;\n\n\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t}\n\n\t\t\t\treturn rgb;\n\t\t\t}\n\n\t\t\tvec3 BlendLuminosity(vec3 base, vec3 blend) {\n\t\t\t\tvec3 baseHSL = RGBToHSL(base);\n\t\t\t\treturn HSLToRGB(vec3(baseHSL.r, baseHSL.g, RGBToHSL(blend).b));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\tvec4 luminosity = vec4(BlendLuminosity(b.rgb, s.rgb), s.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, luminosity).rgb, u_opacity);\n\t\t\t}\n\t\t"}],y=new class extends h{constructor(){super(v,b)}createBlendModes(e){const t=e,r=this.searchShaderByName(p.VERTEX,"normal");let n=[];for(let i=0;i<m.length;i++)n.push({name:m[i],programInfo:this._createBlendMode(t,r,m[i])});return n}_createBlendMode(e,t,r){const n=this.searchShaderByName(p.FRAGMENT,r);return this._createShaderProgram(e,t,n)}_createShaderProgram(e,t,r){const n=e,i=c(n,t,r);return{program:i,attribLocations:{aPosition:n.getAttribLocation(i,"a_position"),aTexCoord:n.getAttribLocation(i,"a_texCoord")},uniformLocations:{uTexture0:n.getUniformLocation(i,"u_texture0"),uTexture1:n.getUniformLocation(i,"u_texture1"),uFlipY:n.getUniformLocation(i,"u_flipY"),uResolution:n.getUniformLocation(i,"u_resolution"),uOpacity:n.getUniformLocation(i,"u_opacity")}}}},w="drawPsd";class _ extends n.d{constructor(){super({pluginType:n.a.DRAG,isNotifierEnabled:!0})}call(e,t){if(super.call(e,t),e.flags.drag.isDrop){const e=this.userStore.tmp.psds.filter(e=>e.isPsd);if(0===e.length)return void console.log("No valid psd files are found. Skip loading files.");for(let t=0;t<e.length;t++){const r=e[t];this._createWebGlElement(r),this._main(r,this.userStore.stage.targetGl)}}}load(e,t){e.isPsd&&(this._createWebGlElement(e),this._main(e,t))}reRenderAll(){if(!this.userStore)return;const e=this.userStore.stage.psds.filter(e=>e.isPsd);if(0!==e.length)for(let t=0;t<e.length;t++){const r=e[t];this._render(r),this._updatePsd(r,this.userStore.stage.targetGl)}else console.log("No valid psd files are found. Skip loading files.")}reRenderTarget(e,t){this.userStore&&(this._render(e),this._updatePsd(e,t))}_createWebGlElement(e){e.createWebGlElement(),e.attatchBlendModes(e.targetGl,y)}_main(e,t){this._render(e),this._updatePsd(e,t),this._updateStageChildren(e)}_updateStageChildren(e){this.userStore&&this.userStore.stage.children.push(e)}_updatePsd(e,t){const r=e.getResultCanvas();e.updateTexture(t,r),console.log(`Rendered ${e.fileName}!`)}_render(e){const t=e.targetGl,r=Object(o.createQuadBuffer)(t,0,0,t.canvas.width,t.canvas.height),n=[];n.push(Object(o.createFramebuffer)(t,t.canvas.width,t.canvas.height)),n.push(Object(o.createFramebuffer)(t,t.canvas.width,t.canvas.height)),this._drawScene(e,r,n)}_drawScene(e,t,r){const n=this._renderLayers(e,t,r);this._renderResult(e,t,n)}_renderLayers(e,t,r){const n=e.targetGl;let i=0;this._recursiveRender(e.layerInfos,(a,s)=>{let l=null,u=null;if(!a.isFolder&&!a.isLayerHidden.current&&a.element){if(a.layerTexture||(n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,null),a.layerTexture=function(e,t){const r=e.targetGl,n=e.getProgramInfo("normal"),i=n.uniformLocations,a=Object(o.createQuadBuffer)(r,1*t.layer.left,1*t.layer.top,1*(t.layer.right-t.layer.left),1*(t.layer.bottom-t.layer.top)),s=Object(o.createFramebuffer)(r,r.canvas.width,r.canvas.height);r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer),r.viewport(0,0,r.canvas.width,r.canvas.height),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.useProgram(n.program);const l=Object(o.createTexture)(r,t.element);return r.bindTexture(r.TEXTURE_2D,l),r.uniform1f(i.uFlipY,1),r.uniform1f(i.uOpacity,t.layer.opacity),r.uniform2f(i.uResolution,r.canvas.width,r.canvas.height),d(r,n,a),r.bindFramebuffer(r.FRAMEBUFFER,null),r.useProgram(null),r.bindTexture(r.TEXTURE_2D,null),console.log(`Created a layer : ${t.layerName}`),s.texture}(e,a)),n.bindFramebuffer(n.FRAMEBUFFER,r[i%2].framebuffer),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),0===i)l=e.getProgramInfo("normal"),u=l.uniformLocations,n.useProgram(l.program),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,a.layerTexture);else{const t=g[a.layer.blendMode];if(!t)return;l=e.getProgramInfo(t),u=l.uniformLocations,n.useProgram(l.program);let o=i%2-1;o=o<=-1?1:0,n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r[o].texture),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,a.layerTexture)}n.uniform1f(u.uFlipY,1),n.uniform1f(u.uOpacity,1),n.uniform2f(u.uResolution,n.canvas.width,n.canvas.height),d(n,l,t),i++}}),n.bindFramebuffer(n.FRAMEBUFFER,null),n.useProgram(null),n.bindTexture(n.TEXTURE_2D,null);let a=i%2-1;return a=a<=-1?1:0,r[a].texture}_recursiveRender(e,t){for(let r=e.length-1;r>-1;r--)t(e[r],e),e[r].children.length>0&&this._recursiveRender(e[r].children,t)}_renderResult(e,t,r){const n=e.targetGl,i=e.getProgramInfo("normal"),a=i.uniformLocations;n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.useProgram(i.program),n.bindTexture(n.TEXTURE_2D,r),n.uniform2f(a.uResolution,n.canvas.width,n.canvas.height),d(n,i,t),n.flush()}}var x=r("Jndf");const E="moveStage";class S extends n.d{constructor(){super({pluginType:n.a.POINTER})}call(e,t){super.call(e,t);const r=this.store.flags.pointer.state,n=this.userStore.stage;r.isMiddleDown||r.isLeftDown?this._down(n):r.isMiddleMove||r.isLeftMove?this._move(n):(r.isMiddleUp||r.isLeftUp)&&(this._up(n),this._down(n))}_down(e){e.updatePrevOffset(e.states.common.offset.new)}_move(e){e.updateIsRenderTargetActive(!0),e.doCommand(x.a.UPDATE_OFFSET,this.store)}_up(e){e.save(x.a.UPDATE_OFFSET,this.store)}}const k="zoom";class T extends n.d{constructor(){super({pluginType:n.a.WHEEL})}call(e,t){super.call(e,t);const r=this.store.flags.wheel,n=this.store.values.wheel,i=this.userStore.stage;i.updateIsRenderTargetActive(!0),r.isWheelStart||r.isWheelEnd||(i.updateZoomRatio(n.deltaY),i.doCommand(x.a.UPDATE_ZOOM,this.store))}}var R=r("mrSG"),B=r("wDnH");class C{constructor(e,t){this.children=[],this.canvas=t.canvas||t.imageData,this.width=t.width,this.height=t.height,this.isPsd=!0,t.children.length>0?this.children=t.children:this.children.push({name:e,canvas:t.canvas,blendMode:"normal",hidden:!1,opacity:1,clipping:!1,left:0,right:t.width,top:0,bottom:t.height})}}class A{constructor(e,t){this.children=[],this.canvas=t.canvas,this.width=t.width,this.height=t.height,this.isPsd=!1,this.children.push({name:e,canvas:t.canvas,blendMode:"normal",hidden:!1,opacity:1,clipping:!1,left:0,right:t.width,top:0,bottom:t.height})}}var I=r("opOj");const D=".(jpe?g|png|bmp)$",L=".(psd|vnd.adobe.photoshop)$";class P extends n.d{constructor(){super({pluginType:n.a.DRAG}),this.totalCount=0,this.psdSet=null}call(e,t){const r=Object.create(null,{call:{get:()=>super.call}});return Object(R.a)(this,void 0,void 0,function*(){return r.call.call(this,e,t),new Promise(e=>{this.resolve=e,this._switchEventType()})})}load(e){return Object(R.a)(this,void 0,void 0,function*(){return new Promise(t=>{this.resolvePayload=t,this.totalCount++,this._loadFile(e)})})}_switchEventType(){this.store.flags.drag.isDrop&&(this._loadFiles(this.store.values.drag.files),this._clearCaches())}_loadFiles(e){const t=e.filter(e=>Object(o.validateFormat)(e,D)||Object(o.validateFormat)(e,L));console.log("PSD/Image files : ",t),this.totalCount=t.length,0===t.length&&(console.log("No supported files are found. Skip loading files."),this.resolve());for(let r=0;r<t.length;r++)this._loadFile(t[r])}_loadFile(e){Object(o.validateFormat)(e,D)?this._blobReader(e):Object(o.validateFormat)(e,L)?this._fileReader(e):(console.log("Unknow file format is detected."),this._manageCount())}_blobReader(e){Object(o.createImage)(e,t=>this._updatePsdSets(t,e.name)).onerror=()=>{console.error("Error loading an image."),this._blobReader(e)}}_updatePsdSets(e,t){const r={fileName:t,psdData:new A(t,{width:e.width,height:e.height,canvas:e,children:[]})};this._updatePsdSet(r),console.log("Dummy psd : ",t),this._manageCount()}_fileReader(e){return Object(R.a)(this,void 0,void 0,function*(){const t=yield this._readAsArrayBuffer(e);this._switchSubReaders(e,t)})}_readAsArrayBuffer(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=e=>{t(e.target.result)},n.onerror=r,n.readAsArrayBuffer(e)})}_switchSubReaders(e,t){Object(o.validateFormat)(e,".(psd|vnd.adobe.photoshop)$")?this._psdReader(e.name,t):(console.error("Invalid file format is detected."),this._manageCount())}_psdReader(e,t){try{const r=Object(I.readPsd)(t,{useImageData:!0,skipThumbnail:!0,skipLinkedFilesData:!0}),n={fileName:e,psdData:new C(e,r)};this._updatePsdSet(n),console.log(e,r),this._manageCount()}catch(r){console.error("Error pasing a file."),this._manageCount()}}_updatePsdSet(e){this.userStore?this.userStore.tmp.psdSets.push(e):this.psdSet=e}_manageCount(){this.totalCount--,0===this.totalCount&&(this.resolve?this.resolve():this.resolvePayload(this.psdSet),this.psdSet=null)}_clearCaches(){this.store.values.drag.files=[]}}class F{constructor(e,t){var r;this.thumbnail=null,this.layerTexture=null,this.isLayerHidden={current:!0,parent:!1},this.children=[],this.layerName=e.name,this.uniqueId=Object(o.generateUuid)(),this.element=e.canvas||e.imageData,this.layer={blendMode:e.blendMode,opacity:e.opacity,clipping:e.clipping,left:e.left,right:e.right,top:e.top,bottom:e.bottom},this.isFolder=(null===(r=e.children)||void 0===r?void 0:r.length)>0&&!(e.canvas instanceof HTMLCanvasElement),t&&(this.isLayerHidden=t)}}var O=r("mrXx");let U=(()=>{class e extends n.d{constructor(){super({pluginType:n.a.DRAG})}static registerInitialPos(t){e.initalPos=t}call(e,t){super.call(e,t),e.flags.drag.isDrop&&this._shapePsds()}load(e,t,r){return Object(R.a)(this,void 0,void 0,function*(){return new Promise(n=>{this.resolvePayload=n,this._shapePsd(e,t,r)})})}_shapePsds(){const e=this.userStore.tmp.psdSets,t=this.userStore.stage,r={x:t.states.common.offset.new.x,y:t.states.common.offset.new.y};if(0!==e.length)for(let n=0;n<e.length;n++)this._shapePsd(e[n],t,r)}_shapePsd(t,r,n){const i=[],a=n,s=t.psdData,l=Object(o.generateUuid)(),u=s.width,d=s.height;console.log(s);const c=s.children;for(let e=c.length-1;e>-1;e--){const t=new F(c[e],{current:c[e].hidden,parent:!1});i.push(t),this._getChildren(c[e],t)}const f={x:(e.initalPos.x-a.x)/r.zoomRatio,y:(e.initalPos.y-a.y)/r.zoomRatio},h=new O.a(r,{fileName:t.fileName,uniqueId:l,isPsd:s.isPsd,rawWidth:u,rawHeight:d,rawElement:s.canvas,layerInfos:i});h.initOffset(f),this._updatePsd(h)}_getChildren(e,t){if(e.children)for(let r=e.children.length-1;r>-1;r--){const n=new F(e.children[r],{current:e.children[r].hidden,parent:t.isLayerHidden.current});t.children.push(n),this._getChildren(e.children[r],n)}}_updatePsd(e){this.userStore?this.userStore.tmp.psds.push(e):this.resolvePayload(e)}}return e.initalPos={x:0,y:0},e})();const M="psdLoader";class N extends n.d{constructor(){super({pluginType:n.a.DRAG,isNotifierEnabled:!0}),this.totalCount=0,this.psds=[]}call(e,t){const r=Object.create(null,{call:{get:()=>super.call}});return Object(R.a)(this,void 0,void 0,function*(){return r.call.call(this,e,t),new Promise(e=>{this.resolve=e,this._initVars(),this._execPlugins()})})}_initVars(){this.totalCount=0,this.psds=[]}_execPlugins(){return Object(R.a)(this,void 0,void 0,function*(){const e=this.userStore.stage,t={x:e.states.common.offset.new.x,y:e.states.common.offset.new.y};if(!this.store.flags.drag.isDrop)return;U.registerInitialPos(this.store.values.drag.client);const r=yield(new B.a).load(this.store.values.drag.data);this.totalCount=r.length;for(let n=0;n<r.length;n++){const i=r[n],a=yield(new B.f).load(i);a.length>0?(this.totalCount--,this.totalCount+=a.length,this._iterateLoad(a,e,t)):this._load(i,e,t)}})}_iterateLoad(e,t,r){for(let n=0;n<e.length;n++)this._load(e[n],t,r)}_load(e,t,r){return Object(R.a)(this,void 0,void 0,function*(){try{const n=yield(new P).load(e),i=this.userStore.stage,a=yield(new U).load(n,i,r);yield(new l).load(a,this.userStore.stage.targetGl),yield(new _).load(a,this.userStore.stage.targetGl),this.psds.push(a),this._manageCount(t)}catch(n){console.error(n),this._manageCount(t)}})}_manageCount(e){this.totalCount--,0===this.totalCount&&(this._reCalcPsdPoses(),e.updateIsRenderTargetActive(!0),this.resolve())}_reCalcPsdPoses(){const e=this.psds,t=function(e,t){const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}(e,Math.round(Math.sqrt(e.length))+1),r=t[0].length;let n=0,i=0;for(let a=0;a<t.length;a++){const e=t[a];if(0===a)for(let t=0;t<e.length;t++){const r=e[t].states.common.size;n+=Object(o.calcFixedSize)(s.a,r).width}this._calcLine(e,r,n,i),i+=e[0].states.common.size.height+20}}_calcLine(e,t,r,n){let i=0;for(let s=0;s<t;s++){const t=e[s];i+=t?t.rawWidth/t.rawHeight:1}const a=r/i;let o=0;for(let s=0;s<e.length;s++){const t=e[s],r=t.states.common;r.size.width=a*(t.rawWidth/t.rawHeight),r.size.height=a,s>0&&(o+=e[s-1].states.common.size.width,r.offset.new.x+=o+20*s),r.offset.new.y+=n,t.updateQuadBuffer(this.userStore.stage.targetGl,r.size,r.offset.new),this.userStore.stage.children.push(t)}}}var z=function(e){return e.VERTEX="vertex",e.FRAGMENT="fragment",e}({});const j=["normal"],G=[{name:"normal",program:"\n\t\t\tprecision highp float;\n\n\t\t\tattribute vec4 a_position;\n\t\t\tattribute vec2 a_texCoord;\n\n\t\t\tuniform float u_flipY;\n\t\t\tuniform float u_zoomRatio;\n\t\t\tuniform vec2 u_resolution;\n\t\t\tuniform vec2 u_transform;\n\t\t\tuniform vec2 u_pointerOffset;\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tvoid main() {\n\t\t\t\tvec2 screenPos = vec2(u_transform + a_position.xy * u_zoomRatio);\n\t\t\t\tvec2 zeroToOne = screenPos / u_resolution;\n\t\t\t\tvec2 zeroToTwo = zeroToOne * 2.0;\n\t\t\t\tvec2 clipSpace = zeroToTwo - 1.0;\n\t\t\t\tvec4 pos = vec4(clipSpace * vec2(1, u_flipY), 0, 1);\n\n\t\t\t\tgl_Position = pos;\n\t\t\t\tv_texCoord = a_texCoord;\n\t\t\t}\n\t\t"}],W=[{name:"normal",program:"\n\t\t\tprecision mediump float;\n\n\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\tuniform sampler2D u_texture0;\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\tvec4 s = vec4(b.a);\n\n\t\t\t\tgl_FragColor = vec4(BlendAlpha(s, b).rgb, b.a);\n\t\t\t}\n\t\t"}],H=new class extends h{constructor(){super(G,W)}createBlendModes(e){const t=e,r=this.searchShaderByName(z.VERTEX,"normal");let n=[];for(let i=0;i<j.length;i++)n.push({name:j[i],programInfo:this._createBlendMode(t,r,j[i])});return n}_createBlendMode(e,t,r){const n=this.searchShaderByName(z.FRAGMENT,r);return this._createShaderProgram(e,t,n)}_createShaderProgram(e,t,r){const n=e,i=c(n,t,r);return{program:i,attribLocations:{aPosition:n.getAttribLocation(i,"a_position"),aTexCoord:n.getAttribLocation(i,"a_texCoord")},uniformLocations:{uTexture0:n.getUniformLocation(i,"u_texture0"),uFlipY:n.getUniformLocation(i,"u_flipY"),uZoomRatio:n.getUniformLocation(i,"u_zoomRatio"),uResolution:n.getUniformLocation(i,"u_resolution"),uTransform:n.getUniformLocation(i,"u_transform"),uPointerOffset:n.getUniformLocation(i,"u_pointerOffset")}}}};var V=r("bdgK");const K="initWebGl";class Y extends n.d{constructor(){super({pluginType:n.a.INIT})}call(e,t){super.call(e,t),this._init()}_init(){const e=this.userStore.searchRenderTargetByName(s.b.WEBGL_LAYER),t=e.target.getContext("webgl",{preserveDrawingBuffer:!0});this.userStore.stage.updateTargetElement(e.target),this.userStore.stage.updateTargetGl(t),this.userStore.stage.attatchBlendModes(t,H),this._initCanvasOnResize(e.target)}_initCanvasOnResize(e){new V.a(()=>{e.width=e.clientWidth,e.height=e.clientHeight,this.userStore.stage.updateStateSize({width:e.width,height:e.height}),this.userStore.stage.updateIsRenderTargetActive(!0)}).observe(e)}}const Z="webglRenderer";class X extends n.d{constructor(){super({pluginType:n.a.RENDER}),this.prevTime=Date.now()}call(e,t){super.call(e,t);const r=this.userStore.stage,n=r.targetGl;if(!n||!r.isRenderTargetActive)return;const i=Date.now();i-this.prevTime>=16&&(n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.psds.forEach(e=>this._render(e)),this.prevTime=i)}_render(e){if(!e.quadBuffer)return;const t=e.root,r=t.targetGl;var n,i,a,o;if(o={width:e.states.common.size.width*t.zoomRatio,height:e.states.common.size.height*t.zoomRatio},(i={width:r.canvas.width,height:r.canvas.height}).height<(n={x:t.states.common.offset.new.x,y:t.states.common.offset.new.y}).y+(a={x:e.states.common.offset.new.x*t.zoomRatio,y:e.states.common.offset.new.y*t.zoomRatio}).y||n.y+a.y+o.height<0||i.width<n.x+a.x||n.x+a.x+o.width<0)return void t.updateIsRenderTargetActive(!1);const s=t.getProgramInfo("normal"),l=s.uniformLocations;r.useProgram(s.program),r.bindTexture(r.TEXTURE_2D,e.texture),r.uniform1f(l.uFlipY,-1),r.uniform1f(l.uZoomRatio,t.zoomRatio),r.uniform2f(l.uResolution,r.canvas.width,r.canvas.height),r.uniform2f(l.uTransform,t.states.common.offset.new.x,t.states.common.offset.new.y),r.uniform2f(l.uPointerOffset,this.store.values.pointer.current.x,this.store.values.pointer.current.y),d(r,s,e.quadBuffer),r.flush(),t.updateIsRenderTargetActive(!1)}}},W3re:function(e,t,r){"use strict";t.stringToBytes=e=>[...e].map(e=>e.charCodeAt(0)),t.tarHeaderChecksumMatches=(e,t=0)=>{const r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let n=256;for(let i=t;i<t+148;i++)n+=e[i];for(let i=t+156;i<t+512;i++)n+=e[i];return r===n},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},WSo5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeCanvas=t.createImageData=t.createCanvasFromData=t.createCanvas=t.writeDataRLE=t.writeDataRaw=t.decodeBitmap=t.resetImageData=t.hasAlpha=t.clamp=t.offsetForChannel=t.Compression=t.ChannelID=t.MaskParams=t.LayerMaskFlags=t.ColorSpace=t.createEnum=t.revMap=t.layerColors=t.toBlendMode=t.fromBlendMode=void 0;var n,i,a,o,s,l=r("H7XF");function u(e){var t={};return Object.keys(e).forEach(function(r){return t[e[r]]=r}),t}t.fromBlendMode={},t.toBlendMode={pass:"pass through",norm:"normal",diss:"dissolve",dark:"darken","mul ":"multiply",idiv:"color burn",lbrn:"linear burn",dkCl:"darker color",lite:"lighten",scrn:"screen","div ":"color dodge",lddg:"linear dodge",lgCl:"lighter color",over:"overlay",sLit:"soft light",hLit:"hard light",vLit:"vivid light",lLit:"linear light",pLit:"pin light",hMix:"hard mix",diff:"difference",smud:"exclusion",fsub:"subtract",fdiv:"divide","hue ":"hue","sat ":"saturation",colr:"color","lum ":"luminosity"},Object.keys(t.toBlendMode).forEach(function(e){return t.fromBlendMode[t.toBlendMode[e]]=e}),t.layerColors=["none","red","orange","yellow","green","blue","violet","gray"],t.revMap=u,t.createEnum=function(e,t,r){var n=u(r);return{decode:function(e){var r=e.split(".")[1];if(r&&!n[r])throw new Error("Unrecognized value for enum: "+e);return n[r]||t},encode:function(n){if(n&&!r[n])throw new Error("Invalid value for enum: "+n);return e+"."+(r[n]||r[t])}}},(s=t.ColorSpace||(t.ColorSpace={}))[s.RGB=0]="RGB",s[s.HSB=1]="HSB",s[s.CMYK=2]="CMYK",s[s.Lab=7]="Lab",s[s.Grayscale=8]="Grayscale",(o=t.LayerMaskFlags||(t.LayerMaskFlags={}))[o.PositionRelativeToLayer=1]="PositionRelativeToLayer",o[o.LayerMaskDisabled=2]="LayerMaskDisabled",o[o.InvertLayerMaskWhenBlending=4]="InvertLayerMaskWhenBlending",o[o.LayerMaskFromRenderingOtherData=8]="LayerMaskFromRenderingOtherData",o[o.MaskHasParametersAppliedToIt=16]="MaskHasParametersAppliedToIt",(a=t.MaskParams||(t.MaskParams={}))[a.UserMaskDensity=1]="UserMaskDensity",a[a.UserMaskFeather=2]="UserMaskFeather",a[a.VectorMaskDensity=4]="VectorMaskDensity",a[a.VectorMaskFeather=8]="VectorMaskFeather",(i=t.ChannelID||(t.ChannelID={}))[i.Red=0]="Red",i[i.Green=1]="Green",i[i.Blue=2]="Blue",i[i.Transparency=-1]="Transparency",i[i.UserMask=-2]="UserMask",i[i.RealUserMask=-3]="RealUserMask",(n=t.Compression||(t.Compression={}))[n.RawData=0]="RawData",n[n.RleCompressed=1]="RleCompressed",n[n.ZipWithoutPrediction=2]="ZipWithoutPrediction",n[n.ZipWithPrediction=3]="ZipWithPrediction",t.offsetForChannel=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case-1:return 3;default:return e+1}},t.clamp=function(e,t,r){return e<t?t:e>r?r:e},t.hasAlpha=function(e){for(var t=e.width*e.height*4,r=3;r<t;r+=4)if(255!==e.data[r])return!0;return!1},t.resetImageData=function(e){for(var t=e.width*e.height|0,r=new Uint32Array(e.data.buffer),n=0;n<t;n=n+1|0)r[n]=4278190080},t.decodeBitmap=function(e,t,r,n){for(var i=0,a=0,o=0;i<n;i++)for(var s=0;s<r;)for(var l=e[o++],u=0;u<8&&s<r;u++,s++){var d=128&l?0:255;l<<=1,t[a++]=d,t[a++]=d,t[a++]=d,t[a++]=255}},t.writeDataRaw=function(e,t,r,n){if(r&&n){for(var i=new Uint8Array(r*n),a=0;a<i.length;a++)i[a]=e.data[4*a+t];return i}},t.writeDataRLE=function(e,t,r,n,i){var a=t.data;if(r&&n){for(var o=4*r|0,s=0,l=2*i.length*n|0,u=0,d=i;u<d.length;u++)for(var c=d[u],f=0,h=0|c;f<n;f++){var p=f*o|0,g=p+o|0,m=g+c-4|0,v=m-4|0,b=l;for(h=p+c|0;h<g;h=h+4|0)if(h<v){var y=a[h],w=a[h=h+4|0],_=a[h=h+4|0];if(y===w&&y===_){for(var x=3;x<128&&h<m&&a[h+4|0]===y;)x=x+1|0,h=h+4|0;e[l++]=1-x,e[l++]=y}else{var E=l,S=!0;for(x=1,e[l++]=0,e[l++]=y;h<m&&x<128;){if(y=w,w=_,_=a[h=h+4|0],y===w&&y===_){h=h-12|0,S=!1;break}x++,e[l++]=y}S&&(x<127?(e[l++]=w,e[l++]=_,x+=2):x<128?(e[l++]=w,x++,h=h-4|0):h=h-8|0),e[E]=x-1}}else h===m?(e[l++]=0,e[l++]=a[h]):(e[l++]=1,e[l++]=a[h],e[l++]=a[h=h+4|0]);var k=l-b;e[s++]=k>>8&255,e[s++]=255&k}return e.slice(0,l)}},t.createCanvas=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvas method")},t.createCanvasFromData=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvasFromData method")};var d=void 0;t.createImageData=function(e,r){return d||(d=t.createCanvas(1,1)),d.getContext("2d").createImageData(e,r)},"undefined"!=typeof document&&(t.createCanvas=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r},t.createCanvasFromData=function(e){var t=new Image;t.src="data:image/jpeg;base64,"+l.fromByteArray(e);var r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0),r}),t.initializeCanvas=function(e,r,n){t.createCanvas=e,t.createCanvasFromData=r||t.createCanvasFromData,t.createImageData=n||t.createImageData}},XPDt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableWebToNodeStream=void 0;const n=r("YLlx");t.ReadableWebToNodeStream=class extends n.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}},YBdB:function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,a,o,s,l=1,u={},d=!1,c=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){a.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,n=function(e){var t=c.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return u[l]=i,n(l),l++},f.clearImmediate=h}function h(e){delete u[e]}function p(e){if(d)setTimeout(p,0,e);else{var t=u[e];if(t){d=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{h(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("yLpj"),r("8oxB"))},YLlx:function(e,t,r){(t=e.exports=r("vXqZ")).Stream=t,t.Readable=t,t.Writable=r("uE1V"),t.Duplex=r("hF/z"),t.Transform=r("iljw"),t.PassThrough=r("xtZf"),t.finished=r("/RdL"),t.pipeline=r("flsF")},ZHzF:function(e,t,r){"use strict";var n=r("eHxz");r.o(n,"DRAW_PSD")&&r.d(t,"DRAW_PSD",function(){return n.DRAW_PSD}),r.o(n,"PsdRenderer")&&r.d(t,"PsdRenderer",function(){return n.PsdRenderer}),r.o(n,"RENDER_TARGET")&&r.d(t,"RENDER_TARGET",function(){return n.RENDER_TARGET})},b1it:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeIntBE=t.readIntBE=t.writeUIntBE=t.readUIntBE=t.writeIntLE=t.AnsiStringType=t.StringType=t.BufferType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;const n=r("kVK+");t.UINT8={len:1,get:(e,t)=>e.readUInt8(t),put:(e,t,r)=>e.writeUInt8(r,t)},t.UINT16_LE={len:2,get:(e,t)=>e.readUInt16LE(t),put:(e,t,r)=>e.writeUInt16LE(r,t)},t.UINT16_BE={len:2,get:(e,t)=>e.readUInt16BE(t),put:(e,t,r)=>e.writeUInt16BE(r,t)},t.UINT24_LE={len:3,get:(e,t)=>e.readUIntLE(t,3),put:(e,t,r)=>e.writeUIntLE(r,t,3)},t.UINT24_BE={len:3,get:(e,t)=>e.readUIntBE(t,3),put:(e,t,r)=>e.writeUIntBE(r,t,3)},t.UINT32_LE={len:4,get:(e,t)=>e.readUInt32LE(t),put:(e,t,r)=>e.writeUInt32LE(r,t)},t.UINT32_BE={len:4,get:(e,t)=>e.readUInt32BE(t),put:(e,t,r)=>e.writeUInt32BE(r,t)},t.INT8={len:1,get:(e,t)=>e.readInt8(t),put:(e,t,r)=>e.writeInt8(r,t)},t.INT16_BE={len:2,get:(e,t)=>e.readInt16BE(t),put:(e,t,r)=>e.writeInt16BE(r,t)},t.INT16_LE={len:2,get:(e,t)=>e.readInt16LE(t),put:(e,t,r)=>e.writeInt16LE(r,t)},t.INT24_LE={len:3,get:(e,t)=>e.readIntLE(t,3),put:(e,t,r)=>e.writeIntLE(r,t,3)},t.INT24_BE={len:3,get:(e,t)=>e.readIntBE(t,3),put:(e,t,r)=>e.writeIntBE(r,t,3)},t.INT32_BE={len:4,get:(e,t)=>e.readInt32BE(t),put:(e,t,r)=>e.writeInt32BE(r,t)},t.INT32_LE={len:4,get:(e,t)=>e.readInt32LE(t),put:(e,t,r)=>e.writeInt32LE(r,t)},t.UINT64_LE={len:8,get(e,t){return function(e,t,r){r>>>=0;let n=e[t>>>=0],i=1,a=0;for(;++a<r&&(i*=256);)n+=e[t+a]*i;return n}(e,t,this.len)},put(e,t,r){return function(e,t,r,n){n>>>=0;let i=1,a=0;for(e[r>>>=0]=255&(t=+t);++a<n&&(i*=256);)e[r+a]=t/i&255;return r+n}(e,r,t,this.len)}},t.INT64_LE={len:8,get(e,t){return function(e,t,r){r>>>=0;let n=e[t>>>=0],i=1,a=0;for(;++a<r&&(i*=256);)n+=e[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n}(e,t,this.len)},put(e,t,r){return a(e,r,t,this.len)}},t.UINT64_BE={len:8,get(e,t){return o(e,t,this.len)},put(e,t,r){return s(e,r,t,this.len)}},t.INT64_BE={len:8,get(e,t){return l(e,t,this.len)},put(e,t,r){return u(e,r,t,this.len)}},t.Float16_BE={len:2,get(e,t){return n.read(e,t,!1,10,this.len)},put(e,t,r){return n.write(e,r,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get(e,t){return n.read(e,t,!0,10,this.len)},put(e,t,r){return n.write(e,r,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:(e,t)=>e.readFloatBE(t),put:(e,t,r)=>e.writeFloatBE(r,t)},t.Float32_LE={len:4,get:(e,t)=>e.readFloatLE(t),put:(e,t,r)=>e.writeFloatLE(r,t)},t.Float64_BE={len:8,get:(e,t)=>e.readDoubleBE(t),put:(e,t,r)=>e.writeDoubleBE(r,t)},t.Float64_LE={len:8,get:(e,t)=>e.readDoubleLE(t),put:(e,t,r)=>e.writeDoubleLE(r,t)},t.Float80_BE={len:10,get(e,t){return n.read(e,t,!1,63,this.len)},put(e,t,r){return n.write(e,r,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get(e,t){return n.read(e,t,!0,63,this.len)},put(e,t,r){return n.write(e,r,t,!0,63,this.len),t+this.len}},t.IgnoreType=class{constructor(e){this.len=e}get(e,t){}},t.BufferType=class{constructor(e){this.len=e}get(e,t){return e.slice(t,t+this.len)}},t.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return e.toString(this.encoding,t,t+this.len)}};class i{constructor(e){this.len=e}static decode(e,t,r){let n="";for(let a=t;a<r;++a)n+=i.codePointToString(i.singleByteDecoder(e[a]));return n}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(i.inRange(e,0,127))return e;const t=i.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return i.decode(e,t,t+this.len)}}function a(e,t,r,n){let i=0,a=1,o=0;for(e[r>>>=0]=255&(t=+t);++i<n&&(a*=256);)t<0&&0===o&&0!==e[r+i-1]&&(o=1),e[r+i]=(t/a>>0)-o&255;return r+n}function o(e,t,r){r>>>=0;let n=e[(t>>>=0)+--r],i=1;for(;r>0&&(i*=256);)n+=e[t+--r]*i;return n}function s(e,t,r,n){let i=(n>>>=0)-1,a=1;for(e[(r>>>=0)+i]=255&(t=+t);--i>=0&&(a*=256);)e[r+i]=t/a&255;return r+n}function l(e,t,r){let n=r>>>=0,i=1,a=e[(t>>>=0)+--n];for(;n>0&&(i*=256);)a+=e[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*r)),a}function u(e,t,r,n){let i=n-1,a=1,o=0;for(e[(r>>>=0)+i]=255&(t=+t);--i>=0&&(a*=256);)t<0&&0===o&&0!==e[r+i+1]&&(o=1),e[r+i]=(t/a>>0)-o&255;return r+n}t.AnsiStringType=i,i.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],t.writeIntLE=a,t.readUIntBE=o,t.writeUIntBE=s,t.readIntBE=l,t.writeIntBE=u},bdgK:function(e,t,r){"use strict";(function(e){var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some(function(e,n){return e[0]===t&&(r=n,!0)}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&l()}function s(){a(o)}function l(){var e=Date.now();if(r){if(e-i<2)return;n=!0}else r=!0,n=!1,setTimeout(s,20);i=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;o.some(function(e){return!!~r.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},c=g(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(t,r){return t+f(e["border-"+r+"-width"])},0)}var p="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function g(e,t,r,n){return{x:e,y:t,width:r,height:n}}var m=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,n?p(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return c;var n=d(e).getComputedStyle(e),i=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r];t[i]=f(e["padding-"+i])}return t}(n),a=i.left+i.right,o=i.top+i.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==t&&(s-=h(n,"left","right")+a),Math.round(l+o)!==r&&(l-=h(n,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+a)-t,p=Math.round(l+o)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(l-=p)}return g(i.left,i.top,s,l)}(e):c);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var r,n,i,a,o,s,l,d=(n=(r=t).x,i=r.y,a=r.width,o=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:n,y:i,width:a,height:o,top:i,right:n+a,bottom:o+i,left:n}),l);u(this,{target:e,contentRect:d})},b=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),y="undefined"!=typeof WeakMap?new WeakMap:new r,w=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new b(t,r,this);y.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){var t;return(t=y.get(this))[e].apply(t,arguments)}}),t.a=void 0!==i.ResizeObserver?i.ResizeObserver:w}).call(this,r("yLpj"))},cBPS:function(e,t,r){"use strict";function n(e){return 32===e||10===e||13===e||9===e}function i(e){return e>=48&&e<=57||46===e||45===e}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeEngineData=t.parseEngineData=void 0,t.parseEngineData=function(e){var t=0;function r(){for(;t<e.length&&n(e[t]);)t++}function a(){var r=e[t];return t++,92===r&&(r=e[t],t++),r}function o(){var r="";if(41===e[t])return t++,r;if(254!==e[t]||255!==e[t+1])throw new Error("Invalid utf-16 BOM");for(t+=2;t<e.length&&41!==e[t];){var n=a(),i=a();r+=String.fromCharCode(n<<8|i)}return t++,r}var s=null,l=[];function u(e){l.length?(d(e),l.push(e)):(l.push(e),s=e)}function d(e){if(!l.length)throw new Error("Invalid data");var t=l[l.length-1];if("string"==typeof t)l[l.length-2][t]=e,f();else{if(!Array.isArray(t))throw new Error("Invalid data");t.push(e)}}function c(e){l.length||u({});var t=l[l.length-1];if(t&&"string"==typeof t)d("nil"===e?null:"/"+e);else{if(!t||"object"!=typeof t)throw new Error("Invalid data");l.push(e)}}function f(){if(!l.length)throw new Error("Invalid data");l.pop()}for(r();t<e.length;){var h=t,p=e[h];if(60===p&&60===e[h+1])t+=2,u({});else if(62===p&&62===e[h+1])t+=2,f();else if(47===p){for(var g=t+=1;t<e.length&&!n(e[t]);)t++;for(var m="",v=g;v<t;v++)m+=String.fromCharCode(e[v]);c(m)}else if(40===p)t+=1,d(o());else if(91===p)t+=1,u([]);else if(93===p)t+=1,f();else if(110===p&&117===e[h+1]&&108===e[h+2]&&108===e[h+3])t+=4,d(null);else if(116===p&&114===e[h+1]&&117===e[h+2]&&101===e[h+3])t+=4,d(!0);else if(102===p&&97===e[h+1]&&108===e[h+2]&&115===e[h+3]&&101===e[h+4])t+=5,d(!1);else if(i(p)){for(var b="";t<e.length&&i(e[t]);)b+=String.fromCharCode(e[t]),t++;d(parseFloat(b))}else t+=1,console.log("Invalid token "+String.fromCharCode(p)+" at "+t);r()}return s};var a=["Axis","XY","Zone","WordSpacing","FirstLineIndent","GlyphSpacing","StartIndent","EndIndent","SpaceBefore","SpaceAfter","LetterSpacing","Values","GridSize","GridLeading","PointBase","BoxBounds","TransformPoint0","TransformPoint1","TransformPoint2","FontSize","Leading","HorizontalScale","VerticalScale","BaselineShift","Tsume","OutlineWidth"],o=["RunLengthArray"];t.serializeEngineData=function(e,t){void 0===t&&(t=!1);var r=new Uint8Array(1024),n=0,i=0;function s(e){if(n>=r.length){var t=new Uint8Array(2*r.length);t.set(r),r=t}r[n]=e,n++}function l(e){for(var t=0;t<e.length;t++)s(e.charCodeAt(t))}function u(){if(t)l(" ");else for(var e=0;e<i;e++)l("\t")}function d(e,r){u(),l("/"+e),g(r,e,!0),t||l("\n")}function c(e){return e.toFixed(5).replace(/(\d)0+$/g,"$1").replace(/^0+\.([1-9])/g,".$1").replace(/^-0+\.0(\d)/g,"-.0$1")}function f(e,t){return t&&-1!==a.indexOf(t)||(0|e)!==e?c(e):function(e){return e.toString()}(e)}function h(e){var t=Object.keys(e);return-1!==t.indexOf("98")&&t.unshift.apply(t,t.splice(t.indexOf("99"),1)),-1!==t.indexOf("99")&&t.unshift.apply(t,t.splice(t.indexOf("99"),1)),t}function p(e){40!==e&&41!==e&&92!==e||s(92),s(e)}function g(e,r,n){function a(){n?l(" "):u()}if(void 0===n&&(n=!1),null===e)a(),l(t?"/nil":"null");else if("number"==typeof e)a(),l(f(e,r));else if("boolean"==typeof e)a(),l(e?"true":"false");else if("string"==typeof e)if(a(),"99"!==r&&"98"!==r||"/"!==e.charAt(0)){l("("),s(254),s(255);for(var m=0;m<e.length;m++){var v=e.charCodeAt(m);p(v>>8&255),p(255&v)}l(")")}else l(e);else if(Array.isArray(e))if(a(),e.every(function(e){return"number"==typeof e})){l("[");for(var b=-1!==o.indexOf(r),y=0,w=e;y<w.length;y++){var _=w[y];l(" "),l(b?f(_):c(_))}l(" ]")}else{l("["),t||l("\n");for(var x=0,E=e;x<E.length;x++)g(_=E[x],r),t||l("\n");u(),l("]")}else if("object"==typeof e){n&&!t&&l("\n"),u(),l("<<"),t||l("\n"),i++;for(var S=0,k=h(e);S<k.length;S++){var T=k[S];d(T,e[T])}i--,u(),l(">>")}}if(t){if("object"==typeof e)for(var m=0,v=h(e);m<v.length;m++){var b=v[m];d(b,e[b])}}else l("\n\n"),g(e);return r.slice(0,n)}},eGcP:function(e,t,r){"use strict";function n(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}r.d(t,"a",function(){return n})},eHxz:function(e,t,r){"use strict";var n=r("gtb2");r.o(n,"DRAW_PSD")&&r.d(t,"DRAW_PSD",function(){return n.DRAW_PSD}),r.o(n,"PsdRenderer")&&r.d(t,"PsdRenderer",function(){return n.PsdRenderer}),r.o(n,"RENDER_TARGET")&&r.d(t,"RENDER_TARGET",function(){return n.RENDER_TARGET});var i=r("NAH1");r.d(t,"PsdRenderer",function(){return i.a}),r("jWUv");var a=r("n/eI");r.d(t,"RENDER_TARGET",function(){return a.b});var o=r("UcDJ");r.d(t,"DRAW_PSD",function(){return o.c})},eJ1Q:function(e,t,r){"use strict";(function(t){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var o=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?o._writableState?o._writableState.errorEmitted?t.nextTick(n,o):(o._writableState.errorEmitted=!0,t.nextTick(r,o,e)):t.nextTick(r,o,e):a?(t.nextTick(n,o),a(e)):t.nextTick(n,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,r("8oxB"))},fXKp:function(e,t,r){"use strict";var n=r("hwdV").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=d,this.end=c,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function d(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},flsF:function(e,t,r){"use strict";var n,i=r("Gwi7").codes,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e,t,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;e.on("close",function(){s=!0}),void 0===n&&(n=r("/RdL")),n(e,{readable:t,writable:i},function(e){if(e)return a(e);s=!0,a()});var l=!1;return function(t){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new o("pipe"))}}function u(e){e()}function d(e,t){return e.pipe(t)}function c(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=c(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map(function(e,r){var a=r<t.length-1;return l(e,a,r>0,function(e){n||(n=e),e&&o.forEach(u),a||(o.forEach(u),i(n))})});return t.reduce(d)}},gAMI:function(e,t,r){"use strict";var n=r("zcve");r.o(n,"addEventListeners")&&r.d(t,"addEventListeners",function(){return n.addEventListeners}),r.o(n,"calcFixedSize")&&r.d(t,"calcFixedSize",function(){return n.calcFixedSize}),r.o(n,"createFramebuffer")&&r.d(t,"createFramebuffer",function(){return n.createFramebuffer}),r.o(n,"createImage")&&r.d(t,"createImage",function(){return n.createImage}),r.o(n,"createQuadBuffer")&&r.d(t,"createQuadBuffer",function(){return n.createQuadBuffer}),r.o(n,"createTexture")&&r.d(t,"createTexture",function(){return n.createTexture}),r.o(n,"generateUuid")&&r.d(t,"generateUuid",function(){return n.generateUuid}),r.o(n,"getCenterCoord")&&r.d(t,"getCenterCoord",function(){return n.getCenterCoord}),r.o(n,"hasProperty")&&r.d(t,"hasProperty",function(){return n.hasProperty}),r.o(n,"removeItem")&&r.d(t,"removeItem",function(){return n.removeItem}),r.o(n,"removePathFromName")&&r.d(t,"removePathFromName",function(){return n.removePathFromName}),r.o(n,"requestRender")&&r.d(t,"requestRender",function(){return n.requestRender}),r.o(n,"validateFormat")&&r.d(t,"validateFormat",function(){return n.validateFormat});var i=r("h7D0");r.d(t,"addEventListeners",function(){return i.a}),r.d(t,"requestRender",function(){return i.b}),r("FpR3");var a=r("K9eC");r.d(t,"removeItem",function(){return a.a});var o=r("eGcP");r.d(t,"hasProperty",function(){return o.a});var s=r("Syqg");r.d(t,"calcFixedSize",function(){return s.a}),r.d(t,"getCenterCoord",function(){return s.b});var l=r("Hs2X");r.d(t,"createImage",function(){return l.a});var u=r("4s7s");r.d(t,"validateFormat",function(){return u.a});var d=r("1yL5");r.d(t,"generateUuid",function(){return d.a});var c=r("Ezdm");r.d(t,"removePathFromName",function(){return c.a});var f=r("4uRP");r.d(t,"createFramebuffer",function(){return f.a}),r.d(t,"createQuadBuffer",function(){return f.b}),r.d(t,"createTexture",function(){return f.c})},gt6k:function(e,t,r){"use strict";(function(t){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("/RdL"),o=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[o]=null,e[s]=null,t(h(r,!1)))}}function g(e){t.nextTick(p,e)}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(r,n){t.nextTick(function(){e[l]?n(e[l]):r(h(void 0,!0))})});var n,i=this[d];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[u]?r(h(void 0,!0)):t[c](r,n)},n)}}(i,this));else{var a=this[f].read();if(null!==a)return Promise.resolve(h(a,!1));n=new Promise(this[c])}return this[d]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var e=this;return new Promise(function(t,r){e[f].destroy(null,function(e){e?r(e):t(h(void 0,!0))})})}),n),m);e.exports=function(e){var t,r=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,c,{value:function(e,t){var n=r[f].read();n?(r[d]=null,r[o]=null,r[s]=null,e(h(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[d]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[d]=null,r[o]=null,r[s]=null,t(e)),void(r[l]=e)}var n=r[o];null!==n&&(r[d]=null,r[o]=null,r[s]=null,n(h(void 0,!0))),r[u]=!0}),e.on("readable",g.bind(null,r)),r}}).call(this,r("8oxB"))},gtb2:function(e,t){},h7D0:function(e,t,r){"use strict";function n(e,t,r){for(let n=0;n<e.length;n++)t.addEventListener(e[n],e=>r(e),!1)}function i(e){const t=()=>{e(),requestAnimationFrame(t)};requestAnimationFrame(t)}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i})},"hF/z":function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r("vXqZ"),a=r("uE1V");r("P7XM")(u,i);for(var o=n(a.prototype),s=0;s<o.length;s++){var l=o[s];u.prototype[l]||(u.prototype[l]=a.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||t.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r("8oxB"))},hwdV:function(e,t,r){var n=r("tjlA"),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},iZ2G:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.SectionDividerType=t.ColorMode=void 0,(i=t.ColorMode||(t.ColorMode={}))[i.Bitmap=0]="Bitmap",i[i.Grayscale=1]="Grayscale",i[i.Indexed=2]="Indexed",i[i.RGB=3]="RGB",i[i.CMYK=4]="CMYK",i[i.Multichannel=7]="Multichannel",i[i.Duotone=8]="Duotone",i[i.Lab=9]="Lab",(n=t.SectionDividerType||(t.SectionDividerType={}))[n.Other=0]="Other",n[n.OpenFolder=1]="OpenFolder",n[n.ClosedFolder=2]="ClosedFolder",n[n.BoundingSectionDivider=3]="BoundingSectionDivider"},iljw:function(e,t,r){"use strict";e.exports=d;var n=r("Gwi7").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r("hF/z");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r("P7XM")(d,l),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new i("_transform()"))},d.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},jWUv:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("mrXx"),i=r("Jndf");class a extends i.b{constructor(e,t){super(e,t),this.children=[]}get psds(){return this.children.filter(e=>e instanceof n.a)}searchPsdByFileName(e){return this.psds.find(t=>t.fileName===e)}searchPsdByUniqueId(e){return this.psds.find(t=>t.uniqueId===e)}}class o{constructor(){this.renderTargetSets=[],this.stage=new a(null,null),this.tmp={psdSets:[],psds:[]},this.zoomRatio=1}searchRenderTargetByName(e){return this.renderTargetSets.find(t=>t.name===e)||null}}},"kVK+":function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,d=-7,c=r?i-1:0,f=r?-1:1,h=e[t+c];for(c+=f,a=h&(1<<-d)-1,h>>=-d,d+=s;d>0;a=256*a+e[t+c],c+=f,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=n;d>0;o=256*o+e[t+c],c+=f,d-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=u}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,d=(1<<u)-1,c=d>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+c>=1?f/l:f*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=d?(s=0,o=d):o+c>=1?(s=(t*l-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+h]=255&o,h+=p,o/=256,u-=8);e[r+h-p]|=128*g}},lgos:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.writeColor=t.writePsd=t.writeSection=t.writeUnicodeStringWithPadding=t.writeUnicodeString=t.writePascalString=t.writeSignature=t.writeZeros=t.writeBytes=t.writeFixedPointPath32=t.writeFixedPoint32=t.writeFloat64=t.writeFloat32=t.writeUint32=t.writeInt32=t.writeUint16=t.writeInt16=t.writeUint8=t.getWriterBufferNoCopy=t.getWriterBuffer=t.createWriter=void 0;var i=r("WSo5"),a=r("1QtO"),o=r("x4Ov");function s(e,t){var r=x(e,1);e.view.setUint8(r,t)}function l(e,t){var r=x(e,2);e.view.setInt16(r,t,!1)}function u(e,t){var r=x(e,2);e.view.setUint16(r,t,!1)}function d(e,t){var r=x(e,4);e.view.setInt32(r,t,!1)}function c(e,t){var r=x(e,4);e.view.setUint32(r,t,!1)}function f(e,t){var r=x(e,8);e.view.setFloat64(r,t,!1)}function h(e,t){t&&(_(e,e.offset+t.length),new Uint8Array(e.buffer).set(t,e.offset),e.offset+=t.length)}function p(e,t){for(var r=0;r<t;r++)s(e,0)}function g(e,t){if(4!==t.length)throw new Error("Invalid signature: '"+t+"'");for(var r=0;r<4;r++)s(e,t.charCodeAt(r))}function m(e,t,r){var n=t.length;s(e,n);for(var i=0;i<n;i++){var a=t.charCodeAt(i);s(e,a<128?a:"?".charCodeAt(0))}for(;++n%r;)s(e,0)}function v(e){void 0===e&&(e=[]);for(var t=0,r=0,n=e;r<n.length;r++){var i=n[r];if(i.canvas||i.imageData){var a=S(i),o=a.height;t=Math.max(t,2*o+2*a.width*o)}i.children&&(t=Math.max(t,v(i.children)))}return t}function b(e,t,r,n){void 0===n&&(n=!1);var i=e.offset;d(e,0),r();for(var a=e.offset-i-4,o=a;o%t!=0;)s(e,0),o++;n&&(a=o),e.view.setInt32(i,a,!1)}function y(e,t,r,n){for(var i=function(i){var a=i.key;if("Txt2"===a&&n.invalidateTextLayers)return"continue";i.has(t)&&(g(e,"8BIM"),g(e,a),b(e,"Txt2"===a||"luni"===a||"vmsk"===a||"artb"===a||"artd"===a||"vogk"===a||"SoLd"===a||"lnk2"===a||"vscg"===a||"vsms"===a||"GdFl"===a?4:2,function(){return i.write(e,t,r,n)},"Txt2"!==a))},o=0,s=a.infoHandlers;o<s.length;o++)i(s[o])}function w(e,t){if(t)for(var r=0,i=t;r<i.length;r++){var a=i[r];if(a.children&&a.canvas)throw new Error("Invalid layer, cannot have both 'canvas' and 'children' properties");if(a.children&&a.imageData)throw new Error("Invalid layer, cannot have both 'imageData' and 'children' properties");a.children?(e.push({name:"</Layer group>",sectionDivider:{type:3}}),w(e,a.children),e.push(n({sectionDivider:{type:!1===a.opened?2:1,key:"pass",subType:0}},a))):e.push(n({},a))}}function _(e,t){t>e.buffer.byteLength&&function(e,t){var r=e.buffer.byteLength;do{r*=2}while(t>r);var n=new ArrayBuffer(r),i=new Uint8Array(n),a=new Uint8Array(e.buffer);i.set(a),e.buffer=n,e.view=new DataView(e.buffer)}(e,t)}function x(e,t){var r=e.offset;return _(e,e.offset+=t),r}function E(e){var t=i.createCanvas(10,10),r=1;e.width>e.height?(t.width=160,t.height=Math.floor(e.height*(t.width/e.width)),r=t.width/e.width):(t.height=160,t.width=Math.floor(e.width*(t.height/e.height)),r=t.height/e.height);var n=t.getContext("2d");if(n.scale(r,r),e.imageData){var a=i.createCanvas(e.imageData.width,e.imageData.height);a.getContext("2d").putImageData(e.imageData,0,0),n.drawImage(a,0,0)}else e.canvas&&n.drawImage(e.canvas,0,0);return t}function S(e){return e.imageData||e.canvas||{width:0,height:0}}function k(e,t,r,n){for(var i=e.data,a=4*(t*e.width+r)+3|0,o=a+4*(n-r)|0,s=a;s<o;s=s+4|0)if(0!==i[s])return!1;return!0}function T(e,t,r,n){for(var i=e.data,a=4*e.width|0,o=r,s=r*a+4*t+3|0;o<n;o++,s=s+a|0)if(0!==i[s])return!1;return!0}t.createWriter=function(e){void 0===e&&(e=4096);var t=new ArrayBuffer(e);return{buffer:t,view:new DataView(t),offset:0}},t.getWriterBuffer=function(e){return e.buffer.slice(0,e.offset)},t.getWriterBufferNoCopy=function(e){return new Uint8Array(e.buffer,0,e.offset)},t.writeUint8=s,t.writeInt16=l,t.writeUint16=u,t.writeInt32=d,t.writeUint32=c,t.writeFloat32=function(e,t){var r=x(e,4);e.view.setFloat32(r,t,!1)},t.writeFloat64=f,t.writeFixedPoint32=function(e,t){d(e,65536*t)},t.writeFixedPointPath32=function(e,t){d(e,t*(1<<24))},t.writeBytes=h,t.writeZeros=p,t.writeSignature=g,t.writePascalString=m,t.writeUnicodeString=function(e,t){c(e,t.length);for(var r=0;r<t.length;r++)u(e,t.charCodeAt(r))},t.writeUnicodeStringWithPadding=function(e,t){c(e,t.length+1);for(var r=0;r<t.length;r++)u(e,t.charCodeAt(r));u(e,0)},t.writeSection=b,t.writePsd=function(e,t,r){if(void 0===r&&(r={}),!(+t.width>0&&+t.height>0))throw new Error("Invalid document size");var a=t.imageResources||{};r.generateThumbnail&&(a=n(n({},a),{thumbnail:E(t)}));var _=t.imageData;if(!_&&t.canvas&&(_=t.canvas.getContext("2d").getImageData(0,0,t.canvas.width,t.canvas.height)),_&&(t.width!==_.width||t.height!==_.height))throw new Error("Document canvas must have the same size as document");var x=!!_&&i.hasAlpha(_),R=Math.max(v(t.children),8*t.width*t.height+2*t.height),B=new Uint8Array(R);g(e,"8BPS"),u(e,1),p(e,6),u(e,x?4:3),c(e,t.height),c(e,t.width),u(e,8),u(e,3),b(e,1,function(){}),b(e,1,function(){for(var t=function(t){t.has(a)&&(g(e,"8BIM"),u(e,t.key),m(e,"",2),b(e,2,function(){return t.write(e,a)}))},r=0,n=o.resourceHandlers;r<n.length;r++)t(n[r])}),b(e,2,function(){!function(e,t,r,n,a){b(t,4,function(){var o,v=[];w(v,r.children),v.length||v.push({}),l(t,n?-v.length:v.length);for(var _=v.map(function(t,r){return function(e,t,r,n){var a=function(e,t,r,n){var a=t.top,o=void 0===a?0:a,s=t.left,l=void 0===s?0:s,u=t.right,d=void 0===u?0:u,c=t.bottom,f=void 0===c?0:c,h=[{channelId:-1,compression:0,buffer:void 0,length:2},{channelId:0,compression:0,buffer:void 0,length:2},{channelId:1,compression:0,buffer:void 0,length:2},{channelId:2,compression:0,buffer:void 0,length:2}],p=S(t),g=p.width,m=p.height;if(!t.canvas&&!t.imageData||!g||!m)return{layer:t,top:o,left:l,right:d=l,bottom:f=o,channels:h};d=l+g,f=o+m;var v=t.imageData||t.canvas.getContext("2d").getImageData(0,0,g,m);if(n.trimImageData){var b=function(e){for(var t=0,r=0,n=e.width,i=e.height;t<i&&k(e,t,r,n);)t++;for(;i>t&&k(e,i-1,r,n);)i--;for(;r<n&&T(e,r,t,i);)r++;for(;n>r&&T(e,n-1,t,i);)n--;return{top:t,left:r,right:n,bottom:i}}(v);if(0!==b.left||0!==b.top||b.right!==v.width||b.bottom!==v.height){if(m=(f-=v.height-b.bottom)-(o+=b.top),!(g=(d-=v.width-b.right)-(l+=b.left))||!m)return{layer:t,top:o,left:l,right:d,bottom:f,channels:h};v=t.imageData?function(e,t,r,n,a){for(var o=i.createImageData(n,a),s=e.data,l=o.data,u=0;u<a;u++)for(var d=0;d<n;d++){var c=4*(d+t+(u+r)*n),f=4*(d+u*n);l[f]=s[c],l[f+1]=s[c+1],l[f+2]=s[c+2],l[f+3]=s[c+3]}return o}(v,b.left,b.top,g,m):t.canvas.getContext("2d").getImageData(b.left,b.top,g,m)}}var y=[0,1,2];return(!r||n.noBackground||t.mask||i.hasAlpha(v))&&y.unshift(-1),{layer:t,top:o,left:l,right:d,bottom:f,channels:h=y.map(function(t){var r=i.offsetForChannel(t),n=i.writeDataRLE(e,v,g,m,[r]);return{channelId:t,compression:1,buffer:n,length:2+n.length}})}}(e,t,r,n),o=t.mask;if(o){var s=o.top,l=void 0===s?0:s,u=o.left,d=void 0===u?0:u,c=o.right,f=void 0===c?0:c,h=o.bottom,p=void 0===h?0:h,g=S(o),m=g.width,v=g.height,b=o.imageData;if(!b&&o.canvas&&m&&v&&(b=o.canvas.getContext("2d").getImageData(0,0,m,v)),m&&v&&b){f=d+m,p=l+v;var y=i.writeDataRLE(e,b,m,v,[0]);a.mask={top:l,left:d,right:f,bottom:p},a.channels.push({channelId:-2,compression:1,buffer:y,length:2+y.length})}else a.mask={top:0,left:0,right:0,bottom:0},a.channels.push({channelId:-2,compression:0,buffer:new Uint8Array(0),length:0})}return a}(e,t,0===r,a)}),x=function(e){var n=e.layer,h=e.left,v=e.bottom,w=e.right,_=e.channels;d(t,e.top),d(t,h),d(t,v),d(t,w),u(t,_.length);for(var x=0,E=_;x<E.length;x++){var S=E[x];l(t,S.channelId),d(t,S.length)}g(t,"8BIM"),g(t,i.fromBlendMode[n.blendMode]||"norm"),s(t,Math.round(255*i.clamp(null!==(o=n.opacity)&&void 0!==o?o:1,0,1))),s(t,n.clipping?1:0);var k=8;n.transparencyProtected&&(k|=1),n.hidden&&(k|=2),(n.vectorMask||n.sectionDivider&&0!==n.sectionDivider.type)&&(k|=16),s(t,k),s(t,0),b(t,1,function(){!function(e,t,r){var n=t.mask;b(e,1,function(){if(n){var t=r.mask||{};d(e,t.top),d(e,t.left),d(e,t.bottom),d(e,t.right),s(e,n.defaultColor);var i=0;void 0!==n.userMaskDensity&&(i|=1),void 0!==n.userMaskFeather&&(i|=2),void 0!==n.vectorMaskDensity&&(i|=4),void 0!==n.vectorMaskFeather&&(i|=8);var a=0;n.disabled&&(a|=2),n.positionRelativeToLayer&&(a|=1),n.fromVectorData&&(a|=8),i&&(a|=16),s(e,a),i&&(s(e,i),void 0!==n.userMaskDensity&&s(e,Math.round(255*n.userMaskDensity)),void 0!==n.userMaskFeather&&f(e,n.userMaskFeather),void 0!==n.vectorMaskDensity&&s(e,Math.round(255*n.vectorMaskDensity)),void 0!==n.vectorMaskFeather&&f(e,n.vectorMaskFeather)),p(e,2)}})}(t,n,e),function(e,t){b(e,1,function(){c(e,65535),c(e,65535);for(var r=t.channels||0,n=0;n<r;n++)c(e,65535),c(e,65535)})}(t,r),m(t,n.name||"",4),y(t,n,r,a)})},E=0,R=_;E<R.length;E++)x(R[E]);for(var B=0,C=_;B<C.length;B++)for(var A=0,I=C[B].channels;A<I.length;A++){var D=I[A];u(t,D.compression),D.buffer&&h(t,D.buffer)}},!0)}(B,e,t,x,r),function(e,t){b(e,1,function(){t&&(u(e,t.overlayColorSpace),u(e,t.colorSpace1),u(e,t.colorSpace2),u(e,t.colorSpace3),u(e,t.colorSpace4),u(e,255*t.opacity),s(e,t.kind),p(e,3))})}(e,t.globalLayerMaskInfo),y(e,t,t,r)});var C=x?[0,1,2,3]:[0,1,2],A=_||{data:new Uint8Array(4*t.width*t.height),width:t.width,height:t.height};u(e,1),h(e,i.writeDataRLE(B,A,t.width,t.height,C))},t.writeColor=function(e,t){t?"r"in t?(u(e,0),u(e,Math.round(257*t.r)),u(e,Math.round(257*t.g)),u(e,Math.round(257*t.b)),u(e,0)):"l"in t?(u(e,7),u(e,Math.round(100*t.l)),u(e,Math.round(100*t.a)),u(e,Math.round(100*t.b)),u(e,0)):"h"in t?(u(e,1),u(e,Math.round(t.h)),u(e,Math.round(t.s)),u(e,Math.round(t.b)),u(e,0)):"c"in t?(u(e,2),u(e,Math.round(t.c)),u(e,Math.round(t.m)),u(e,Math.round(t.y)),u(e,Math.round(t.k))):(u(e,8),u(e,Math.round(t.k)),p(e,6)):(u(e,0),p(e,8))}},mrSG:function(e,t,r){"use strict";function n(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})}r.d(t,"a",function(){return n})},mrXx:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("GMPE"),i=r("n/eI"),a=r("Jndf");class o extends a.b{constructor(e,t){super(e,{isFlip:!1,isGrayScale:!1}),this._texture=null,this._quadBuffer=null,this.fileName=t.fileName,this.uniqueId=t.uniqueId,this.isPsd=t.isPsd,this.rawWidth=t.rawWidth,this.rawHeight=t.rawHeight,this.rawElement=t.rawElement,this.layerInfos=t.layerInfos}get texture(){return this._texture}get quadBuffer(){return this._quadBuffer}getResultCanvas(){if(!this.targetGl)throw new Error("WebGL context is not set properly.");const e=this.targetGl,t=new Uint8ClampedArray(e.drawingBufferWidth*e.drawingBufferHeight*4);e.readPixels(0,0,e.drawingBufferWidth,e.drawingBufferHeight,e.RGBA,e.UNSIGNED_BYTE,t);const r=new ImageData(t,e.drawingBufferWidth,e.drawingBufferHeight),n=document.createElement("canvas");return n.width=e.canvas.width,n.height=e.canvas.height,n.getContext("2d").putImageData(r,0,0),n}createWebGlElement(){const e={width:this.rawWidth,height:this.rawHeight},t=document.createElement("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("webgl",{preserveDrawingBuffer:!0});if(null===r)return void alert("Unable to initialize WebGL. Your browser or machine may not support it.");this.updateTargetElement(t),this.updateTargetGl(r);const a=Object(n.calcFixedSize)(i.a,e);this.updateStateSize({width:a.width,height:a.height})}updateTexture(e,t){this._texture=Object(n.createTexture)(e,t)}updateQuadBuffer(e,t,r){this._quadBuffer=Object(n.createQuadBuffer)(e,r.x,r.y,t.width,t.height)}}},"n/eI":function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return a});var n=function(e){return e.MAIN_LAYER="mainLayer",e.UI_LAYER="uiLayer",e.WEBGL_LAYER="webGlLayer",e}({});const i=300,a=.2},o7xb:function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},oEZn:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const n=r("IPhx");t.AbstractTokenizer=class{constructor(t){this.position=0,this.numBuffer=e.alloc(10),this.fileInfo=t||{}}async readToken(t,r){const i=e.alloc(t.len);if(await this.readBuffer(i,{position:r})<t.len)throw new n.EndOfStreamError;return t.get(i,0)}async peekToken(t,r=this.position){const i=e.alloc(t.len);if(await this.peekBuffer(i,{position:r})<t.len)throw new n.EndOfStreamError;return t.get(i,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async close(){}}}).call(this,r("tjlA").Buffer)},opOj:function(e,t,r){"use strict";(function(e){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.writePsdBuffer=t.writePsdUint8Array=t.writePsd=t.readPsd=t.byteArrayToBase64=t.initializeCanvas=void 0;var a=r("lgos"),o=r("DueJ"),s=r("WSo5");Object.defineProperty(t,"initializeCanvas",{enumerable:!0,get:function(){return s.initializeCanvas}}),i(r("iZ2G"),t);var l=r("H7XF");function u(e,t){var r=a.createWriter();return a.writePsd(r,e,t),a.getWriterBufferNoCopy(r)}t.byteArrayToBase64=l.fromByteArray,t.readPsd=function(e,t){var r="buffer"in e?o.createReader(e.buffer,e.byteOffset,e.byteLength):o.createReader(e);return o.readPsd(r,t)},t.writePsd=function(e,t){var r=a.createWriter();return a.writePsd(r,e,t),a.getWriterBuffer(r)},t.writePsdUint8Array=u,t.writePsdBuffer=function(t,r){if(void 0===e)throw new Error("Buffer not supported on this platform");return e.from(u(t,r))}}).call(this,r("tjlA").Buffer)},pojV:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("tjlA").Buffer,o=r(4).inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),r=this.head,n=0;r;)a.prototype.copy.call(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(n+=a===i.length?i:i.slice(0,e),0==(e-=a)){a===i.length?(++r,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:s,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()},qXd6:function(e,t){e.exports=i,i.strict=a,i.loose=o;var r=Object.prototype.toString,n={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function i(e){return a(e)||o(e)}function a(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function o(e){return n[r.call(e)]}},t9FE:function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(n){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r("yLpj"))},tgq0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strokeStyleLineAlignment=t.strokeStyleLineJoinType=t.strokeStyleLineCapType=t.FrFl=t.FStl=t.ClrS=t.GrdT=t.IGSr=t.BETE=t.BESs=t.bvlT=t.BESl=t.BlnM=t.warpStyle=t.Annt=t.Ornt=t.textGridding=t.unitsValue=t.unitsPercent=t.unitsAngle=t.parseUnitsToNumber=t.parseUnits=t.parsePercentOrAngle=t.parsePercent=t.parseAngle=t.writeVersionAndDescriptor=t.readVersionAndDescriptor=t.writeDescriptorStructure=t.readDescriptorStructure=t.readAsciiStringOrClassId=t.setLogErrors=void 0;var n,i,a=r("WSo5"),o=r("DueJ"),s=r("lgos"),l={"#Ang":"Angle","#Rsl":"Density","#Rlt":"Distance","#Nne":"None","#Prc":"Percent","#Pxl":"Pixels","#Mlm":"Millimeters","#Pnt":"Points",RrPi:"Picas",RrIn:"Inches",RrCm:"Centimeters"},u=(n=l,i={},Object.keys(n).forEach(function(e){return i[n[e]]=e}),i),d=!1;function c(e,t){return{name:e,classID:t}}t.setLogErrors=function(e){d=e};for(var f={strokeStyleContent:c("","solidColorLayer"),printProofSetup:c("Proof Setup","proofSetup"),patternFill:c("","patternFill"),Grad:c("Gradient","Grdn"),ebbl:c("","ebbl"),SoFi:c("","SoFi"),GrFl:c("","GrFl"),sdwC:c("","RGBC"),hglC:c("","RGBC"),"Clr ":c("","RGBC"),tintColor:c("","RGBC"),Ofst:c("","Pnt "),ChFX:c("","ChFX"),MpgS:c("","ShpC"),DrSh:c("","DrSh"),IrSh:c("","IrSh"),OrGl:c("","OrGl"),IrGl:c("","IrGl"),TrnS:c("","ShpC"),Ptrn:c("","Ptrn"),FrFX:c("","FrFX"),phase:c("","Pnt "),frameStep:c("","null"),duration:c("","null"),bounds:c("","Rctn"),customEnvelopeWarp:c("","customEnvelopeWarp"),warp:c("","warp"),"Sz  ":c("","Pnt "),origin:c("","Pnt "),autoExpandOffset:c("","Pnt "),keyOriginShapeBBox:c("","unitRect"),Vrsn:c("","null"),psVersion:c("","null"),docDefaultNewArtboardBackgroundColor:c("","RGBC"),artboardRect:c("","classFloatRect"),keyOriginRRectRadii:c("","radii"),compInfo:c("","null")},h={"Crv ":c("","CrPt"),Clrs:c("","Clrt"),Trns:c("","TrnS"),keyDescriptorList:c("","null")},p={TEXT:["Txt ","printerName","Nm  ","Idnt","blackAndWhitePresetFileName","LUT3DFileName","presetFileName","curvesPresetFileName","mixerPresetFileName","placed","description","reason","artboardPresetName"],tdta:["EngineData","LUT3DFileData"],long:["TextIndex","RndS","Mdpn","Smth","Lctn","strokeStyleVersion","LaID","Vrsn","Cnt ","Brgh","Cntr","means","vibrance","Strt","bwPresetKind","presetKind","comp","compID","originalCompID","curvesPresetKind","mixerPresetKind","uOrder","vOrder","PgNm","totalPages","Crop","numerator","denominator","frameCount","Annt","keyOriginType","unitValueQuadVersion","keyOriginIndex","major","minor","fix","docDefaultNewArtboardBackgroundType","artboardBackgroundType"],enum:["textGridding","Ornt","warpStyle","warpRotate","Inte","Bltn","ClrS","sdwM","hglM","bvlT","bvlS","bvlD","Md  ","glwS","GrdF","GlwT","strokeStyleLineCapType","strokeStyleLineJoinType","strokeStyleLineAlignment","strokeStyleBlendMode","PntT","Styl","lookupType","LUTFormat","dataOrder","tableOrder","enableCompCore","enableCompCoreGPU","compCoreSupport","compCoreGPUSupport","Engn"],bool:["PstS","printSixteenBit","masterFXSwitch","enab","uglg","antialiasGloss","useShape","useTexture","masterFXSwitch","uglg","antialiasGloss","useShape","useTexture","Algn","Rvrs","Dthr","Invr","VctC","ShTr","layerConceals","strokeEnabled","fillEnabled","strokeStyleScaleLock","strokeStyleStrokeAdjust","hardProof","MpBl","paperWhite","useLegacy","Auto","Lab ","useTint","keyShapeInvalidated","autoExpandEnabled","autoNestEnabled","autoPositionEnabled","shrinkwrapOnSaveEnabled"],doub:["warpValue","warpPerspective","warpPerspectiveOther","Intr","Wdth","Hght","strokeStyleMiterLimit","strokeStyleResolution","layerTime","keyOriginResolution"],UntF:["Scl ","sdwO","hglO","lagl","Lald","srgR","blur","Sftn","Opct","Dstn","Angl","Ckmt","Nose","Inpr","ShdN","strokeStyleLineWidth","strokeStyleLineDashOffset","strokeStyleOpacity","H   ","Top ","Left","Btom","Rght","Rslt","topRight","topLeft","bottomLeft","bottomRight"],VlLs:["Crv ","Clrs","Mnm ","Mxm ","Trns","pathList","strokeStyleLineDashSet","FrLs","LaSt","Trnf","nonAffineTransform","keyDescriptorList","guideIndeces"],ObAr:["meshPoints"]},g=["Rd  ","Grn ","Bl  ","Yllw","Ylw ","Cyn ","Mgnt","Blck","Gry ","Lmnc","A   ","B   "],m={"Mnm ":"long","Mxm ":"long",FrLs:"long",strokeStyleLineDashSet:"UntF",Trnf:"doub",nonAffineTransform:"doub",keyDescriptorList:"Objc"},v={},b=0,y=Object.keys(p);b<y.length;b++)for(var w=y[b],_=0,x=p[w];_<x.length;_++)v[x[_]]=w;for(var E=0,S=Object.keys(f);E<S.length;E++)v[S[E]]="Objc";for(var k=0,T=Object.keys(h);k<T.length;k++)m[T[k]]="Objc";function R(e,t,r){return"Sz  "===e?"Wdth"in t?"Objc":"units"in t?"UntF":"doub":"Type"===e?"string"==typeof t?"enum":"long":"AntA"===e?"string"==typeof t?"enum":"bool":"Hrzn"===e||"Vrtc"===e||"Top "===e||"Left"===e||"Btom"===e||"Rght"===e?"number"==typeof t?"doub":"UntF":"Vrsn"===e?"number"==typeof t?"long":"Objc":"Rd  "===e||"Grn "===e||"Bl  "===e?"artd"===r?"long":"doub":v[e]}function B(e){var t=o.readInt32(e);return o.readAsciiString(e,t||4)}function C(e,t){if(4===t.length&&"warp"!==t)s.writeInt32(e,0),s.writeSignature(e,t);else{s.writeInt32(e,t.length);for(var r=0;r<t.length;r++)s.writeUint8(e,t.charCodeAt(r))}}function A(e){var t={};P(e);for(var r=o.readUint32(e),n=0;n<r;n++){var i=B(e),a=D(e,o.readSignature(e));t[i]=a}return t}function I(e,t,r,n,i){d&&!r&&console.log("Missing classId for: ",t,r,n),s.writeUnicodeStringWithPadding(e,t),C(e,r);var a=Object.keys(n);s.writeUint32(e,a.length);for(var o=0,l=a;o<l.length;o++){var u=l[o],h=R(u,n[u],i),p=f[u];"Strt"!==u&&"Brgh"!==u||!("H   "in n)?-1!==g.indexOf(u)?h="RGBC"===r&&"artd"!==i?"doub":"long":"profile"===u?h="printOutput"===r?"TEXT":"tdta":"strokeStyleContent"===u&&(n[u]["Clr "]?p=c("","solidColorLayer"):n[u].Grad?p=c("","gradientLayer"):n[u].Ptrn?p=c("","patternLayer"):d&&console.log("Invalid strokeStyleContent value",n[u])):h="doub",p&&"RGBC"===p.classID&&"H   "in n[u]&&(p={classID:"HSBC",name:""}),C(e,u),s.writeSignature(e,h||"long"),L(e,h||"long",n[u],u,p,i),d&&!h&&console.log("Missing descriptor field type for: '"+u+"' in",n)}}function D(e,t){switch(t){case"obj ":return function(e){for(var t=o.readInt32(e),r=[],n=0;n<t;n++){var i=o.readSignature(e);switch(i){case"prop":var a=P(e),s=a.name,l=a.classID,u=B(e);r.push({name:s,classID:l,keyID:u});break;case"Clss":r.push(P(e));break;case"Enmr":var d=P(e),c=d.name,f=(l=d.classID,B(e)),h=B(e);r.push({name:c,classID:l,TypeID:f,value:h});break;case"rele":var p=P(e),g=p.name;l=p.classID,h=o.readUint32(e),r.push({name:g,classID:l,value:h});break;case"Idnt":case"indx":r.push(o.readInt32(e));break;case"name":r.push(o.readUnicodeString(e));break;default:throw new Error("Invalid TySh descriptor Reference type: "+i)}}return r}(e);case"Objc":case"GlbO":return A(e);case"VlLs":for(var r=o.readInt32(e),n=[],i=0;i<r;i++){var a=o.readSignature(e);n.push(D(e,a))}return n;case"doub":return o.readFloat64(e);case"UntF":var s=o.readSignature(e),u=o.readFloat64(e);if(!l[s])throw new Error("Invalid units: "+s);return{units:l[s],value:u};case"UnFl":if(s=o.readSignature(e),u=o.readFloat32(e),!l[s])throw new Error("Invalid units: "+s);return{units:l[s],value:u};case"TEXT":return o.readUnicodeString(e);case"enum":return B(e)+"."+B(e);case"long":return o.readInt32(e);case"comp":return{low:o.readUint32(e),high:o.readUint32(e)};case"bool":return!!o.readUint8(e);case"type":case"GlbC":return P(e);case"alis":var d=o.readInt32(e);return o.readAsciiString(e,d);case"tdta":var c=o.readInt32(e);return o.readBytes(e,c);case"ObAr":o.readInt32(e),o.readUnicodeString(e),B(e);var f=o.readInt32(e);for(n=[],i=0;i<f;i++){var h=B(e);o.readSignature(e),o.readSignature(e);for(var p=o.readInt32(e),g=[],m=0;m<p;m++)g.push(o.readFloat64(e));n.push({type:h,values:g})}return n;case"Pth ":o.readInt32(e);var v=o.readSignature(e);o.readInt32LE(e);var b=o.readInt32LE(e);return{sig:v,path:o.readUnicodeStringWithLength(e,b)};default:throw new Error("Invalid TySh descriptor OSType: "+t+" at "+e.offset.toString(16))}}function L(e,t,r,n,i,a){switch(t){case"Objc":case"GlbO":if(!i)throw new Error("Missing ext type for: '"+n+"' ("+JSON.stringify(r)+")");I(e,i.name,i.classID,r,a);break;case"VlLs":s.writeInt32(e,r.length);for(var o=0;o<r.length;o++){var l=m[n];s.writeSignature(e,l||"long"),L(e,l||"long",r[o],"",h[n],a),d&&!l&&console.log("Missing descriptor array type for: '"+n+"' in",r)}break;case"doub":s.writeFloat64(e,r);break;case"UntF":if(!u[r.units])throw new Error("Invalid units: "+r.units+" in "+n);s.writeSignature(e,u[r.units]),s.writeFloat64(e,r.value);break;case"UnFl":if(!u[r.units])throw new Error("Invalid units: "+r.units+" in "+n);s.writeSignature(e,u[r.units]),s.writeFloat32(e,r.value);break;case"TEXT":s.writeUnicodeStringWithPadding(e,r);break;case"enum":var c=r.split("."),f=c[1];C(e,c[0]),C(e,f);break;case"long":s.writeInt32(e,r);break;case"bool":s.writeUint8(e,r?1:0);break;case"tdta":s.writeInt32(e,r.byteLength),s.writeBytes(e,r);break;case"ObAr":for(s.writeInt32(e,16),s.writeUnicodeStringWithPadding(e,""),C(e,"rationalPoint"),s.writeInt32(e,r.length),o=0;o<r.length;o++){C(e,r[o].type),s.writeSignature(e,"UnFl"),s.writeSignature(e,"#Pxl"),s.writeInt32(e,r[o].values.length);for(var p=0;p<r[o].values.length;p++)s.writeFloat64(e,r[o].values[p])}break;default:throw new Error("Not implemented TySh descriptor OSType: "+t)}}function P(e){return{name:o.readUnicodeString(e),classID:B(e)}}t.readAsciiStringOrClassId=B,t.readDescriptorStructure=A,t.writeDescriptorStructure=I,t.readVersionAndDescriptor=function(e){if(16!==o.readUint32(e))throw new Error("Invalid descriptor version");return A(e)},t.writeVersionAndDescriptor=function(e,t,r,n,i){void 0===i&&(i=""),s.writeUint32(e,16),I(e,t,r,n,i)},t.parseAngle=function(e){if(void 0===e)return 0;if("Angle"!==e.units)throw new Error("Invalid units: "+e.units);return e.value},t.parsePercent=function(e){if(void 0===e)return 1;if("Percent"!==e.units)throw new Error("Invalid units: "+e.units);return e.value/100},t.parsePercentOrAngle=function(e){if(void 0===e)return 1;if("Percent"===e.units)return e.value/100;if("Angle"===e.units)return e.value/360;throw new Error("Invalid units: "+e.units)},t.parseUnits=function(e){var t=e.units,r=e.value;if("Pixels"!==t&&"Millimeters"!==t&&"Points"!==t&&"None"!==t&&"Picas"!==t&&"Inches"!==t&&"Centimeters"!==t&&"Density"!==t)throw new Error("Invalid units: "+JSON.stringify({units:t,value:r}));return{value:r,units:t}},t.parseUnitsToNumber=function(e,t){var r=e.units,n=e.value;if(r!==t)throw new Error("Invalid units: "+JSON.stringify({units:r,value:n}));return n},t.unitsAngle=function(e){return{units:"Angle",value:e||0}},t.unitsPercent=function(e){return{units:"Percent",value:Math.round(100*(e||0))}},t.unitsValue=function(e,t){if(null==e)return{units:"Pixels",value:0};if("object"!=typeof e)throw new Error("Invalid value: "+JSON.stringify(e)+" (key: "+t+") (should have value and units)");var r=e.units,n=e.value;if("number"!=typeof n)throw new Error("Invalid value in "+JSON.stringify(e)+" (key: "+t+")");if("Pixels"!==r&&"Millimeters"!==r&&"Points"!==r&&"None"!==r&&"Picas"!==r&&"Inches"!==r&&"Centimeters"!==r&&"Density"!==r)throw new Error("Invalid units in "+JSON.stringify(e)+" (key: "+t+")");return{units:r,value:n}},t.textGridding=a.createEnum("textGridding","none",{none:"None"}),t.Ornt=a.createEnum("Ornt","horizontal",{horizontal:"Hrzn",vertical:"Vrtc"}),t.Annt=a.createEnum("Annt","sharp",{none:"Anno",sharp:"antiAliasSharp",crisp:"AnCr",strong:"AnSt",smooth:"AnSm"}),t.warpStyle=a.createEnum("warpStyle","none",{none:"warpNone",arc:"warpArc",arcLower:"warpArcLower",arcUpper:"warpArcUpper",arch:"warpArch",bulge:"warpBulge",shellLower:"warpShellLower",shellUpper:"warpShellUpper",flag:"warpFlag",wave:"warpWave",fish:"warpFish",rise:"warpRise",fisheye:"warpFisheye",inflate:"warpInflate",squeeze:"warpSqueeze",twist:"warpTwist",custom:"warpCustom"}),t.BlnM=a.createEnum("BlnM","normal",{normal:"Nrml",dissolve:"Dslv",darken:"Drkn",multiply:"Mltp","color burn":"CBrn","linear burn":"linearBurn","darker color":"darkerColor",lighten:"Lghn",screen:"Scrn","color dodge":"CDdg","linear dodge":"linearDodge","lighter color":"lighterColor",overlay:"Ovrl","soft light":"SftL","hard light":"HrdL","vivid light":"vividLight","linear light":"linearLight","pin light":"pinLight","hard mix":"hardMix",difference:"Dfrn",exclusion:"Xclu",subtract:"blendSubtraction",divide:"blendDivide",hue:"H   ",saturation:"Strt",color:"Clr ",luminosity:"Lmns"}),t.BESl=a.createEnum("BESl","inner bevel",{"inner bevel":"InrB","outer bevel":"OtrB",emboss:"Embs","pillow emboss":"PlEb","stroke emboss":"strokeEmboss"}),t.bvlT=a.createEnum("bvlT","smooth",{smooth:"SfBL","chisel hard":"PrBL","chisel soft":"Slmt"}),t.BESs=a.createEnum("BESs","up",{up:"In  ",down:"Out "}),t.BETE=a.createEnum("BETE","softer",{softer:"SfBL",precise:"PrBL"}),t.IGSr=a.createEnum("IGSr","edge",{edge:"SrcE",center:"SrcC"}),t.GrdT=a.createEnum("GrdT","linear",{linear:"Lnr ",radial:"Rdl ",angle:"Angl",reflected:"Rflc",diamond:"Dmnd"}),t.ClrS=a.createEnum("ClrS","rgb",{rgb:"RGBC",hsb:"HSBl",lab:"LbCl"}),t.FStl=a.createEnum("FStl","outside",{outside:"OutF",center:"CtrF",inside:"InsF"}),t.FrFl=a.createEnum("FrFl","color",{color:"SClr",gradient:"GrFl",pattern:"Ptrn"}),t.strokeStyleLineCapType=a.createEnum("strokeStyleLineCapType","butt",{butt:"strokeStyleButtCap",round:"strokeStyleRoundCap",square:"strokeStyleSquareCap"}),t.strokeStyleLineJoinType=a.createEnum("strokeStyleLineJoinType","miter",{miter:"strokeStyleMiterJoin",round:"strokeStyleRoundJoin",bevel:"strokeStyleBevelJoin"}),t.strokeStyleLineAlignment=a.createEnum("strokeStyleLineAlignment","inside",{inside:"strokeStyleAlignInside",center:"strokeStyleAlignCenter",outside:"strokeStyleAlignOutside"})},tjlA:function(e,t,r){"use strict";(function(e){var n=r("H7XF"),i=r("kVK+"),a=r("49sm");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(d(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return B(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var d=-1;for(a=r;a<s;a++)if(u(e,a)===u(t,-1===d?0:a-d)){if(-1===d&&(d=a),a-d+1===l)return d*o}else-1!==d&&(a-=a-d),d=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var c=!0,f=0;f<l;f++)if(u(e,a+f)!==u(t,f)){c=!1;break}if(c)return a}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function w(e,t,r,n){return G(z(t,e.length-r),e,r,n)}function _(e,t,r,n){return G(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return _(e,t,r,n)}function E(e,t,r,n){return G(j(t),e,r,n)}function S(e,t,r,n){return G(function(e,t){for(var r,n,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(t,e.length-r),e,r,n)}function k(e,t,r){return n.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,u=e[i],d=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(d=u);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&u)<<6|63&a)>127&&(d=l);break;case 3:o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,c=1):d>65535&&(n.push((d-=65536)>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=c}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return u(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return d(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return c(null,e)},l.allocUnsafeSlow=function(e){return c(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),d=e.slice(t,r),c=0;c<s;++c)if(u[c]!==d[c]){a=u[c],o=d[c];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var a="",o=t;o<r;++o)a+=(n=e[o])<16?"0"+n.toString(16):n.toString(16);return a}function I(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function O(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,a){return a||O(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,a){return a||O(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:z(new l(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function j(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("yLpj"))},uE1V:function(e,t,r){"use strict";(function(t,n){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=k,k.WritableState=S;var o,s={deprecate:r("t9FE")},l=r("UYS0"),u=r("tjlA").Buffer,d=t.Uint8Array||function(){},c=r("eJ1Q"),f=r("4ROa").getHighWaterMark,h=r("Gwi7").codes,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,x=c.errorOrDestroy;function E(){}function S(e,t,o){a=a||r("hF/z"),"boolean"!=typeof o&&(o=t instanceof a),this.objectMode=!!(e=e||{}).objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,a){--t.pendingcb,r?(n.nextTick(a,i),n.nextTick(I,e,t),e._writableState.errorEmitted=!0,x(e,i)):(a(i),e._writableState.errorEmitted=!0,x(e,i),I(e,t))}(e,r,i,t,a);else{var o=C(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||B(e,r),i?n.nextTick(R,e,r,o,a):R(e,r,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function k(e){var t=this instanceof(a=a||r("hF/z"));if(!t&&!o.call(k,this))return new k(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function T(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function R(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function B(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=new Array(t.bufferedRequestCount),a=t.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)n[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;n.allBuffers=s,T(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk;if(T(e,t,!1,t.objectMode?1:l.length,l,r.encoding,r.callback),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final(function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function I(e,t){var r=C(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r("P7XM")(k,l),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===k&&e&&e._writableState instanceof S}})):o=function(e){return e instanceof this},k.prototype.pipe=function(){x(this,new v)},k.prototype.write=function(e,t,r){var i,a=this._writableState,o=!1,s=!a.objectMode&&(u.isBuffer(i=e)||i instanceof d);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=E),a.ending?function(e,t){var r=new w;x(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var a;return null===r?a=new y:"string"==typeof r||t.objectMode||(a=new p("chunk",["string","Buffer"],r)),!a||(x(e,a),n.nextTick(i,a),!1)}(this,a,e,r))&&(a.pendingcb++,o=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,n,i,a);return l}(this,a,s,e,t,r)),o},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||B(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=c.destroy,k.prototype._undestroy=c.undestroy,k.prototype._destroy=function(e,t){t(e)}}).call(this,r("yLpj"),r("8oxB"))},vXqZ:function(e,t,r){"use strict";(function(t,n){var i;e.exports=k,k.ReadableState=S,r("+qE3");var a,o=function(e,t){return e.listeners(t).length},s=r("UYS0"),l=r("tjlA").Buffer,u=t.Uint8Array||function(){},d=r(3);a=d&&d.debuglog?d.debuglog("stream"):function(){};var c,f,h,p=r("pojV"),g=r("eJ1Q"),m=r("4ROa").getHighWaterMark,v=r("Gwi7").codes,b=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("P7XM")(k,s);var x=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function S(e,t,n){i=i||r("hF/z"),"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!(e=e||{}).objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r("fXKp").StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function k(e){if(i=i||r("hF/z"),!(this instanceof k))return new k(e);this._readableState=new S(e,this,this instanceof i),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,r,n,i){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,s);else if(i||(o=function(e,t){var r,n;return l.isBuffer(n=t)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),o)x(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n)s.endEmitted?x(e,new _):R(e,s,t,!0);else if(s.ended)x(e,new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?R(e,s,t,!1):D(e,s)):R(e,s,t,!1)}else n||(s.reading=!1,D(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function R(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),D(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},k.prototype.unshift=function(e){return T(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){c||(c=r("fXKp").StringDecoder);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var B=1073741824;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=B?e=B:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(I,e))}function I(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function D(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(L,e,t))}function L(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){a("readable nexttick read 0"),e.read(0)}function O(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function N(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(z,t,e))}function z(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}k.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):A(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,i=t.needReadable;return a("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",i=!0),t.ended||t.reading?a("reading or ended",i=!1):i&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(e){x(this,new w("_read()"))},k.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===n.stdout||e===n.stderr?g:l;function l(){a("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",function t(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",l),r.removeListener("end",g),r.removeListener("data",c),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",u);var d=!1;function c(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!d&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(t){a("onerror",t),g(),e.removeListener("error",f),0===o(e,"error")&&x(e,t)}function h(){e.removeListener("finish",p),g()}function p(){a("onfinish"),e.removeListener("close",h),g()}function g(){a("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",f),e.once("close",h),e.once("finish",p),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=j(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.addListener=k.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?A(this):i.reading||n.nextTick(F,this))),r},k.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(P,this),r},k.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(P,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r("gt6k")),f(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=M,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===h&&(h=r("o7xb")),h(k,e,t)})}).call(this,r("yLpj"),r("8oxB"))},wDnH:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"c",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"e",function(){return s}),r.d(t,"a",function(){return d}),r.d(t,"f",function(){return p});var n=r("ANlV");const i="preventDefault";class a extends n.d{constructor(e){super({pluginType:e||n.a.ANY,isLoadAtStartup:!0})}call(e,t){super.call(e,t),this.store.defaultEvent.preventDefault()}}const o="stoPropagation";class s extends n.d{constructor(e){super({pluginType:e||n.a.ANY,isLoadAtStartup:!0})}call(e,t){super.call(e,t),this.store.defaultEvent.stopPropagation()}}var l=r("mrSG"),u=r("GMPE");class d extends n.d{constructor(){super({pluginType:n.a.DRAG})}call(e,t){const r=Object.create(null,{call:{get:()=>super.call}});return Object(l.a)(this,void 0,void 0,function*(){return r.call.call(this,e,t),new Promise(e=>{this.resolve=e,this._switchEventType()})})}load(e){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(t=>{this.resolvePayload=t,this._extractData(e)})})}_switchEventType(){this.store.flags.drag.isDrop&&(this._extractData(this.store.values.drag.data),this._clearCaches())}_extractData(e){return Object(l.a)(this,void 0,void 0,function*(){let t=0;const r=e.items,n=[],i=[],a=[];for(const e in r)if(Object(u.hasProperty)(r,e)){const t=r[e].webkitGetAsEntry();i.push(this._scanFiles(t,n))}yield Promise.all(i);for(const e of n)e.file(e=>{a.push(e),t++,t===n.length&&a.length>0&&(this.store&&(this.store.values.drag.files=a,console.log("File loaded : ",a)),this.resolve?this.resolve():this.resolvePayload(a))})})}_scanFiles(e,t){return Object(l.a)(this,void 0,void 0,function*(){switch(!0){case e.isDirectory:{const r=e.createReader(),n=yield new Promise(e=>{r.readEntries(t=>e(t))});yield Promise.all(n.map(e=>this._scanFiles(e,t)));break}case e.isFile:t.push(e)}})}_clearCaches(){this.store.values.drag.data=null}}var c=r("xOOu"),f=r("67IB");const h=".(zip)$";class p extends n.d{constructor(){super({pluginType:n.a.DRAG}),this.totalCount=0,this.files=[]}call(e,t){const r=Object.create(null,{call:{get:()=>super.call}});return Object(l.a)(this,void 0,void 0,function*(){return r.call.call(this,e,t),new Promise(e=>{this.resolve=e,this._switchEventType()})})}load(e){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(t=>{this.resolvePayload=t,this._loadZips([e])})})}_switchEventType(){this.store.flags.drag.isDrop&&this._loadZips(this.store.values.drag.files)}_loadZips(e){const t=e.filter(e=>Object(u.validateFormat)(e,h));if(console.log("Zip files : ",t),this.totalCount=t.length,0===t.length)return console.log("There are no zip files. Skip loading files."),this.resolve?this.resolve():this.resolvePayload([]);for(let r=0;r<t.length;r++)this._loadZip(t[r])}_loadZip(e){Object(u.validateFormat)(e,h)?(this.totalCount--,this._zipReader(e)):(this._storeFile(e),this._manageCount())}_storeFile(e){this.store?this.store.values.drag.files.push(e):this.files.push(e)}_zipReader(e){return Object(l.a)(this,void 0,void 0,function*(){try{const r=new c,n=yield r.loadAsync(e);console.log("Files in zip : ",n.files),this.totalCount+=Object.keys(n.files).length;for(const e in n.files)if(Object(u.hasProperty)(n.files,e))try{if(n.files[e].dir){console.log("Directory is detected. Skip loading the file."),this._manageCount();continue}const t=yield n.file(e).async("blob"),r=Object(u.removePathFromName)(e),i=yield Object(f.fromBlob)(t);if(!i){console.log("Error loading mime type from a file. Skip loading the file."),this._manageCount();continue}const a=new File([t],r,{type:i.mime});console.log(r,i),this._loadZip(a)}catch(t){console.error(t),this._manageCount()}}catch(t){console.error(t),this._manageCount()}})}_manageCount(){this.totalCount--,0===this.totalCount&&(this.resolve?this.resolve():this.resolvePayload(this.files),this.files=[])}}},x4Ov:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resourceHandlersMap=t.resourceHandlers=void 0;var n=r("H7XF"),i=r("DueJ"),a=r("lgos"),o=r("WSo5"),s=r("yEox"),l=r("tgq0");function u(e,r,n,i){var a={key:e,has:r,read:n,write:i};t.resourceHandlers.push(a),t.resourceHandlersMap[a.key]=a}t.resourceHandlers=[],t.resourceHandlersMap={};var d=[void 0,"PPI","PPCM"],c=[void 0,"Inches","Centimeters","Points","Picas","Columns"],f="0123456789abcdef";function h(e){return e<=57?e-48:e-87}u(1061,function(e){return void 0!==e.captionDigest},function(e,t){for(var r="",n=0;n<16;n++){var a=i.readUint8(e);r+=f[a>>4],r+=f[15&a]}t.captionDigest=r},function(e,t){for(var r=0;r<16;r++)a.writeUint8(e,h((n=t.captionDigest).charCodeAt(i=2*r))<<4|h(n.charCodeAt(i+1)));var n,i}),u(1060,function(e){return void 0!==e.xmpMetadata},function(e,t,r){return t.xmpMetadata=function(e,t){var r=i.readBytes(e,t);return s.decodeString(r)}(e,r())},function(e,t){return function(e,t){var r=s.encodeString(t);a.writeBytes(e,r)}(e,t.xmpMetadata)});var p=o.createEnum("Inte","perceptual",{perceptual:"Img ",saturation:"Grp ","relative colorimetric":"Clrm","absolute colorimetric":"AClr"});u(1082,function(e){return void 0!==e.printInformation},function(e,t){var r,n,i=l.readVersionAndDescriptor(e);t.printInformation={printerName:i.printerName||"",renderingIntent:p.decode(null!==(r=i.Inte)&&void 0!==r?r:"Inte.Img ")};var a=t.printInformation;void 0!==i.PstS&&(a.printerManagesColors=i.PstS),void 0!==i["Nm  "]&&(a.printerProfile=i["Nm  "]),void 0!==i.MpBl&&(a.blackPointCompensation=i.MpBl),void 0!==i.printSixteenBit&&(a.printSixteenBit=i.printSixteenBit),void 0!==i.hardProof&&(a.hardProof=i.hardProof),i.printProofSetup&&(a.proofSetup="Bltn"in i.printProofSetup?{builtin:i.printProofSetup.Bltn.split(".")[1]}:{profile:i.printProofSetup.profile,renderingIntent:p.decode(null!==(n=i.printProofSetup.Inte)&&void 0!==n?n:"Inte.Img "),blackPointCompensation:!!i.printProofSetup.MpBl,paperWhite:!!i.printProofSetup.paperWhite})},function(e,t){var r,n,i=t.printInformation,a={};i.printerManagesColors?a.PstS=!0:(void 0!==i.hardProof&&(a.hardProof=!!i.hardProof),a.ClrS="ClrS.RGBC",a["Nm  "]=null!==(r=i.printerProfile)&&void 0!==r?r:"CIE RGB"),a.Inte=p.encode(i.renderingIntent),i.printerManagesColors||(a.MpBl=!!i.blackPointCompensation),a.printSixteenBit=!!i.printSixteenBit,a.printerName=i.printerName||"",a.printProofSetup=i.proofSetup&&"profile"in i.proofSetup?{profile:i.proofSetup.profile||"",Inte:p.encode(i.proofSetup.renderingIntent),MpBl:!!i.proofSetup.blackPointCompensation,paperWhite:!!i.proofSetup.paperWhite}:{Bltn:(null===(n=i.proofSetup)||void 0===n?void 0:n.builtin)?"builtinProof."+i.proofSetup.builtin:"builtinProof.proofCMYK"},l.writeVersionAndDescriptor(e,"","printOutput",a)}),u(1005,function(e){return void 0!==e.resolutionInfo},function(e,t){var r=i.readFixedPoint32(e),n=i.readUint16(e),a=i.readUint16(e),o=i.readFixedPoint32(e),s=i.readUint16(e),l=i.readUint16(e);t.resolutionInfo={horizontalResolution:r,horizontalResolutionUnit:d[n]||"PPI",widthUnit:c[a]||"Inches",verticalResolution:o,verticalResolutionUnit:d[s]||"PPI",heightUnit:c[l]||"Inches"}},function(e,t){var r=t.resolutionInfo;a.writeFixedPoint32(e,r.horizontalResolution||0),a.writeUint16(e,Math.max(1,d.indexOf(r.horizontalResolutionUnit))),a.writeUint16(e,Math.max(1,c.indexOf(r.widthUnit))),a.writeFixedPoint32(e,r.verticalResolution||0),a.writeUint16(e,Math.max(1,d.indexOf(r.verticalResolutionUnit))),a.writeUint16(e,Math.max(1,c.indexOf(r.heightUnit)))});var g=["centered","size to fit","user defined"];u(1062,function(e){return void 0!==e.printScale},function(e,t){t.printScale={style:g[i.readInt16(e)],x:i.readFloat32(e),y:i.readFloat32(e),scale:i.readFloat32(e)}},function(e,t){var r=t.printScale,n=r.x,i=r.y,o=r.scale;a.writeInt16(e,Math.max(0,g.indexOf(r.style))),a.writeFloat32(e,n||0),a.writeFloat32(e,i||0),a.writeFloat32(e,o||0)}),u(1006,function(e){return void 0!==e.alphaChannelNames},function(e,t,r){for(t.alphaChannelNames=[];r();){var n=i.readPascalString(e,1);t.alphaChannelNames.push(n)}},function(e,t){for(var r=0,n=t.alphaChannelNames;r<n.length;r++)a.writePascalString(e,n[r],1)}),u(1045,function(e){return void 0!==e.alphaChannelNames},function(e,t,r){for(t.alphaChannelNames=[];r();)t.alphaChannelNames.push(i.readUnicodeString(e))},function(e,t){for(var r=0,n=t.alphaChannelNames;r<n.length;r++)a.writeUnicodeStringWithPadding(e,n[r])}),u(1053,function(e){return void 0!==e.alphaIdentifiers},function(e,t,r){for(t.alphaIdentifiers=[];r()>=4;)t.alphaIdentifiers.push(i.readUint32(e))},function(e,t){for(var r=0,n=t.alphaIdentifiers;r<n.length;r++)a.writeUint32(e,n[r])}),u(1010,function(e){return void 0!==e.backgroundColor},function(e,t){return t.backgroundColor=i.readColor(e)},function(e,t){return a.writeColor(e,t.backgroundColor)}),u(1037,function(e){return void 0!==e.globalAngle},function(e,t){return t.globalAngle=i.readUint32(e)},function(e,t){return a.writeUint32(e,t.globalAngle)}),u(1049,function(e){return void 0!==e.globalAltitude},function(e,t){return t.globalAltitude=i.readUint32(e)},function(e,t){return a.writeUint32(e,t.globalAltitude)}),u(1011,function(e){return void 0!==e.printFlags},function(e,t){t.printFlags={labels:!!i.readUint8(e),cropMarks:!!i.readUint8(e),colorBars:!!i.readUint8(e),registrationMarks:!!i.readUint8(e),negative:!!i.readUint8(e),flip:!!i.readUint8(e),interpolate:!!i.readUint8(e),caption:!!i.readUint8(e),printFlags:!!i.readUint8(e)}},function(e,t){var r=t.printFlags;a.writeUint8(e,r.labels?1:0),a.writeUint8(e,r.cropMarks?1:0),a.writeUint8(e,r.colorBars?1:0),a.writeUint8(e,r.registrationMarks?1:0),a.writeUint8(e,r.negative?1:0),a.writeUint8(e,r.flip?1:0),a.writeUint8(e,r.interpolate?1:0),a.writeUint8(e,r.caption?1:0),a.writeUint8(e,r.printFlags?1:0)}),u(1024,function(e){return void 0!==e.layerState},function(e,t){return t.layerState=i.readUint16(e)},function(e,t){return a.writeUint16(e,t.layerState)}),u(1026,function(e){return void 0!==e.layersGroup},function(e,t,r){for(t.layersGroup=[];r();)t.layersGroup.push(i.readUint16(e))},function(e,t){for(var r=0,n=t.layersGroup;r<n.length;r++)a.writeUint16(e,n[r])}),u(1072,function(e){return void 0!==e.layerGroupsEnabledId},function(e,t,r){for(t.layerGroupsEnabledId=[];r();)t.layerGroupsEnabledId.push(i.readUint8(e))},function(e,t){for(var r=0,n=t.layerGroupsEnabledId;r<n.length;r++)a.writeUint8(e,n[r])}),u(1069,function(e){return void 0!==e.layerSelectionIds},function(e,t){var r=i.readUint16(e);for(t.layerSelectionIds=[];r--;)t.layerSelectionIds.push(i.readUint32(e))},function(e,t){a.writeUint16(e,t.layerSelectionIds.length);for(var r=0,n=t.layerSelectionIds;r<n.length;r++)a.writeUint32(e,n[r])}),u(1032,function(e){return void 0!==e.gridAndGuidesInformation},function(e,t){var r=i.readUint32(e),n=i.readUint32(e),a=i.readUint32(e),o=i.readUint32(e);if(1!==r)throw new Error("Invalid 1032 resource version: "+r);t.gridAndGuidesInformation={grid:{horizontal:n,vertical:a},guides:[]};for(var s=0;s<o;s++)t.gridAndGuidesInformation.guides.push({location:i.readUint32(e)/32,direction:i.readUint8(e)?"horizontal":"vertical"})},function(e,t){var r=t.gridAndGuidesInformation,n=r.grid||{horizontal:576,vertical:576},i=r.guides||[];a.writeUint32(e,1),a.writeUint32(e,n.horizontal),a.writeUint32(e,n.vertical),a.writeUint32(e,i.length);for(var o=0,s=i;o<s.length;o++){var l=s[o];a.writeUint32(e,32*l.location),a.writeUint8(e,"horizontal"===l.direction?1:0)}}),u(1054,function(e){return void 0!==e.urlsList},function(e,t,r,n){if(i.readUint32(e)){if(!n.throwForMissingFeatures)return;throw new Error("Not implemented: URL List")}t.urlsList=[]},function(e,t){if(a.writeUint32(e,t.urlsList.length),t.urlsList.length)throw new Error("Not implemented: URL List")}),u(1064,function(e){return void 0!==e.pixelAspectRatio},function(e,t){if(i.readUint32(e)>2)throw new Error("Invalid pixelAspectRatio version");t.pixelAspectRatio={aspect:i.readFloat64(e)}},function(e,t){a.writeUint32(e,2),a.writeFloat64(e,t.pixelAspectRatio.aspect)}),u(1041,function(e){return void 0!==e.iccUntaggedProfile},function(e,t){t.iccUntaggedProfile=!!i.readUint8(e)},function(e,t){a.writeUint8(e,t.iccUntaggedProfile?1:0)}),u(1044,function(e){return void 0!==e.idsSeedNumber},function(e,t){return t.idsSeedNumber=i.readUint32(e)},function(e,t){return a.writeUint32(e,t.idsSeedNumber)}),u(1036,function(e){return void 0!==e.thumbnail||void 0!==e.thumbnailRaw},function(e,t,r,n){var a=i.readUint32(e),s=i.readUint32(e),l=i.readUint32(e);i.readUint32(e),i.readUint32(e),i.readUint32(e);var u=i.readUint16(e),d=i.readUint16(e);if(1!==a||24!==u||1!==d)return n.logMissingFeatures&&console.log("Invalid thumbnail data (format: "+a+", bitsPerPixel: "+u+", planes: "+d+")"),void i.skipBytes(e,r());var c=r(),f=i.readBytes(e,c);n.useRawThumbnail?t.thumbnailRaw={width:s,height:l,data:f}:t.thumbnail=o.createCanvasFromData(f)},function(e,t){var r,i=0,o=0;t.thumbnailRaw?(i=t.thumbnailRaw.width,o=t.thumbnailRaw.height,r=t.thumbnailRaw.data):(i=t.thumbnail.width,o=t.thumbnail.height,r=n.toByteArray(t.thumbnail.toDataURL("image/jpeg",1).substr("data:image/jpeg;base64,".length)));var s=4*Math.floor((24*i+31)/32),l=s*o*1,u=r.length;a.writeUint32(e,1),a.writeUint32(e,i),a.writeUint32(e,o),a.writeUint32(e,s),a.writeUint32(e,l),a.writeUint32(e,u),a.writeUint16(e,24),a.writeUint16(e,1),a.writeBytes(e,r)}),u(1057,function(e){return void 0!==e.versionInfo},function(e,t,r){if(1!==i.readUint32(e))throw new Error("Invalid versionInfo version");t.versionInfo={hasRealMergedData:!!i.readUint8(e),writerName:i.readUnicodeString(e),readerName:i.readUnicodeString(e),fileVersion:i.readUint32(e)},i.skipBytes(e,r())},function(e,t){var r=t.versionInfo;a.writeUint32(e,1),a.writeUint8(e,r.hasRealMergedData?1:0),a.writeUnicodeString(e,r.writerName),a.writeUnicodeString(e,r.readerName),a.writeUint32(e,r.fileVersion)}),o.createEnum("FrmD","",{auto:"Auto",none:"None",dispose:"Disp"})},xOOu:function(e,t,r){(function(t,r,n){e.exports=function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};t[o][0].call(u.exports,function(e){return i(t[o][1][e]||e)},u,u.exports,e,t,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,i,a){(function(t){!function(e){"object"==typeof a&&void 0!==i?i.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof e&&e;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(e){return a(r[s][1][e]||e)},c,c.exports,t,r,n,i)}return n[s].exports}for(var o="function"==typeof e&&e,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,i,a){(function(t){!function(e){"object"==typeof a&&void 0!==i?i.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof e&&e;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(e){return a(r[s][1][e]||e)},c,c.exports,t,r,n,i)}return n[s].exports}for(var o="function"==typeof e&&e,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,i,a){(function(t){!function(e){"object"==typeof a&&void 0!==i?i.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof e&&e;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(e){return a(r[s][1][e]||e)},c,c.exports,t,r,n,i)}return n[s].exports}for(var o="function"==typeof e&&e,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,i,a){(function(t){!function(e){"object"==typeof a&&void 0!==i?i.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof e&&e;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(e){return a(r[s][1][e]||e)},c,c.exports,t,r,n,i)}return n[s].exports}for(var o="function"==typeof e&&e,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,i,a){(function(t){!function(e){"object"==typeof a&&void 0!==i?i.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof e&&e;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(e){return a(r[s][1][e]||e)},c,c.exports,t,r,n,i)}return n[s].exports}for(var o="function"==typeof e&&e,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,o,s,l,u=[],d=0,c=e.length,f=c,h="string"!==n.getTypeOf(e);d<e.length;)f=c-d,i=h?(t=e[d++],r=d<c?e[d++]:0,d<c?e[d++]:0):(t=e.charCodeAt(d++),r=d<c?e.charCodeAt(d++):0,d<c?e.charCodeAt(d++):0),o=(3&t)<<4|r>>4,s=1<f?(15&r)<<2|i>>6:64,l=2<f?63&i:64,u.push(a.charAt(t>>2)+a.charAt(o)+a.charAt(s)+a.charAt(l));return u.join("")},r.decode=function(e){var t,r,n,o,s,l,u=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&f--,e.charAt(e.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=i.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)t=a.indexOf(e.charAt(u++))<<2|(o=a.indexOf(e.charAt(u++)))>>4,r=(15&o)<<4|(s=a.indexOf(e.charAt(u++)))>>2,n=(3&s)<<6|(l=a.indexOf(e.charAt(u++))),c[d++]=t,64!==s&&(c[d++]=r),64!==l&&(c[d++]=n);return c}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r){var n=i,a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^n[255&(e^t[o])];return-1^e}(0|t,e,e.length):function(e,t,r){var n=i,a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^n[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function i(e,t,r,i,o,d){var c,f,h=e.file,p=e.compression,g=d!==s.utf8encode,m=a.transformTo("string",d(h.name)),v=a.transformTo("string",s.utf8encode(h.name)),b=h.comment,y=a.transformTo("string",d(b)),w=a.transformTo("string",s.utf8encode(b)),_=v.length!==h.name.length,x=w.length!==b.length,E="",S="",k="",T=h.dir,R=h.date,B={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(B.crc32=e.crc32,B.compressedSize=e.compressedSize,B.uncompressedSize=e.uncompressedSize);var C=0;t&&(C|=8),g||!_&&!x||(C|=2048);var A,I=0,D=0;T&&(I|=16),"UNIX"===o?(D=798,I|=((A=h.unixPermissions)||(A=T?16893:33204),(65535&A)<<16)):(D=20,I|=63&(h.dosPermissions||0)),c=R.getUTCHours(),c<<=6,c|=R.getUTCMinutes(),c<<=5,c|=R.getUTCSeconds()/2,f=R.getUTCFullYear()-1980,f<<=4,f|=R.getUTCMonth()+1,f<<=5,f|=R.getUTCDate(),_&&(E+="up"+n((S=n(1,1)+n(l(m),4)+v).length,2)+S),x&&(E+="uc"+n((k=n(1,1)+n(l(y),4)+w).length,2)+k);var L="";return L+="\n\0",L+=n(C,2),L+=p.magic,L+=n(c,2),L+=n(f,2),L+=n(B.crc32,4),L+=n(B.compressedSize,4),L+=n(B.uncompressedSize,4),L+=n(m.length,2),L+=n(E.length,2),{fileRecord:u.LOCAL_FILE_HEADER+L+m+E,dirRecord:u.CENTRAL_FILE_HEADER+n(D,2)+L+n(y.length,2)+"\0\0\0\0"+n(I,4)+n(i,4)+m+E+y}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function d(e,t,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,o),d.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t,r=this.streamFiles&&!e.file.dir,a=i(e,r,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),r)this.push({data:(t=e,u.DATA_DESCRIPTOR+n(t.crc32,4)+n(t.compressedSize,4)+n(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r,i,o,s,l=(r=this.dirRecords.length,i=this.bytesWritten-e,o=e,s=a.transformTo("string",(0,this.encodeFileName)(this.zipComment)),u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(r,2)+n(r,2)+n(i,4)+n(o,4)+n(s.length,2)+s);this.push({data:l,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var a=new i(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,r){o++;var i=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),s=r.dir,l=r.date;r._compressWorker(i,r.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:s,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.5.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",function(e){r(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var r=new o(t);return r.load(e),r}).then(function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var a=0;a<n.length;a++)r.push(u(n[a]));return i.Promise.all(r)}).then(function(e){for(var n=e.shift(),i=n.files,a=0;a<i.length;a++){var o=i[a];r.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),r&&r(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:void 0!==r,newBufferFrom:function(e,t){if(r.from&&r.from!==Uint8Array.from)return r.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new r(e,t)},allocBuffer:function(e){if(r.alloc)return r.alloc(e);var t=new r(e);return t.fill(0),t},isBuffer:function(e){return r.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n,a,l=o.getTypeOf(t),f=o.extend(r||{},u);f.date=f.date||new Date,null!==f.compression&&(f.compression=f.compression.toUpperCase()),"string"==typeof f.unixPermissions&&(f.unixPermissions=parseInt(f.unixPermissions,8)),f.unixPermissions&&16384&f.unixPermissions&&(f.dir=!0),f.dosPermissions&&16&f.dosPermissions&&(f.dir=!0),f.dir&&(e=i(e)),f.createFolders&&(n=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&g.call(this,n,!0),r&&void 0!==r.binary||(f.binary=!("string"===l&&!1===f.binary&&!1===f.base64)),(t instanceof d&&0===t.uncompressedSize||f.dir||!t||0===t.length)&&(f.base64=!1,f.binary=!0,t="",f.compression="STORE",l="string"),a=t instanceof d||t instanceof s?t:h.isNode&&h.isStream(t)?new p(e,t):o.prepareContent(e,t,f.binary,f.optimizedBinaryString,f.base64);var m=new c(e,a,f);this.files[e]=m}function i(e){return"/"!==e.slice(-1)&&(e+="/"),e}var a=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),l=e("./stream/StreamHelper"),u=e("./defaults"),d=e("./compressedObject"),c=e("./zipObject"),f=e("./generate"),h=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),g=function(e,t){return t=void 0!==t?t:u.createFolders,e=i(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},file:function(e,t,r){if(1!==arguments.length)return n.call(this,e=this.root+e,t,r),this;if(m(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(m(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=g.call(this,this.root+e),r=this.clone();return r.root=t.name,r},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS"),t=f.generateWorker(this,r,r.comment||this.comment||"")}catch(e){(t=new s("error")).error(e)}return new l(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&r===a[1]&&n===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../utils");function a(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,n),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,n),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(a,i),a.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),a=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),l=e("../support"),u=e("../external"),d=null;if(l.nodestream)try{d=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,i.checkSupport(n),this._worker=e.pipe(new a(n)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return t=this,n=e,new u.Promise(function(e,a){var o=[],l=t._internalType,u=t._outputType,d=t._mimeType;t.on("data",function(e,t){o.push(e),n&&n(t)}).on("error",function(e){o=[],a(e)}).on("end",function(){try{var t=function(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,t){var n,i=0,a=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(a=new Uint8Array(o),n=0;n<t.length;n++)a.set(t[n],i),i+=t[n].length;return a;case"nodebuffer":return r.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,o),d);e(t)}catch(t){a(t)}o=[]}).resume()});var t,n},on:function(e,t){var r=this;return this._worker.on(e,"data"===e?function(e){t.call(r,e.data,e.meta)}:function(){i.delay(t,arguments,r)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==r,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),n.blob=0===a.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,r,n,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),a=o=0;o<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,a,o=e.length,l=new Array(2*o);for(t=r=0;t<o;)if((i=e[t++])<128)l[r++]=i;else if(4<(a=s[i]))l[r++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?l[r++]=65533:i<65536?l[r++]=i:(l[r++]=55296|(i-=65536)>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(u,o),u.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),l=t;o!==t.length&&(i.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:r.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,n.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("set-immediate-shim"),s=e("./external");function l(e){return e}function u(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r.newBlob=function(t,n){r.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,r){var n=[],i=0,a=e.length;if(a<=r)return String.fromCharCode.apply(null,e);for(;i<a;)n.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(i,Math.min(i+r,a)):e.subarray(i,Math.min(i+r,a)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=d.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=d.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return d.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return d.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=c;var h={};h.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,a.allocBuffer(e.length))}},h.array={string:c,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},h.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:c,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return a.newBufferFrom(e)}},h.nodebuffer={string:c,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:l},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return h[n][e](t)},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&a.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){o(function(){e.apply(r||null,t||[])})},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,a,o,l){return s.Promise.resolve(t).then(function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(t){var d,c=r.getTypeOf(t);return c?("arraybuffer"===c?t=r.transformTo("uint8array",t):"string"===c&&(l?t=i.decode(t):a&&!0!==o&&(t=u(d=t,n.uint8array?new Uint8Array(d.length):new Array(d.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=i.transformTo(s.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&n&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)n.prototype[u[c]]=d;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,n){(function(e){"use strict";var t,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(d),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),t=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,t=function(){l.port2.postMessage(0)}}var u=[];function d(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}r.exports=function(e){1!==u.push(e)||n||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(e,t,r){n(function(){var n;try{n=t(r)}catch(n){return a.reject(e,n)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function i(t){r||(r=!0,a.resolve(e,t))}var o=p(function(){t(i,n)});"error"===o.status&&n(o.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(i);return this.state!==l?c(r,this.state===s?e:t,this.outcome):this.queue.push(new d(r,e,t)),r},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){c(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){c(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=p(f,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)h(e,n);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,l=-1,u=new this(i);++l<r;)d(e[l],l);return u;function d(e,i){t.resolve(e).then(function(e){o[i]=e,++s!==r||n||(n=!0,a.resolve(u,o))},function(e){n||(n=!0,a.reject(u,e))})}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n=-1,o=new this(i);++n<t;)this.resolve(e[n]).then(function(e){r||(r=!0,a.resolve(o,e))},function(e){r||(r=!0,a.reject(o,e))});return o}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var d;if(d="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,d)))throw new Error(o[r]);this._dict_set=!0}}function d(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}u.prototype.push=function(e,t){var r,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,o))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?a.buf2binstring(i.shrinkBuf(s.output,s.next_out)):i.shrinkBuf(s.output,s.next_out))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=u,r.deflate=d,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),d=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function f(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}c.prototype.push=function(e,t){var r,s,l,u,c,f,h=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,h.input="string"==typeof e?a.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?new Uint8Array(e):e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(r=n.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(f="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,r=n.inflateSetDictionary(this.strm,f)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(h.output,h.next_out),u=h.next_out-l,c=a.buf2string(h.output,l),h.next_out=u,h.avail_out=p-u,u&&i.arraySet(h.output,h.output,l,u,0),this.onData(c)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=c,r.inflate=f,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},r.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)o.set(a=e[t],i),i+=a.length;return o}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,r.string2buf=function(e){var t,r,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),a=o=0;o<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,a,s=t||e.length,u=new Array(2*s);for(r=n=0;r<s;)if((i=e[r++])<128)u[n++]=i;else if(4<(a=o[i]))u[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&r<s;)i=i<<6|63&e[r++],a--;1<a?u[n++]=65533:i<65536?u[n++]=i:(u[n++]=55296|(i-=65536)>>10&1023,u[n++]=56320|1023&i)}return l(u,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;a=a+(i=i+t[n++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var a=n,o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,r){"use strict";var n,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=-2,d=258,c=262,f=113;function h(e,t){return e.msg=l[t],t}function p(e){return(e<<1)-(4<e?9:0)}function g(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function v(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function b(e,t){e.pending_buf[e.pending++]=t}function y(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-c?e.strstart-(e.w_size-c):0,u=e.window,f=e.w_mask,h=e.prev,p=e.strstart+d,g=u[a+o-1],m=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+o]===m&&u[r+o-1]===g&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do{}while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<p);if(n=d-(p-a),a=p-d,o<n){if(e.match_start=t,s<=(o=n))break;g=u[a+o-1],m=u[a+o]}}}while((t=h[t&f])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function _(e){var t,r,n,a,l,u,d,f,h,p,g=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-c)){for(i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=r=e.hash_size;n=e.head[--t],e.head[t]=g<=n?n-g:0,--r;);for(t=r=g;n=e.prev[--t],e.prev[t]=g<=n?n-g:0,--r;);a+=g}if(0===e.strm.avail_in)break;if(d=e.window,f=e.strstart+e.lookahead,p=void 0,(h=a)<(p=(u=e.strm).avail_in)&&(p=h),r=0===p?0:(u.avail_in-=p,i.arraySet(d,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=o(u.adler,d,p,f):2===u.state.wrap&&(u.adler=s(u.adler,d,p,f)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<c&&0!==e.strm.avail_in)}function x(e,t){for(var r,n;;){if(e.lookahead<c){if(_(e),e.lookahead<c&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-c&&(e.match_length=w(e,r)),e.match_length>=3)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var r,n,i;;){if(e.lookahead<c){if(_(e),e.lookahead<c&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-c&&(e.match_length=w(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(v(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&v(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):h(e,u)}function R(e){var t,r=T(e);return 0===r&&((t=e.state).window_size=2*t.w_size,g(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function B(e,t,r,n,a,o){if(!e)return u;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),a<1||9<a||8!==r||n<8||15<n||t<0||9<t||o<0||4<o)return h(e,u);8===n&&(n=9);var l=new k;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=r,R(e)}n=[new S(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,v(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-c&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&v(e,!1),1)}),new S(4,4,8,4,x),new S(4,5,16,8,x),new S(4,6,32,32,x),new S(4,4,16,16,E),new S(8,16,32,32,E),new S(8,16,128,128,E),new S(8,32,128,256,E),new S(32,128,258,1024,E),new S(32,258,258,4096,E)],r.deflateInit=function(e,t){return B(e,t,8,15,8,0)},r.deflateInit2=B,r.deflateReset=R,r.deflateResetKeep=T,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},r.deflate=function(e,t){var r,i,o,l;if(!e||!e.state||5<t||t<0)return e?h(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return h(e,0===e.avail_out?-5:u);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,b(i,31),b(i,139),b(i,8),i.gzhead?(b(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),b(i,255&i.gzhead.time),b(i,i.gzhead.time>>8&255),b(i,i.gzhead.time>>16&255),b(i,i.gzhead.time>>24&255),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(b(i,255&i.gzhead.extra.length),b(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(b(i,0),b(i,0),b(i,0),b(i,0),b(i,0),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,3),i.status=f);else{var c=8+(i.w_bits-8<<4)<<8;c|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(c|=32),c+=31-c%31,i.status=f,y(i,c),0!==i.strstart&&(y(i,e.adler>>>16),y(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending!==i.pending_buf_size));)b(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,b(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,b(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(b(i,255&e.adler),b(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(r)&&4!==t)return h(e,-5);if(666===i.status&&0!==e.avail_in)return h(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var w=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=d){if(_(e),e.lookahead<=d&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+d;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);e.match_length=d-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==w&&4!==w||(i.status=666),1===w||3===w)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===w&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(b(i,255&e.adler),b(i,e.adler>>8&255),b(i,e.adler>>16&255),b(i,e.adler>>24&255),b(i,255&e.total_in),b(i,e.total_in>>8&255),b(i,e.total_in>>16&255),b(i,e.total_in>>24&255)):(y(i,e.adler>>>16),y(i,65535&e.adler)),m(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==f&&666!==t?h(e,u):(e.state=null,t===f?h(e,-3):0):u},r.deflateSetDictionary=function(e,t){var r,n,a,s,l,d,c,f,h=t.length;if(!e||!e.state)return u;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return u;for(1===s&&(e.adler=o(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===s&&(g(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,t,h-r.w_size,r.w_size,0),t=f,h=r.w_size),l=e.avail_in,d=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,_(r);r.lookahead>=3;){for(n=r.strstart,a=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--a;);r.strstart=n,r.lookahead=2,_(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=d,e.input=c,e.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,a,o,s,l,u,d,c,f,h,p,g,m,v,b,y,w,_,x,E,S,k,T;k=e.input,i=(n=e.next_in)+(e.avail_in-5),T=e.output,o=(a=e.next_out)-(t-e.avail_out),s=a+(e.avail_out-257),l=(r=e.state).dmax,u=r.wsize,d=r.whave,c=r.wnext,f=r.window,h=r.hold,p=r.bits,g=r.lencode,m=r.distcode,v=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(h+=k[n++]<<p,h+=k[n++]<<(p+=8),p+=8),y=g[h&v];t:for(;;){if(h>>>=w=y>>>24,p-=w,0==(w=y>>>16&255))T[a++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=g[(65535&y)+(h&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}_=65535&y,(w&=15)&&(p<w&&(h+=k[n++]<<p,p+=8),_+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=k[n++]<<p,h+=k[n++]<<(p+=8),p+=8),y=m[h&b];r:for(;;){if(h>>>=w=y>>>24,p-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=m[(65535&y)+(h&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(x=65535&y,p<(w&=15)&&(h+=k[n++]<<p,(p+=8)<w&&(h+=k[n++]<<p,p+=8)),l<(x+=h&(1<<w)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=w,p-=w,(w=a-o)<x){if(d<(w=x-w)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=f,(E=0)===c){if(E+=u-w,w<_){for(_-=w;T[a++]=f[E++],--w;);E=a-x,S=T}}else if(c<w){if(E+=u+c-w,(w-=c)<_){for(_-=w;T[a++]=f[E++],--w;);if(E=0,c<_){for(_-=w=c;T[a++]=f[E++],--w;);E=a-x,S=T}}}else if(E+=c-w,w<_){for(_-=w;T[a++]=f[E++],--w;);E=a-x,S=T}for(;2<_;)T[a++]=S[E++],T[a++]=S[E++],T[a++]=S[E++],_-=3;_&&(T[a++]=S[E++],1<_&&(T[a++]=S[E++]))}else{for(E=a-x;T[a++]=T[E++],T[a++]=T[E++],T[a++]=T[E++],2<(_-=3););_&&(T[a++]=T[E++],1<_&&(T[a++]=T[E++]))}break}}break}}while(n<i&&a<s);n-=_=p>>3,h&=(1<<(p-=_<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=h,r.bits=p}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):l}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,f(e))):l}function p(e,t){var r,n;return e?(n=new d,(e.state=n).window=null,0!==(r=h(e,t))&&(e.state=null),r):l}var g,m,v=!0;function b(e){if(v){var t;for(g=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),v=!1}e.lencode=g,e.lenbits=9,e.distcode=m,e.distbits=5}function y(e,t,r,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),n.arraySet(o.window,t,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}r.inflateReset=f,r.inflateReset2=h,r.inflateResetKeep=c,r.inflateInit=function(e){return p(e,15)},r.inflateInit2=p,r.inflate=function(e,t){var r,d,c,f,h,p,g,m,v,w,_,x,E,S,k,T,R,B,C,A,I,D,L,P,F=0,O=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(r=e.state).mode&&(r.mode=13),h=e.next_out,c=e.output,f=e.next_in,d=e.input,m=r.hold,v=r.bits,w=p=e.avail_in,_=g=e.avail_out,D=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;v<16;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(2&r.wrap&&35615===m){O[r.check=0]=255&m,O[1]=m>>>8&255,r.check=a(r.check,O,2,0),v=m=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",r.mode=30;break}if(v-=4,I=8+(15&(m>>>=4)),0===r.wbits)r.wbits=I;else if(I>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<I,e.adler=r.check=1,r.mode=512&m?10:12,v=m=0;break;case 2:for(;v<16;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(r.flags=m,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(O[0]=255&m,O[1]=m>>>8&255,r.check=a(r.check,O,2,0)),v=m=0,r.mode=3;case 3:for(;v<32;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}r.head&&(r.head.time=m),512&r.flags&&(O[0]=255&m,O[1]=m>>>8&255,O[2]=m>>>16&255,O[3]=m>>>24&255,r.check=a(r.check,O,4,0)),v=m=0,r.mode=4;case 4:for(;v<16;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(O[0]=255&m,O[1]=m>>>8&255,r.check=a(r.check,O,2,0)),v=m=0,r.mode=5;case 5:if(1024&r.flags){for(;v<16;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(O[0]=255&m,O[1]=m>>>8&255,r.check=a(r.check,O,2,0)),v=m=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p<(x=r.length)&&(x=p),x&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,d,f,x,I)),512&r.flags&&(r.check=a(r.check,d,x,f)),p-=x,f+=x,r.length-=x),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===p)break e;for(x=0;I=d[f+x++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I)),I&&x<p;);if(512&r.flags&&(r.check=a(r.check,d,x,f)),p-=x,f+=x,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===p)break e;for(x=0;I=d[f+x++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I)),I&&x<p;);if(512&r.flags&&(r.check=a(r.check,d,x,f)),p-=x,f+=x,I)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;v<16;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(m!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}v=m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;v<32;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}e.adler=r.check=u(m),v=m=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=h,e.avail_out=g,e.next_in=f,e.avail_in=p,r.hold=m,r.bits=v,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){m>>>=7&v,v-=7&v,r.mode=27;break}for(;v<3;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}switch(r.last=1&m,v-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(b(r),r.mode=20,6!==t)break;m>>>=2,v-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&m,v=m=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(x=r.length){if(p<x&&(x=p),g<x&&(x=g),0===x)break e;n.arraySet(c,d,f,x,h),p-=x,f+=x,g-=x,h+=x,r.length-=x;break}r.mode=12;break;case 17:for(;v<14;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(r.nlen=257+(31&m),v-=5,r.ndist=1+(31&(m>>>=5)),v-=5,r.ncode=4+(15&(m>>>=5)),m>>>=4,v-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;v<3;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}r.lens[U[r.have++]]=7&m,m>>>=3,v-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D=s(0,r.lens,0,19,r.lencode,0,r.work,L={bits:r.lenbits}),r.lenbits=L.bits,D){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;T=(F=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,R=65535&F,!((k=F>>>24)<=v);){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(R<16)m>>>=k,v-=k,r.lens[r.have++]=R;else{if(16===R){for(P=k+2;v<P;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(m>>>=k,v-=k,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}I=r.lens[r.have-1],x=3+(3&m),m>>>=2,v-=2}else if(17===R){for(P=k+3;v<P;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}v-=k,I=0,x=3+(7&(m>>>=k)),m>>>=3,v-=3}else{for(P=k+7;v<P;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}v-=k,I=0,x=11+(127&(m>>>=k)),m>>>=7,v-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;x--;)r.lens[r.have++]=I}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,D=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,L={bits:r.lenbits}),r.lenbits=L.bits,D){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,D=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L={bits:r.distbits}),r.distbits=L.bits,D){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=p&&258<=g){e.next_out=h,e.avail_out=g,e.next_in=f,e.avail_in=p,r.hold=m,r.bits=v,o(e,_),h=e.next_out,c=e.output,g=e.avail_out,f=e.next_in,d=e.input,p=e.avail_in,m=r.hold,v=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;T=(F=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,R=65535&F,!((k=F>>>24)<=v);){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(T&&0==(240&T)){for(B=k,C=T,A=R;T=(F=r.lencode[A+((m&(1<<B+C)-1)>>B)])>>>16&255,R=65535&F,!(B+(k=F>>>24)<=v);){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}m>>>=B,v-=B,r.back+=B}if(m>>>=k,v-=k,r.back+=k,r.length=R,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=12;break}if(64&T){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(P=r.extra;v<P;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,v-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;T=(F=r.distcode[m&(1<<r.distbits)-1])>>>16&255,R=65535&F,!((k=F>>>24)<=v);){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(0==(240&T)){for(B=k,C=T,A=R;T=(F=r.distcode[A+((m&(1<<B+C)-1)>>B)])>>>16&255,R=65535&F,!(B+(k=F>>>24)<=v);){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}m>>>=B,v-=B,r.back+=B}if(m>>>=k,v-=k,r.back+=k,64&T){e.msg="invalid distance code",r.mode=30;break}r.offset=R,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(P=r.extra;v<P;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,v-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===g)break e;if(r.offset>(x=_-g)){if((x=r.offset-x)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}E=x>r.wnext?r.wsize-(x-=r.wnext):r.wnext-x,x>r.length&&(x=r.length),S=r.window}else S=c,E=h-r.offset,x=r.length;for(g<x&&(x=g),g-=x,r.length-=x;c[h++]=S[E++],--x;);0===r.length&&(r.mode=21);break;case 26:if(0===g)break e;c[h++]=r.length,g--,r.mode=21;break;case 27:if(r.wrap){for(;v<32;){if(0===p)break e;p--,m|=d[f++]<<v,v+=8}if(e.total_out+=_-=g,r.total+=_,_&&(e.adler=r.check=r.flags?a(r.check,c,_,h-_):i(r.check,c,_,h-_)),_=g,(r.flags?m:u(m))!==r.check){e.msg="incorrect data check",r.mode=30;break}v=m=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;v<32;){if(0===p)break e;p--,m+=d[f++]<<v,v+=8}if(m!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}v=m=0}r.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=h,e.avail_out=g,e.next_in=f,e.avail_in=p,r.hold=m,r.bits=v,(r.wsize||_!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&y(e,e.output,e.next_out,_-e.avail_out)?(r.mode=31,-4):(_-=e.avail_out,e.total_in+=w-=e.avail_in,e.total_out+=_,r.total+=_,r.wrap&&_&&(e.adler=r.check=r.flags?a(r.check,c,_,e.next_out-_):i(r.check,c,_,e.next_out-_)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==w&&0===_||4===t)&&0===D&&(D=-5),D)},r.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?l:((r.head=t).done=!1,0):l},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,t,n,0)!==r.check?-3:y(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,u,d,c,f){var h,p,g,m,v,b,y,w,_,x=f.bits,E=0,S=0,k=0,T=0,R=0,B=0,C=0,A=0,I=0,D=0,L=null,P=0,F=new n.Buf16(16),O=new n.Buf16(16),U=null,M=0;for(E=0;E<=15;E++)F[E]=0;for(S=0;S<l;S++)F[t[r+S]]++;for(R=x,T=15;1<=T&&0===F[T];T--);if(T<R&&(R=T),0===T)return u[d++]=20971520,u[d++]=20971520,f.bits=1,0;for(k=1;k<T&&0===F[k];k++);for(R<k&&(R=k),E=A=1;E<=15;E++)if(A<<=1,(A-=F[E])<0)return-1;if(0<A&&(0===e||1!==T))return-1;for(O[1]=0,E=1;E<15;E++)O[E+1]=O[E]+F[E];for(S=0;S<l;S++)0!==t[r+S]&&(c[O[t[r+S]]++]=S);if(b=0===e?(L=U=c,19):1===e?(L=i,P-=257,U=a,M-=257,256):(L=o,U=s,-1),E=k,v=d,C=S=D=0,g=-1,m=(I=1<<(B=R))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(y=E-C,_=c[S]<b?(w=0,c[S]):c[S]>b?(w=U[M+c[S]],L[P+c[S]]):(w=96,0),h=1<<E-C,k=p=1<<B;u[v+(D>>C)+(p-=h)]=y<<24|w<<16|_|0,0!==p;);for(h=1<<E-1;D&h;)h>>=1;if(0!==h?(D&=h-1,D+=h):D=0,S++,0==--F[E]){if(E===T)break;E=t[r+c[S]]}if(R<E&&(D&m)!==g){for(0===C&&(C=R),v+=k,A=1<<(B=E-C);B+C<T&&!((A-=F[B+C])<=0);)B++,A<<=1;if(I+=1<<B,1===e&&852<I||2===e&&592<I)return 1;u[g=D&m]=R<<24|B<<16|v-d|0}}return 0!==D&&(u[v+D]=E-C<<24|64<<16|0),f.bits=R,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var d=new Array(60);i(d);var c=new Array(512);i(c);var f=new Array(256);i(f);var h=new Array(29);i(h);var p,g,m,v=new Array(30);function b(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?c[e]:c[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function E(e,t,r){x(e,r[2*t],r[2*t+1])}function S(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function k(e,t,r){var n,i,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=S(a[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){8<e.bi_valid?_(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function B(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function C(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&B(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!B(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function A(e,t,r){var n,i,s,l,u=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===n?E(e,i,t):(E(e,(s=f[i])+256+1,t),0!==(l=a[s])&&x(e,i-=h[s],l),E(e,s=w(--n),r),0!==(l=o[s])&&x(e,n-=v[s],l)),u<e.last_lit;);E(e,256,t)}function I(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==a[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)C(e,a,r);for(i=l;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,C(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,o,s,l=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)p<(a=l[2*l[2*(n=e.heap[r])+1]+1]+1)&&(a=p,g++),l[2*n+1]=a,u<n||(e.bl_count[a]++,o=0,h<=n&&(o=f[n-h]),e.opt_len+=(s=l[2*n])*(a+o),c&&(e.static_len+=s*(d[2*n+1]+o)));if(0!==g){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,g-=2}while(0<g);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)u<(i=e.heap[--r])||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),n--)}}(e,t),k(a,u,e.bl_count)}function D(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4))}function L(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++s<l&&i===o)){if(s<u)for(;E(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==a&&(E(e,i,e.bl_tree),s--),E(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(E(e,17,e.bl_tree),x(e,s-3,3)):(E(e,18,e.bl_tree),x(e,s-11,7));a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4)}}i(v);var P=!1;function F(e,t,r,i){var a,o,s;x(e,0+(i?1:0),3),o=t,s=r,R(a=e),_(a,s),_(a,~s),n.arraySet(a.pending_buf,a.window,o,s,a.pending),a.pending+=s}r._tr_init=function(e){P||(function(){var e,t,r,n,i,l=new Array(16);for(n=r=0;n<28;n++)for(h[n]=r,e=0;e<1<<a[n];e++)f[r++]=n;for(f[r-1]=n,n=i=0;n<16;n++)for(v[n]=i,e=0;e<1<<o[n];e++)c[i++]=n;for(i>>=7;n<30;n++)for(v[n]=i<<7,e=0;e<1<<o[n]-7;e++)c[256+i++]=n;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(k(u,287,l),e=0;e<30;e++)d[2*e+1]=5,d[2*e]=S(e,5);p=new b(u,a,257,286,15),g=new b(d,o,0,30,15),m=new b(new Array(0),s,0,19,7)}(),P=!0),e.l_desc=new y(e.dyn_ltree,p),e.d_desc=new y(e.dyn_dtree,g),e.bl_desc=new y(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,T(e)},r._tr_stored_block=F,r._tr_flush_block=function(e,t,r,n){var i,a,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),o=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(a=e.static_len+3+7>>>3)<=(i=e.opt_len+3+7>>>3)&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?F(e,t,r,n):4===e.strategy||a===i?(x(e,2+(n?1:0),3),A(e,u,d)):(x(e,4+(n?1:0),3),function(e,t,r,n){var i;for(x(e,t-257,5),x(e,r-1,5),x(e,n-4,4),i=0;i<n;i++)x(e,e.bl_tree[2*l[i]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),n&&R(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(f[r]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){var t;x(e,2,3),E(e,256,u),16===(t=e).bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){"use strict";t.exports="function"==typeof n?n:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}).call(this,r("yLpj"),r("tjlA").Buffer,r("URgk").setImmediate)},xgIS:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("HDdC"),i=r("DH7j"),a=r("n6bG"),o=r("lJxs");function s(e,t,r,u){return Object(a.a)(r)&&(u=r,r=void 0),u?s(e,t,r).pipe(Object(o.a)(e=>Object(i.a)(e)?u(...e):u(e))):new n.a(n=>{l(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,r)})}function l(e,t,r,n,i){let a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const n=e;e.addEventListener(t,r,i),a=()=>n.removeEventListener(t,r,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const n=e;e.on(t,r),a=()=>n.off(t,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const n=e;e.addListener(t,r),a=()=>n.removeListener(t,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let a=0,o=e.length;a<o;a++)l(e[a],t,r,n,i)}n.add(a)}},xtZf:function(e,t,r){"use strict";e.exports=i;var n=r("iljw");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r("P7XM")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},yEox:function(e,t,r){"use strict";function n(e){return 0==(4294967168&e)?1:0==(4294965248&e)?2:0==(4294901760&e)?3:4}function i(e){for(var t=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){if(r+1<e.length){var a=e.charCodeAt(r+1);56320==(64512&a)&&(r++,t+=n(((1023&i)<<10)+(1023&a)+65536))}}else t+=n(i)}return t}function a(e,t,r){var i=n(r);switch(i){case 1:e[t]=r;break;case 2:e[t]=r>>6&31|192,e[t+1]=63&r|128;break;case 3:e[t]=r>>12&15|224,e[t+1]=r>>6&63|128,e[t+2]=63&r|128;break;default:e[t]=r>>18&7|240,e[t+1]=r>>12&63|128,e[t+2]=r>>6&63|128,e[t+3]=63&r|128}return i}function o(e,t,r){for(var n=0;n<r.length;n++){var i=r.charCodeAt(n);if(i>=55296&&i<=56319){if(n+1<r.length){var o=r.charCodeAt(n+1);56320==(64512&o)&&(n++,t+=a(e,t,((1023&i)<<10)+(1023&o)+65536))}}else t+=a(e,t,i)}return t}function s(e,t){if(t>=e.length)throw Error("Invalid byte index");var r=e[t];if(128==(192&r))return 63&r;throw Error("Invalid continuation byte")}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeString=t.encodeString=t.encodeStringTo=t.stringLengthInBytes=void 0,t.stringLengthInBytes=i,t.encodeStringTo=o,t.encodeString=function(e){var t=new Uint8Array(i(e));return o(t,0,e),t},t.decodeString=function(e){for(var t="",r=0;r<e.length;){var n=e[r++],i=void 0;if(0==(128&n))i=n;else if(192==(224&n)){if((i=(31&n)<<6|s(e,r++))<128)throw Error("Invalid continuation byte")}else if(224==(240&n)){if((i=(15&n)<<12|s(e,r++)<<6|s(e,r++))<2048)throw Error("Invalid continuation byte");if(i>=55296&&i<=57343)throw Error("Lone surrogate U+"+i.toString(16).toUpperCase()+" is not a scalar value")}else{if(240!=(248&n))throw Error("Invalid UTF-8 detected");if((i=(15&n)<<18|s(e,r++)<<12|s(e,r++)<<6|s(e,r++))<65536||i>1114111)throw Error("Invalid continuation byte")}i>65535&&(i-=65536,t+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),t+=String.fromCharCode(i)}return t}},zcve:function(e,t){}}]);