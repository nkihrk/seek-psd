(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+qE3":function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise(function(r,n){function i(r){t.removeListener(e,a),n(r)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}v(t,e,a,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&v(t,"error",e,{once:!0})}(t,i)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function d(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,a,o;if(u(r),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),o=a[e]),void 0===o)o=a[e]=r,++t._eventsCount;else if("function"==typeof o?o=a[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=d(t))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=o.length,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):m(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function v(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[t];if(void 0===l)return!1;if("function"==typeof l)a(l,this,e);else{var u=l.length,d=m(l,u);for(r=0;r<u;++r)a(d[r],this,e)}return!0},s.prototype.on=s.prototype.addListener=function(t,e){return c(this,t,e,!1)},s.prototype.prependListener=function(t,e){return c(this,t,e,!0)},s.prototype.once=function(t,e){return u(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,h(this,t,e)),this},s.prototype.off=s.prototype.removeListener=function(t,e){var r,n,i,a,o;if(u(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===e||r[a].listener===e){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},"/RdL":function(t,e,r){"use strict";var n=r("Gwi7").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,a){if("function"==typeof r)return t(e,null,r);r||(r={}),a=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(a||i);var o=r.readable||!1!==r.readable&&e.readable,s=r.writable||!1!==r.writable&&e.writable,l=function(){e.writable||d()},u=e._writableState&&e._writableState.finished,d=function(){s=!1,u=!0,o||a.call(e)},c=e._readableState&&e._readableState.endEmitted,f=function(){o=!1,c=!0,s||a.call(e)},h=function(t){a.call(e,t)},p=function(){var t;return o&&!c?(e._readableState&&e._readableState.ended||(t=new n),a.call(e,t)):s&&!u?(e._writableState&&e._writableState.ended||(t=new n),a.call(e,t)):void 0},g=function(){e.req.on("finish",d)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",d),e.on("abort",p),e.req?g():e.on("request",g)):s&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",f),e.on("finish",d),!1!==r.error&&e.on("error",h),e.on("close",p),function(){e.removeListener("complete",d),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",d),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("end",f),e.removeListener("error",h),e.removeListener("close",p)}}},"1QtO":function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.infoHandlersMap=e.infoHandlers=void 0;var i=r("H7XF"),a=r("Cwy7"),o=r("WSo5"),s=r("DueJ"),l=r("lgos"),u=r("tgq0"),d=r("cBPS"),c=r("41vA");function f(t,r,n,i){var a={key:t,has:r,read:n,write:i};e.infoHandlers.push(a),e.infoHandlersMap[a.key]=a}function h(t,r){e.infoHandlersMap[t]=e.infoHandlersMap[r]}function p(t){return function(e){return void 0!==e[t]}}function g(t,e,r){var n=s.readFixedPointPath32(t)*r,i=s.readFixedPointPath32(t)*e,a=s.readFixedPointPath32(t)*r,o=s.readFixedPointPath32(t)*e,l=s.readFixedPointPath32(t)*r;return[i,n,o,a,s.readFixedPointPath32(t)*e,l]}function m(t,e,r,n){l.writeFixedPointPath32(t,e[1]/n),l.writeFixedPointPath32(t,e[0]/r),l.writeFixedPointPath32(t,e[3]/n),l.writeFixedPointPath32(t,e[2]/r),l.writeFixedPointPath32(t,e[5]/n),l.writeFixedPointPath32(t,e[4]/r)}e.infoHandlers=[],e.infoHandlersMap={},f("TySh",p("text"),function(t,e,r){if(1!==s.readInt16(t))throw new Error("Invalid TySh version");for(var i=[],a=0;a<6;a++)i.push(s.readFloat64(t));if(50!==s.readInt16(t))throw new Error("Invalid TySh text version");var o=u.readVersionAndDescriptor(t);if(1!==s.readInt16(t))throw new Error("Invalid TySh warp version");var l=u.readVersionAndDescriptor(t);if(e.text={transform:i,left:s.readFloat32(t),top:s.readFloat32(t),right:s.readFloat32(t),bottom:s.readFloat32(t),text:o["Txt "].replace(/\r/g,"\n"),index:o.TextIndex||0,gridding:u.textGridding.decode(o.textGridding),antiAlias:u.Annt.decode(o.AntA),orientation:u.Ornt.decode(o.Ornt),warp:{style:u.warpStyle.decode(l.warpStyle),value:l.warpValue||0,perspective:l.warpPerspective||0,perspectiveOther:l.warpPerspectiveOther||0,rotate:u.Ornt.decode(l.warpRotate)}},o.EngineData){var f=c.decodeEngineData(d.parseEngineData(o.EngineData));e.text=n(n({},e.text),f)}s.skipBytes(t,r())},function(t,e){var r=e.text,n=r.warp||{},i=r.transform||[1,0,0,1,0,0],a={"Txt ":(r.text||"").replace(/\r?\n/g,"\r"),textGridding:u.textGridding.encode(r.gridding),Ornt:u.Ornt.encode(r.orientation),AntA:u.Annt.encode(r.antiAlias),TextIndex:r.index||0,EngineData:d.serializeEngineData(c.encodeEngineData(r))};l.writeInt16(t,1);for(var o=0;o<6;o++)l.writeFloat64(t,i[o]);l.writeInt16(t,50),u.writeVersionAndDescriptor(t,"","TxLr",a),l.writeInt16(t,1),u.writeVersionAndDescriptor(t,"","warp",w(n)),l.writeFloat32(t,r.left),l.writeFloat32(t,r.top),l.writeFloat32(t,r.right),l.writeFloat32(t,r.bottom)}),f("SoCo",function(t){return void 0!==t.vectorFill&&void 0===t.vectorStroke&&"color"===t.vectorFill.type},function(t,e){var r=u.readVersionAndDescriptor(t);e.vectorFill=H(r)},function(t,e){var r=Z(e.vectorFill).descriptor;u.writeVersionAndDescriptor(t,"","null",r)}),f("GdFl",function(t){return void 0!==t.vectorFill&&void 0===t.vectorStroke&&("solid"===t.vectorFill.type||"noise"===t.vectorFill.type)},function(t,e,r){var n=u.readVersionAndDescriptor(t);e.vectorFill=H(n),s.skipBytes(t,r())},function(t,e){var r=Z(e.vectorFill).descriptor;u.writeVersionAndDescriptor(t,"","null",r)}),f("PtFl",function(t){return void 0!==t.vectorFill&&void 0===t.vectorStroke&&"pattern"===t.vectorFill.type},function(t,e){var r=u.readVersionAndDescriptor(t);e.vectorFill=H(r)},function(t,e){var r=Z(e.vectorFill).descriptor;u.writeVersionAndDescriptor(t,"","null",r)}),f("vscg",function(t){return void 0!==t.vectorFill&&void 0!==t.vectorStroke},function(t,e,r){s.readSignature(t);var n=u.readVersionAndDescriptor(t);e.vectorFill=H(n),s.skipBytes(t,r())},function(t,e){var r=Z(e.vectorFill),n=r.descriptor;l.writeSignature(t,r.key),u.writeVersionAndDescriptor(t,"","null",n)});var v=["exclude","combine","subtract","intersect"];f("vmsk",p("vectorMask"),function(t,e,r,n){var i=n.width,a=n.height;if(3!==s.readUint32(t))throw new Error("Invalid vmsk version");e.vectorMask={paths:[]};var o=e.vectorMask,l=s.readUint32(t);o.invert=0!=(1&l),o.notLink=0!=(2&l),o.disable=0!=(4&l);for(var u=o.paths,d=void 0;r()>=26;){var c=s.readUint16(t);switch(c){case 0:case 3:s.readUint16(t);var f=s.readUint16(t);s.readUint16(t),s.skipBytes(t,18),u.push(d={open:3===c,operation:v[f],knots:[]});break;case 1:case 2:case 4:case 5:d.knots.push({linked:1===c||4===c,points:g(t,i,a)});break;case 6:s.skipBytes(t,24);break;case 7:var h=s.readFixedPointPath32(t),p=s.readFixedPointPath32(t),m=s.readFixedPointPath32(t),b=s.readFixedPointPath32(t),y=s.readFixedPointPath32(t);s.skipBytes(t,4),o.clipboard={top:h,left:p,bottom:m,right:b,resolution:y};break;case 8:o.fillStartsWithAllPixels=!!s.readUint16(t),s.skipBytes(t,22);break;default:throw new Error("Invalid vmsk section")}}s.skipBytes(t,r())},function(t,e,r){var n=r.width,i=r.height,a=e.vectorMask,o=(a.invert?1:0)|(a.notLink?2:0)|(a.disable?4:0);l.writeUint32(t,3),l.writeUint32(t,o),l.writeUint16(t,6),l.writeZeros(t,24);var s=a.clipboard;s&&(l.writeUint16(t,7),l.writeFixedPointPath32(t,s.top),l.writeFixedPointPath32(t,s.left),l.writeFixedPointPath32(t,s.bottom),l.writeFixedPointPath32(t,s.right),l.writeFixedPointPath32(t,s.resolution),l.writeZeros(t,4)),void 0!==a.fillStartsWithAllPixels&&(l.writeUint16(t,8),l.writeUint16(t,a.fillStartsWithAllPixels?1:0),l.writeZeros(t,22));for(var u=0,d=a.paths;u<d.length;u++){var c=d[u];l.writeUint16(t,c.open?3:0),l.writeUint16(t,c.knots.length),l.writeUint16(t,Math.abs(v.indexOf(c.operation))),l.writeUint16(t,1),l.writeZeros(t,18);for(var f=c.open?4:1,h=c.open?5:2,p=0,g=c.knots;p<g.length;p++){var b=g[p],y=b.points;l.writeUint16(t,b.linked?f:h),m(t,y,n,i)}}}),h("vsms","vmsk"),f("vogk",p("vectorOrigination"),function(t,e,r){if(1!==s.readInt32(t))throw new Error("Invalid vogk version");var n=u.readVersionAndDescriptor(t);e.vectorOrigination={keyDescriptorList:[]};for(var i=0,a=n.keyDescriptorList;i<a.length;i++){var o=a[i],l={};null!=o.keyShapeInvalidated&&(l.keyShapeInvalidated=o.keyShapeInvalidated),null!=o.keyOriginType&&(l.keyOriginType=o.keyOriginType),null!=o.keyOriginResolution&&(l.keyOriginResolution=o.keyOriginResolution),null!=o.keyOriginShapeBBox&&(l.keyOriginShapeBoundingBox={top:u.parseUnits(o.keyOriginShapeBBox["Top "]),left:u.parseUnits(o.keyOriginShapeBBox.Left),bottom:u.parseUnits(o.keyOriginShapeBBox.Btom),right:u.parseUnits(o.keyOriginShapeBBox.Rght)}),null!=o.keyOriginRRectRadii&&(l.keyOriginRRectRadii={topRight:u.parseUnits(o.keyOriginRRectRadii.topRight),topLeft:u.parseUnits(o.keyOriginRRectRadii.topLeft),bottomLeft:u.parseUnits(o.keyOriginRRectRadii.bottomLeft),bottomRight:u.parseUnits(o.keyOriginRRectRadii.bottomRight)}),e.vectorOrigination.keyDescriptorList.push(l)}s.skipBytes(t,r())},function(t,e){for(var r,n,i=e.vectorOrigination,a={keyDescriptorList:[]},o=0;o<i.keyDescriptorList.length;o++){var s=i.keyDescriptorList[o];if(s.keyShapeInvalidated)a.keyDescriptorList.push({keyShapeInvalidated:!0,keyOriginIndex:o});else{a.keyDescriptorList.push({keyOriginType:null!==(r=s.keyOriginType)&&void 0!==r?r:4,keyOriginResolution:null!==(n=s.keyOriginResolution)&&void 0!==n?n:72});var d=a.keyDescriptorList[a.keyDescriptorList.length-1];s.keyOriginRRectRadii&&(d.keyOriginRRectRadii={unitValueQuadVersion:1,topRight:u.unitsValue(s.keyOriginRRectRadii.topRight,"topRight"),topLeft:u.unitsValue(s.keyOriginRRectRadii.topLeft,"topLeft"),bottomLeft:u.unitsValue(s.keyOriginRRectRadii.bottomLeft,"bottomLeft"),bottomRight:u.unitsValue(s.keyOriginRRectRadii.bottomRight,"bottomRight")}),s.keyOriginShapeBoundingBox&&(d.keyOriginShapeBBox={unitValueQuadVersion:1,"Top ":u.unitsValue(s.keyOriginShapeBoundingBox.top,"top"),Left:u.unitsValue(s.keyOriginShapeBoundingBox.left,"left"),Btom:u.unitsValue(s.keyOriginShapeBoundingBox.bottom,"bottom"),Rght:u.unitsValue(s.keyOriginShapeBoundingBox.right,"right")}),d.keyOriginIndex=o}}l.writeInt32(t,1),u.writeVersionAndDescriptor(t,"","null",a)}),f("luni",p("name"),function(t,e,r){e.name=s.readUnicodeString(t),s.skipBytes(t,r())},function(t,e){l.writeUnicodeString(t,e.name)}),f("lnsr",p("nameSource"),function(t,e){return e.nameSource=s.readSignature(t)},function(t,e){return l.writeSignature(t,e.nameSource)}),f("lyid",p("id"),function(t,e){return e.id=s.readUint32(t)},function(t,e){return l.writeUint32(t,e.id)}),f("lsct",p("sectionDivider"),function(t,e,r){e.sectionDivider={type:s.readUint32(t)},r()&&(s.checkSignature(t,"8BIM"),e.sectionDivider.key=s.readSignature(t)),r()&&(e.sectionDivider.subType=s.readUint32(t))},function(t,e){l.writeUint32(t,e.sectionDivider.type),e.sectionDivider.key&&(l.writeSignature(t,"8BIM"),l.writeSignature(t,e.sectionDivider.key),void 0!==e.sectionDivider.subType&&l.writeUint32(t,e.sectionDivider.subType))}),f("clbl",p("blendClippendElements"),function(t,e){e.blendClippendElements=!!s.readUint8(t),s.skipBytes(t,3)},function(t,e){l.writeUint8(t,e.blendClippendElements?1:0),l.writeZeros(t,3)}),f("infx",p("blendInteriorElements"),function(t,e){e.blendInteriorElements=!!s.readUint8(t),s.skipBytes(t,3)},function(t,e){l.writeUint8(t,e.blendInteriorElements?1:0),l.writeZeros(t,3)}),f("knko",p("knockout"),function(t,e){e.knockout=!!s.readUint8(t),s.skipBytes(t,3)},function(t,e){l.writeUint8(t,e.knockout?1:0),l.writeZeros(t,3)}),f("lspf",p("protected"),function(t,e){var r=s.readUint32(t);e.protected={transparency:0!=(1&r),composite:0!=(2&r),position:0!=(4&r)},8&r&&(e.protected.artboards=!0)},function(t,e){l.writeUint32(t,(e.protected.transparency?1:0)|(e.protected.composite?2:0)|(e.protected.position?4:0)|(e.protected.artboards?8:0))}),f("lclr",p("layerColor"),function(t,e){var r=s.readUint16(t);s.skipBytes(t,6),e.layerColor=o.layerColors[r]},function(t,e){var r=o.layerColors.indexOf(e.layerColor);l.writeUint16(t,-1===r?0:r),l.writeZeros(t,6)}),f("shmd",p("timestamp"),function(t,e,r,n,i){for(var a=s.readUint32(t),o=function(r){s.checkSignature(t,"8BIM");var n=s.readSignature(t);s.readUint8(t),s.skipBytes(t,3),s.readSection(t,1,function(r){if("cust"===n)void 0!==(a=u.readVersionAndDescriptor(t)).layerTime&&(e.timestamp=a.layerTime);else if("mlst"===n){var a=u.readVersionAndDescriptor(t);i.logDevFeatures&&console.log("mlst",a)}else if("mdyn"===n){var o=s.readUint16(t),l=s.readUint8(t),d=s.readUint8(t);i.logDevFeatures&&console.log("mdyn","unknown:",o,"propagate:",l,"flags:",d,{unifyLayerPosition:0!=(1&d),unifyLayerStyle:0!=(2&d),unifyLayerVisibility:0!=(4&d)})}else i.logDevFeatures&&console.log("Unhandled metadata",n);s.skipBytes(t,r())})},l=0;l<a;l++)o();s.skipBytes(t,r())},function(t,e){var r={layerTime:e.timestamp};l.writeUint32(t,1),l.writeSignature(t,"8BIM"),l.writeSignature(t,"cust"),l.writeUint8(t,0),l.writeZeros(t,3),l.writeSection(t,2,function(){return u.writeVersionAndDescriptor(t,"","metadata",r)},!0)}),f("vstk",p("vectorStroke"),function(t,e,r){var n=u.readVersionAndDescriptor(t);e.vectorStroke={strokeEnabled:n.strokeEnabled,fillEnabled:n.fillEnabled,lineWidth:u.parseUnits(n.strokeStyleLineWidth),lineDashOffset:u.parseUnits(n.strokeStyleLineDashOffset),miterLimit:n.strokeStyleMiterLimit,lineCapType:u.strokeStyleLineCapType.decode(n.strokeStyleLineCapType),lineJoinType:u.strokeStyleLineJoinType.decode(n.strokeStyleLineJoinType),lineAlignment:u.strokeStyleLineAlignment.decode(n.strokeStyleLineAlignment),scaleLock:n.strokeStyleScaleLock,strokeAdjust:n.strokeStyleStrokeAdjust,lineDashSet:n.strokeStyleLineDashSet.map(u.parseUnits),blendMode:u.BlnM.decode(n.strokeStyleBlendMode),opacity:u.parsePercent(n.strokeStyleOpacity),content:H(n.strokeStyleContent),resolution:n.strokeStyleResolution},s.skipBytes(t,r())},function(t,e){var r,n,i,a=e.vectorStroke,o={strokeStyleVersion:2,strokeEnabled:!!a.strokeEnabled,fillEnabled:!!a.fillEnabled,strokeStyleLineWidth:a.lineWidth||{value:3,units:"Points"},strokeStyleLineDashOffset:a.lineDashOffset||{value:0,units:"Points"},strokeStyleMiterLimit:null!==(r=a.miterLimit)&&void 0!==r?r:100,strokeStyleLineCapType:u.strokeStyleLineCapType.encode(a.lineCapType),strokeStyleLineJoinType:u.strokeStyleLineJoinType.encode(a.lineJoinType),strokeStyleLineAlignment:u.strokeStyleLineAlignment.encode(a.lineAlignment),strokeStyleScaleLock:!!a.scaleLock,strokeStyleStrokeAdjust:!!a.strokeAdjust,strokeStyleLineDashSet:a.lineDashSet||[],strokeStyleBlendMode:u.BlnM.encode(a.blendMode),strokeStyleOpacity:u.unitsPercent(null!==(n=a.opacity)&&void 0!==n?n:1),strokeStyleContent:Z(a.content||{type:"color",color:{r:0,g:0,b:0}}).descriptor,strokeStyleResolution:null!==(i=a.resolution)&&void 0!==i?i:72};u.writeVersionAndDescriptor(t,"","strokeStyle",o)}),f("artb",p("artboard"),function(t,e,r){var n=u.readVersionAndDescriptor(t);e.artboard={rect:{top:n.artboardRect["Top "],left:n.artboardRect.Left,bottom:n.artboardRect.Btom,right:n.artboardRect.Rght},guideIndices:n.guideIndeces,presetName:n.artboardPresetName,color:Y(n["Clr "]),backgroundType:n.artboardBackgroundType},s.skipBytes(t,r())},function(t,e){var r,n=e.artboard,i={artboardRect:{"Top ":n.rect.top,Left:n.rect.left,Btom:n.rect.bottom,Rght:n.rect.right},guideIndeces:n.guideIndices||[],artboardPresetName:n.presetName||"","Clr ":X(n.color),artboardBackgroundType:null!==(r=n.backgroundType)&&void 0!==r?r:1};u.writeVersionAndDescriptor(t,"","artboard",i)}),f("sn2P",p("usingAlignedRendering"),function(t,e){return e.usingAlignedRendering=!!s.readUint32(t)},function(t,e){return l.writeUint32(t,e.usingAlignedRendering?1:0)});var b=["unknown","vector","raster","image stack"];function y(t){return{style:u.warpStyle.decode(t.warpStyle),value:t.warpValue||0,perspective:t.warpPerspective||0,perspectiveOther:t.warpPerspectiveOther||0,rotate:u.Ornt.decode(t.warpRotate),bounds:t.bounds&&{top:u.parseUnits(t.bounds["Top "]),left:u.parseUnits(t.bounds.Left),bottom:u.parseUnits(t.bounds.Btom),right:u.parseUnits(t.bounds.Rght)},uOrder:t.uOrder,vOrder:t.vOrder,customEnvelopeWarp:t.customEnvelopeWarp&&{meshPoints:t.customEnvelopeWarp.meshPoints.map(function(t){return{type:"Hrzn"===t.type?"horizontal":"vertical",values:t.values}})}}}function w(t){var e,r,n,i,a={warpStyle:u.warpStyle.encode(t.style),warpValue:t.value||0,warpPerspective:t.perspective||0,warpPerspectiveOther:t.perspectiveOther||0,warpRotate:u.Ornt.encode(t.rotate),bounds:{"Top ":u.unitsValue((null===(e=t.bounds)||void 0===e?void 0:e.top)||{units:"Pixels",value:0},"bounds.top"),Left:u.unitsValue((null===(r=t.bounds)||void 0===r?void 0:r.left)||{units:"Pixels",value:0},"bounds.left"),Btom:u.unitsValue((null===(n=t.bounds)||void 0===n?void 0:n.bottom)||{units:"Pixels",value:0},"bounds.bottom"),Rght:u.unitsValue((null===(i=t.bounds)||void 0===i?void 0:i.right)||{units:"Pixels",value:0},"bounds.right")},uOrder:t.uOrder||0,vOrder:t.vOrder||0};return t.customEnvelopeWarp&&(a.customEnvelopeWarp={meshPoints:(t.customEnvelopeWarp.meshPoints||[]).map(function(t){return{type:"horizontal"===t.type?"Hrzn":"Vrtc",values:t.values}})}),a}function _(t){return function(e){return!!e.adjustment&&e.adjustment.type===t}}function x(t){return{shadowInput:s.readInt16(t),highlightInput:s.readInt16(t),shadowOutput:s.readInt16(t),highlightOutput:s.readInt16(t),midtoneInput:s.readInt16(t)/100}}function S(t,e){l.writeInt16(t,e.shadowInput),l.writeInt16(t,e.highlightInput),l.writeInt16(t,e.shadowOutput),l.writeInt16(t,e.highlightOutput),l.writeInt16(t,Math.round(100*e.midtoneInput))}function k(t){for(var e=s.readUint16(t),r=[],n=0;n<e;n++){var i=s.readInt16(t),a=s.readInt16(t);r.push({input:a,output:i})}return r}function E(t,e){l.writeUint16(t,e.length);for(var r=0,n=e;r<n.length;r++){var i=n[r];l.writeUint16(t,i.output),l.writeUint16(t,i.input)}}function B(t){return{a:s.readInt16(t),b:s.readInt16(t),c:s.readInt16(t),d:s.readInt16(t),hue:s.readInt16(t),saturation:s.readInt16(t),lightness:s.readInt16(t)}}function T(t,e){var r=e||{};l.writeInt16(t,r.a||0),l.writeInt16(t,r.b||0),l.writeInt16(t,r.c||0),l.writeInt16(t,r.d||0),l.writeInt16(t,r.hue||0),l.writeInt16(t,r.saturation||0),l.writeInt16(t,r.lightness||0)}function C(t){return{cyanRed:s.readInt16(t),magentaGreen:s.readInt16(t),yellowBlue:s.readInt16(t)}}function R(t,e){l.writeInt16(t,e.cyanRed||0),l.writeInt16(t,e.magentaGreen||0),l.writeInt16(t,e.yellowBlue||0)}function A(t){var e=s.readInt16(t),r=s.readInt16(t),n=s.readInt16(t);return s.skipBytes(t,2),{red:e,green:r,blue:n,constant:s.readInt16(t)}}function I(t,e){var r=e||{};l.writeInt16(t,r.red),l.writeInt16(t,r.green),l.writeInt16(t,r.blue),l.writeZeros(t,2),l.writeInt16(t,r.constant)}f("PlLd",p("placedLayer"),function(t,e,r){if("plcL"!==s.readSignature(t))throw new Error("Invalid PlLd signature");if(3!==s.readInt32(t))throw new Error("Invalid PlLd version");var n=s.readPascalString(t,1);s.readInt32(t),s.readInt32(t),s.readInt32(t);var i=s.readInt32(t);if(!b[i])throw new Error("Invalid PlLd type");for(var a=[],o=0;o<8;o++)a.push(s.readFloat64(t));var l=s.readInt32(t);if(0!==l)throw new Error("Invalid Warp version "+l);var d=u.readVersionAndDescriptor(t);e.placedLayer=e.placedLayer||{id:n,type:b[i],transform:a,warp:y(d)},s.skipBytes(t,r())},function(t,e){var r=e.placedLayer;if(l.writeSignature(t,"plcL"),l.writeInt32(t,3),l.writePascalString(t,r.id,1),l.writeInt32(t,1),l.writeInt32(t,1),l.writeInt32(t,16),-1===b.indexOf(r.type))throw new Error("Invalid placedLayer type");l.writeInt32(t,b.indexOf(r.type));for(var n=0;n<8;n++)l.writeFloat64(t,r.transform[n]);l.writeInt32(t,0),u.writeVersionAndDescriptor(t,"","warp",w(r.warp||{}))}),f("SoLd",p("placedLayer"),function(t,e,r){if("soLD"!==s.readSignature(t))throw new Error("Invalid SoLd type");if(4!==s.readInt32(t))throw new Error("Invalid SoLd version");var n=u.readVersionAndDescriptor(t);e.placedLayer={id:n.Idnt,placed:n.placed,type:b[n.Type],transform:n.Trnf,width:n["Sz  "].Wdth,height:n["Sz  "].Hght,resolution:u.parseUnits(n.Rslt),warp:y(n.warp)},n.Crop&&(e.placedLayer.crop=n.Crop),n.comp&&(e.placedLayer.comp=n.comp),n.compInfo&&(e.placedLayer.compInfo=n.compInfo),s.skipBytes(t,r())},function(t,e){var r;l.writeSignature(t,"soLD"),l.writeInt32(t,4);var i=e.placedLayer,a=n(n({Idnt:i.id,placed:null!==(r=i.placed)&&void 0!==r?r:i.id,PgNm:1,totalPages:1},i.crop?{Crop:i.crop}:{}),{frameStep:{numerator:0,denominator:600},duration:{numerator:0,denominator:600},frameCount:1,Annt:16,Type:b.indexOf(i.type),Trnf:i.transform,nonAffineTransform:i.transform,warp:w(i.warp||{}),"Sz  ":{Wdth:i.width||0,Hght:i.height||0},Rslt:i.resolution?u.unitsValue(i.resolution,"resolution"):{units:"Density",value:72}});i.comp&&(a.comp=i.comp),i.compInfo&&(a.compInfo=i.compInfo),u.writeVersionAndDescriptor(t,"","null",a)}),f("fxrp",p("referencePoint"),function(t,e){e.referencePoint={x:s.readFloat64(t),y:s.readFloat64(t)}},function(t,e){l.writeFloat64(t,e.referencePoint.x),l.writeFloat64(t,e.referencePoint.y)}),f("Patt",function(t){return!t},function(t,e,r){r()&&s.skipBytes(t,r())},function(t,e){}),f("lnk2",function(t){return!!t.linkedFiles&&t.linkedFiles.length>0},function(t,e,r,n,i){var a=e;for(a.linkedFiles=[];r()>8;){var o=M(t),l=t.offset,d=s.readSignature(t),c=s.readInt32(t),f=s.readPascalString(t,1),h=s.readUnicodeString(t),p=s.readSignature(t).trim(),g=s.readSignature(t).trim(),m=M(t),v=s.readUint8(t)?u.readVersionAndDescriptor(t):void 0,b=("liFE"===d&&u.readVersionAndDescriptor(t),{id:f,name:h,data:void 0});if(p&&(b.type=p),g&&(b.creator=g),v&&(b.descriptor=v),"liFE"===d&&c>3){var y=s.readInt32(t),w=s.readUint8(t),_=s.readUint8(t),x=s.readUint8(t),S=s.readUint8(t),k=s.readFloat64(t),E=Math.floor(k);b.time=new Date(y,w,_,x,S,E,1e3*(k-E))}var B="liFE"===d?M(t):0;for("liFA"===d&&s.skipBytes(t,8),"liFD"===d&&(b.data=s.readBytes(t,m)),c>=5&&(b.childDocumentID=s.readUnicodeString(t)),c>=6&&(b.assetModTime=s.readFloat64(t)),c>=7&&(b.assetLockedState=s.readUint8(t)),"liFE"===d&&(b.data=s.readBytes(t,B)),i.skipLinkedFilesData&&(b.data=void 0),a.linkedFiles.push(b);o%4;)o++;t.offset=l+o}s.skipBytes(t,r())},function(t,e){for(var r=0,n=e.linkedFiles;r<n.length;r++){var i=n[r],a=2;null!=i.assetLockedState?a=7:null!=i.assetModTime?a=6:null!=i.childDocumentID&&(a=5),l.writeUint32(t,0),l.writeUint32(t,0);var o=t.offset;if(l.writeSignature(t,i.data?"liFD":"liFA"),l.writeInt32(t,a),l.writePascalString(t,i.id||"",1),l.writeUnicodeStringWithPadding(t,i.name||""),l.writeSignature(t,i.type?(i.type+"    ").substr(0,4):"    "),l.writeSignature(t,i.creator?(i.creator+"    ").substr(0,4):"\0\0\0\0"),N(t,i.data?i.data.byteLength:0),i.descriptor&&i.descriptor.compInfo){var s={compInfo:i.descriptor.compInfo};l.writeUint8(t,1),u.writeVersionAndDescriptor(t,"","null",s)}else l.writeUint8(t,0);i.data?l.writeBytes(t,i.data):N(t,0),a>=5&&l.writeUnicodeStringWithPadding(t,i.childDocumentID||""),a>=6&&l.writeFloat64(t,i.assetModTime||0),a>=7&&l.writeUint8(t,i.assetLockedState||0);var d=t.offset-o;for(t.view.setUint32(o-4,d,!1);d%4;)d++,l.writeUint8(t,0)}}),h("lnkD","lnk2"),h("lnk3","lnk2"),f("pths",p("pathList"),function(t,e){u.readVersionAndDescriptor(t),e.pathList=[]},function(t,e){u.writeVersionAndDescriptor(t,"","pathsDataClass",{pathList:[]})}),f("lyvr",p("version"),function(t,e){return e.version=s.readUint32(t)},function(t,e){return l.writeUint32(t,e.version)}),f("lrFX",p("effects"),function(t,e,r){e.effects||(e.effects=a.readEffects(t)),s.skipBytes(t,r())},function(t,e){a.writeEffects(t,e.effects)}),f("brit",_("brightness/contrast"),function(t,e,r){e.adjustment||(e.adjustment={type:"brightness/contrast",brightness:s.readInt16(t),contrast:s.readInt16(t),meanValue:s.readInt16(t),labColorOnly:!!s.readUint8(t),useLegacy:!0}),s.skipBytes(t,r())},function(t,e){var r,n=e.adjustment;l.writeInt16(t,n.brightness||0),l.writeInt16(t,n.contrast||0),l.writeInt16(t,null!==(r=n.meanValue)&&void 0!==r?r:127),l.writeUint8(t,n.labColorOnly?1:0),l.writeZeros(t,1)}),f("levl",_("levels"),function(t,e,r){if(2!==s.readUint16(t))throw new Error("Invalid levl version");e.adjustment=n(n({},e.adjustment),{type:"levels",rgb:x(t),red:x(t),green:x(t),blue:x(t)}),s.skipBytes(t,r())},function(t,e){var r=e.adjustment,n={shadowInput:0,highlightInput:255,shadowOutput:0,highlightOutput:255,midtoneInput:1};l.writeUint16(t,2),S(t,r.rgb||n),S(t,r.red||n),S(t,r.blue||n),S(t,r.green||n);for(var i=0;i<59;i++)S(t,n)}),f("curv",_("curves"),function(t,e,r){if(s.readUint8(t),1!==s.readUint16(t))throw new Error("Invalid curv version");s.readUint16(t);var i=s.readUint16(t),a={type:"curves"};1&i&&(a.rgb=k(t)),2&i&&(a.red=k(t)),4&i&&(a.green=k(t)),8&i&&(a.blue=k(t)),e.adjustment=n(n({},e.adjustment),a),s.skipBytes(t,r())},function(t,e){var r=e.adjustment,n=r.rgb,i=r.red,a=r.green,o=r.blue,s=0,u=0;n&&n.length&&(s|=1,u++),i&&i.length&&(s|=2,u++),a&&a.length&&(s|=4,u++),o&&o.length&&(s|=8,u++),l.writeUint8(t,0),l.writeUint16(t,1),l.writeUint16(t,0),l.writeUint16(t,s),n&&n.length&&E(t,n),i&&i.length&&E(t,i),a&&a.length&&E(t,a),o&&o.length&&E(t,o),l.writeSignature(t,"Crv "),l.writeUint16(t,4),l.writeUint16(t,0),l.writeUint16(t,u),n&&n.length&&(l.writeUint16(t,0),E(t,n)),i&&i.length&&(l.writeUint16(t,1),E(t,i)),a&&a.length&&(l.writeUint16(t,2),E(t,a)),o&&o.length&&(l.writeUint16(t,3),E(t,o)),l.writeZeros(t,2)}),f("expA",_("exposure"),function(t,e,r){if(1!==s.readUint16(t))throw new Error("Invalid expA version");e.adjustment=n(n({},e.adjustment),{type:"exposure",exposure:s.readFloat32(t),offset:s.readFloat32(t),gamma:s.readFloat32(t)}),s.skipBytes(t,r())},function(t,e){var r=e.adjustment;l.writeUint16(t,1),l.writeFloat32(t,r.exposure),l.writeFloat32(t,r.offset),l.writeFloat32(t,r.gamma),l.writeZeros(t,2)}),f("vibA",_("vibrance"),function(t,e,r){var n=u.readVersionAndDescriptor(t);e.adjustment={type:"vibrance"},void 0!==n.vibrance&&(e.adjustment.vibrance=n.vibrance),void 0!==n.Strt&&(e.adjustment.saturation=n.Strt),s.skipBytes(t,r())},function(t,e){var r=e.adjustment,n={};void 0!==r.vibrance&&(n.vibrance=r.vibrance),void 0!==r.saturation&&(n.Strt=r.saturation),u.writeVersionAndDescriptor(t,"","null",n)}),f("hue2",_("hue/saturation"),function(t,e,r){if(2!==s.readUint16(t))throw new Error("Invalid hue2 version");e.adjustment=n(n({},e.adjustment),{type:"hue/saturation",master:B(t),reds:B(t),yellows:B(t),greens:B(t),cyans:B(t),blues:B(t),magentas:B(t)}),s.skipBytes(t,r())},function(t,e){var r=e.adjustment;l.writeUint16(t,2),T(t,r.master),T(t,r.reds),T(t,r.yellows),T(t,r.greens),T(t,r.cyans),T(t,r.blues),T(t,r.magentas)}),f("blnc",_("color balance"),function(t,e,r){e.adjustment={type:"color balance",shadows:C(t),midtones:C(t),highlights:C(t),preserveLuminosity:!!s.readUint8(t)},s.skipBytes(t,r())},function(t,e){var r=e.adjustment;R(t,r.shadows||{}),R(t,r.midtones||{}),R(t,r.highlights||{}),l.writeUint8(t,r.preserveLuminosity?1:0),l.writeZeros(t,1)}),f("blwh",_("black & white"),function(t,e,r){var n=u.readVersionAndDescriptor(t);e.adjustment={type:"black & white",reds:n["Rd  "],yellows:n.Yllw,greens:n["Grn "],cyans:n["Cyn "],blues:n["Bl  "],magentas:n.Mgnt,useTint:!!n.useTint,presetKind:n.bwPresetKind,presetFileName:n.blackAndWhitePresetFileName},void 0!==n.tintColor&&(e.adjustment.tintColor=Y(n.tintColor)),s.skipBytes(t,r())},function(t,e){var r=e.adjustment,n={"Rd  ":r.reds||0,Yllw:r.yellows||0,"Grn ":r.greens||0,"Cyn ":r.cyans||0,"Bl  ":r.blues||0,Mgnt:r.magentas||0,useTint:!!r.useTint,tintColor:X(r.tintColor),bwPresetKind:r.presetKind||0,blackAndWhitePresetFileName:r.presetFileName||""};u.writeVersionAndDescriptor(t,"","null",n)}),f("phfl",_("photo filter"),function(t,e,r){var n,i=s.readUint16(t);if(2!==i&&3!==i)throw new Error("Invalid phfl version");n=2===i?s.readColor(t):{l:s.readInt32(t)/100,a:s.readInt32(t)/100,b:s.readInt32(t)/100},e.adjustment={type:"photo filter",color:n,density:s.readUint32(t)/100,preserveLuminosity:!!s.readUint8(t)},s.skipBytes(t,r())},function(t,e){var r=e.adjustment;l.writeUint16(t,2),l.writeColor(t,r.color||{l:0,a:0,b:0}),l.writeUint32(t,100*(r.density||0)),l.writeUint8(t,r.preserveLuminosity?1:0),l.writeZeros(t,3)}),f("mixr",_("channel mixer"),function(t,e,r){if(1!==s.readUint16(t))throw new Error("Invalid mixr version");var i=e.adjustment=n(n({},e.adjustment),{type:"channel mixer",monochrome:!!s.readUint16(t)});i.monochrome||(i.red=A(t),i.green=A(t),i.blue=A(t)),i.gray=A(t),s.skipBytes(t,r())},function(t,e){var r=e.adjustment;l.writeUint16(t,1),l.writeUint16(t,r.monochrome?1:0),r.monochrome?(I(t,r.gray),l.writeZeros(t,30)):(I(t,r.red),I(t,r.green),I(t,r.blue),I(t,r.gray))});var D=o.createEnum("colorLookupType","3DLUT",{"3dlut":"3DLUT",abstractProfile:"abstractProfile",deviceLinkProfile:"deviceLinkProfile"}),L=o.createEnum("LUTFormatType","look",{look:"LUTFormatLOOK",cube:"LUTFormatCUBE","3dl":"LUTFormat3DL"}),O=o.createEnum("colorLookupOrder","rgb",{rgb:"rgbOrder",bgr:"bgrOrder"});f("clrL",_("color lookup"),function(t,e,r){if(1!==s.readUint16(t))throw new Error("Invalid clrL version");var n=u.readVersionAndDescriptor(t);e.adjustment={type:"color lookup"};var i=e.adjustment;void 0!==n.lookupType&&(i.lookupType=D.decode(n.lookupType)),void 0!==n["Nm  "]&&(i.name=n["Nm  "]),void 0!==n.Dthr&&(i.dither=n.Dthr),void 0!==n.profile&&(i.profile=n.profile),void 0!==n.LUTFormat&&(i.lutFormat=L.decode(n.LUTFormat)),void 0!==n.dataOrder&&(i.dataOrder=O.decode(n.dataOrder)),void 0!==n.tableOrder&&(i.tableOrder=O.decode(n.tableOrder)),void 0!==n.LUT3DFileData&&(i.lut3DFileData=n.LUT3DFileData),void 0!==n.LUT3DFileName&&(i.lut3DFileName=n.LUT3DFileName),s.skipBytes(t,r())},function(t,e){var r=e.adjustment,n={};void 0!==r.lookupType&&(n.lookupType=D.encode(r.lookupType)),void 0!==r.name&&(n["Nm  "]=r.name),void 0!==r.dither&&(n.Dthr=r.dither),void 0!==r.profile&&(n.profile=r.profile),void 0!==r.lutFormat&&(n.LUTFormat=L.encode(r.lutFormat)),void 0!==r.dataOrder&&(n.dataOrder=O.encode(r.dataOrder)),void 0!==r.tableOrder&&(n.tableOrder=O.encode(r.tableOrder)),void 0!==r.lut3DFileData&&(n.LUT3DFileData=r.lut3DFileData),void 0!==r.lut3DFileName&&(n.LUT3DFileName=r.lut3DFileName),l.writeUint16(t,1),u.writeVersionAndDescriptor(t,"","null",n)}),f("nvrt",_("invert"),function(t,e,r){e.adjustment={type:"invert"},s.skipBytes(t,r())},function(){}),f("post",_("posterize"),function(t,e,r){e.adjustment={type:"posterize",levels:s.readUint16(t)},s.skipBytes(t,r())},function(t,e){var r;l.writeUint16(t,null!==(r=e.adjustment.levels)&&void 0!==r?r:4),l.writeZeros(t,2)}),f("thrs",_("threshold"),function(t,e,r){e.adjustment={type:"threshold",level:s.readUint16(t)},s.skipBytes(t,r())},function(t,e){var r;l.writeUint16(t,null!==(r=e.adjustment.level)&&void 0!==r?r:128),l.writeZeros(t,2)});var P=["","","","rgb","hsb","","lab"];function F(t){return{c:s.readInt16(t),m:s.readInt16(t),y:s.readInt16(t),k:s.readInt16(t)}}function U(t,e){var r=e||{};l.writeInt16(t,r.c),l.writeInt16(t,r.m),l.writeInt16(t,r.y),l.writeInt16(t,r.k)}function M(t){if(s.readUint32(t))throw new Error("Resource size above 4 GB limit at "+t.offset.toString(16));return s.readUint32(t)}function N(t,e){l.writeUint32(t,0),l.writeUint32(t,e)}function z(t){if("GrdF.CstS"===t.GrdF){var e=t.Intr||4096;return{type:"solid",name:t["Nm  "],smoothness:t.Intr/4096,colorStops:t.Clrs.map(function(t){return{color:Y(t["Clr "]),location:t.Lctn/e,midpoint:t.Mdpn/100}}),opacityStops:t.Trns.map(function(t){return{opacity:u.parsePercent(t.Opct),location:t.Lctn/e,midpoint:t.Mdpn/100}})}}return{type:"noise",name:t["Nm  "],roughness:t.Smth/4096,colorModel:u.ClrS.decode(t.ClrS),randomSeed:t.RndS,restrictColors:!!t.VctC,addTransparency:!!t.ShTr,min:t["Mnm "].map(function(t){return t/100}),max:t["Mxm "].map(function(t){return t/100})}}function j(t){var e,r;if("solid"===t.type){var n=Math.round(4096*(null!==(e=t.smoothness)&&void 0!==e?e:1));return{"Nm  ":t.name,GrdF:"GrdF.CstS",Intr:n,Clrs:t.colorStops.map(function(t){var e;return{"Clr ":X(t.color),Type:"Clry.UsrS",Lctn:Math.round(t.location*n),Mdpn:Math.round(100*(null!==(e=t.midpoint)&&void 0!==e?e:.5))}}),Trns:t.opacityStops.map(function(t){var e;return{Opct:u.unitsPercent(t.opacity),Lctn:Math.round(t.location*n),Mdpn:Math.round(100*(null!==(e=t.midpoint)&&void 0!==e?e:.5))}})}}return{GrdF:"GrdF.ClNs","Nm  ":t.name,ShTr:!!t.addTransparency,VctC:!!t.restrictColors,ClrS:u.ClrS.encode(t.colorModel),RndS:t.randomSeed||0,Smth:Math.round(4096*(null!==(r=t.roughness)&&void 0!==r?r:1)),"Mnm ":(t.min||[0,0,0,0]).map(function(t){return 100*t}),"Mxm ":(t.max||[1,1,1,1]).map(function(t){return 100*t})}}function G(t){var e=z(t.Grad);return e.style=u.GrdT.decode(t.Type),void 0!==t.Dthr&&(e.dither=t.Dthr),void 0!==t.Rvrs&&(e.reverse=t.Rvrs),void 0!==t.Angl&&(e.angle=u.parseAngle(t.Angl)),void 0!==t["Scl "]&&(e.scale=u.parsePercent(t["Scl "])),void 0!==t.Algn&&(e.align=t.Algn),void 0!==t.Ofst&&(e.offset={x:u.parsePercent(t.Ofst.Hrzn),y:u.parsePercent(t.Ofst.Vrtc)}),e}function W(t){var e={name:t.Ptrn["Nm  "],id:t.Ptrn.Idnt};return void 0!==t.Lnkd&&(e.linked=t.Lnkd),void 0!==t.phase&&(e.phase={x:t.phase.Hrzn,y:t.phase.Vrtc}),e}function H(t){if("Grad"in t)return G(t);if("Ptrn"in t)return n({type:"pattern"},W(t));if("Clr "in t)return{type:"color",color:Y(t["Clr "])};throw new Error("Invalid vector content")}function V(t){var e={};return void 0!==t.dither&&(e.Dthr=t.dither),void 0!==t.reverse&&(e.Rvrs=t.reverse),void 0!==t.angle&&(e.Angl=u.unitsAngle(t.angle)),e.Type=u.GrdT.encode(t.style),void 0!==t.align&&(e.Algn=t.align),void 0!==t.scale&&(e["Scl "]=u.unitsPercent(t.scale)),t.offset&&(e.Ofst={Hrzn:u.unitsPercent(t.offset.x),Vrtc:u.unitsPercent(t.offset.y)}),e.Grad=j(t),e}function K(t){var e={Ptrn:{"Nm  ":t.name||"",Idnt:t.id||""}};return void 0!==t.linked&&(e.Lnkd=!!t.linked),void 0!==t.phase&&(e.phase={Hrzn:t.phase.x,Vrtc:t.phase.y}),e}function Z(t){return"color"===t.type?{key:"SoCo",descriptor:{"Clr ":X(t.color)}}:"pattern"===t.type?{key:"PtFl",descriptor:K(t)}:{key:"GdFl",descriptor:V(t)}}function Y(t){if("H   "in t)return{h:u.parsePercentOrAngle(t["H   "]),s:t.Strt,b:t.Brgh};if("Rd  "in t)return{r:t["Rd  "],g:t["Grn "],b:t["Bl  "]};if("Cyn "in t)return{c:t["Cyn "],m:t.Mgnt,y:t["Ylw "],k:t.Blck};if("Gry "in t)return{k:t["Gry "]};if("Lmnc"in t)return{l:t.Lmnc,a:t["A   "],b:t["B   "]};throw new Error("Unsupported color descriptor")}function X(t){if(t){if("r"in t)return{"Rd  ":t.r||0,"Grn ":t.g||0,"Bl  ":t.b||0};if("h"in t)return{"H   ":u.unitsAngle(360*t.h),Strt:t.s||0,Brgh:t.b||0};if("c"in t)return{"Cyn ":t.c||0,Mgnt:t.m||0,"Ylw ":t.y||0,Blck:t.k||0};if("l"in t)return{Lmnc:t.l||0,"A   ":t.a||0,"B   ":t.b||0};if("k"in t)return{"Gry ":t.k};throw new Error("Invalid color value")}return{"Rd  ":0,"Grn ":0,"Bl  ":0}}function q(t,e){for(var r={},n=0,i=Object.keys(t);n<i.length;n++){var a=i[n],o=t[a];switch(a){case"enab":r.enabled=!!o;break;case"uglg":r.useGlobalLight=!!o;break;case"AntA":r.antialiased=!!o;break;case"Algn":r.align=!!o;break;case"Dthr":r.dither=!!o;break;case"Invr":r.invert=!!o;break;case"Rvrs":r.reverse=!!o;break;case"Clr ":r.color=Y(o);break;case"hglC":r.highlightColor=Y(o);break;case"sdwC":r.shadowColor=Y(o);break;case"Styl":r.position=u.FStl.decode(o);break;case"Md  ":r.blendMode=u.BlnM.decode(o);break;case"hglM":r.highlightBlendMode=u.BlnM.decode(o);break;case"sdwM":r.shadowBlendMode=u.BlnM.decode(o);break;case"bvlS":r.style=u.BESl.decode(o);break;case"bvlD":r.direction=u.BESs.decode(o);break;case"bvlT":r.technique=u.bvlT.decode(o);break;case"GlwT":r.technique=u.BETE.decode(o);break;case"glwS":r.source=u.IGSr.decode(o);break;case"Type":r.type=u.GrdT.decode(o);break;case"Opct":r.opacity=u.parsePercent(o);break;case"hglO":r.highlightOpacity=u.parsePercent(o);break;case"sdwO":r.shadowOpacity=u.parsePercent(o);break;case"lagl":case"Angl":r.angle=u.parseAngle(o);break;case"Lald":r.altitude=u.parseAngle(o);break;case"Sftn":r.soften=u.parseUnits(o);break;case"srgR":r.strength=u.parsePercent(o);break;case"blur":r.size=u.parseUnits(o);break;case"Nose":r.noise=u.parsePercent(o);break;case"Inpr":r.range=u.parsePercent(o);break;case"Ckmt":r.choke=u.parseUnits(o);break;case"ShdN":r.jitter=u.parsePercent(o);break;case"Dstn":r.distance=u.parseUnits(o);break;case"Scl ":r.scale=u.parsePercent(o);break;case"Ptrn":r.pattern={name:o["Nm  "],id:o.Idnt};break;case"phase":r.phase={x:o.Hrzn,y:o.Vrtc};break;case"Ofst":r.offset={x:u.parsePercent(o.Hrzn),y:u.parsePercent(o.Vrtc)};break;case"MpgS":case"TrnS":r.contour={name:o["Nm  "],curve:o["Crv "].map(function(t){return{x:t.Hrzn,y:t.Vrtc}})};break;case"Grad":r.gradient=z(o);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":r[a]=o;break;default:e&&console.log("Invalid effect key: '"+a+"':",o)}}return r}function J(t,e,r){for(var n={},i=0,a=Object.keys(t);i<a.length;i++){var o=a[i],s=t[o];switch(o){case"enabled":n.enab=!!s;break;case"useGlobalLight":n.uglg=!!s;break;case"antialiased":n.AntA=!!s;break;case"align":n.Algn=!!s;break;case"dither":n.Dthr=!!s;break;case"invert":n.Invr=!!s;break;case"reverse":n.Rvrs=!!s;break;case"color":n["Clr "]=X(s);break;case"highlightColor":n.hglC=X(s);break;case"shadowColor":n.sdwC=X(s);break;case"position":n.Styl=u.FStl.encode(s);break;case"blendMode":n["Md  "]=u.BlnM.encode(s);break;case"highlightBlendMode":n.hglM=u.BlnM.encode(s);break;case"shadowBlendMode":n.sdwM=u.BlnM.encode(s);break;case"style":n.bvlS=u.BESl.encode(s);break;case"direction":n.bvlD=u.BESs.encode(s);break;case"technique":"bevel"===e?n.bvlT=u.bvlT.encode(s):n.GlwT=u.BETE.encode(s);break;case"source":n.glwS=u.IGSr.encode(s);break;case"type":n.Type=u.GrdT.encode(s);break;case"opacity":n.Opct=u.unitsPercent(s);break;case"highlightOpacity":n.hglO=u.unitsPercent(s);break;case"shadowOpacity":n.sdwO=u.unitsPercent(s);break;case"angle":"gradientOverlay"===e?n.Angl=u.unitsAngle(s):n.lagl=u.unitsAngle(s);break;case"altitude":n.Lald=u.unitsAngle(s);break;case"soften":n.Sftn=u.unitsValue(s,o);break;case"strength":n.srgR=u.unitsPercent(s);break;case"size":n.blur=u.unitsValue(s,o);break;case"noise":n.Nose=u.unitsPercent(s);break;case"range":n.Inpr=u.unitsPercent(s);break;case"choke":n.Ckmt=u.unitsValue(s,o);break;case"jitter":n.ShdN=u.unitsPercent(s);break;case"distance":n.Dstn=u.unitsValue(s,o);break;case"scale":n["Scl "]=u.unitsPercent(s);break;case"pattern":n.Ptrn={"Nm  ":s.name,Idnt:s.id};break;case"phase":n.phase={Hrzn:s.x,Vrtc:s.y};break;case"offset":n.Ofst={Hrzn:u.unitsPercent(s.x),Vrtc:u.unitsPercent(s.y)};break;case"contour":n["satin"===e?"MpgS":"TrnS"]={"Nm  ":s.name,"Crv ":s.curve.map(function(t){return{Hrzn:t.x,Vrtc:t.y}})};break;case"gradient":n.Grad=j(s);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":n[o]=s;break;default:r&&console.log("Invalid effect key: '"+o+"' value:",s)}}return n}f("grdm",_("gradient map"),function(t,e,r){if(1!==s.readUint16(t))throw new Error("Invalid grdm version");var n={type:"gradient map",gradientType:"solid"};n.reverse=!!s.readUint8(t),n.dither=!!s.readUint8(t),n.name=s.readUnicodeString(t),n.colorStops=[],n.opacityStops=[];for(var i=s.readUint16(t),a=0;a<i;a++)n.colorStops.push({location:s.readUint32(t),midpoint:s.readUint32(t)/100,color:s.readColor(t)}),s.skipBytes(t,2);var o=s.readUint16(t);for(a=0;a<o;a++)n.opacityStops.push({location:s.readUint32(t),midpoint:s.readUint32(t)/100,opacity:s.readUint16(t)/255});if(2!==s.readUint16(t))throw new Error("Invalid grdm expansion count");var l=s.readUint16(t);if(n.smoothness=l/4096,32!==s.readUint16(t))throw new Error("Invalid grdm length");n.gradientType=s.readUint16(t)?"noise":"solid",n.randomSeed=s.readUint32(t),n.addTransparency=!!s.readUint16(t),n.restrictColors=!!s.readUint16(t),n.roughness=s.readUint32(t)/4096,n.colorModel=P[s.readUint16(t)]||"rgb",n.min=[s.readUint16(t)/32768,s.readUint16(t)/32768,s.readUint16(t)/32768,s.readUint16(t)/32768],n.max=[s.readUint16(t)/32768,s.readUint16(t)/32768,s.readUint16(t)/32768,s.readUint16(t)/32768],s.skipBytes(t,r());for(var u=0,d=n.colorStops;u<d.length;u++)d[u].location/=l;for(var c=0,f=n.opacityStops;c<f.length;c++)f[c].location/=l;e.adjustment=n},function(t,e){var r,n,i,a=e.adjustment;l.writeUint16(t,1),l.writeUint8(t,a.reverse?1:0),l.writeUint8(t,a.dither?1:0),l.writeUnicodeStringWithPadding(t,a.name||""),l.writeUint16(t,a.colorStops&&a.colorStops.length||0);for(var o=Math.round(4096*(null!==(r=a.smoothness)&&void 0!==r?r:1)),s=0,u=a.colorStops||[];s<u.length;s++){var d=u[s];l.writeUint32(t,Math.round(d.location*o)),l.writeUint32(t,Math.round(100*d.midpoint)),l.writeColor(t,d.color),l.writeZeros(t,2)}l.writeUint16(t,a.opacityStops&&a.opacityStops.length||0);for(var c=0,f=a.opacityStops||[];c<f.length;c++)d=f[c],l.writeUint32(t,Math.round(d.location*o)),l.writeUint32(t,Math.round(100*d.midpoint)),l.writeUint16(t,Math.round(255*d.opacity));l.writeUint16(t,2),l.writeUint16(t,o),l.writeUint16(t,32),l.writeUint16(t,"noise"===a.gradientType?1:0),l.writeUint32(t,a.randomSeed||0),l.writeUint16(t,a.addTransparency?1:0),l.writeUint16(t,a.restrictColors?1:0),l.writeUint32(t,Math.round(4096*(null!==(n=a.roughness)&&void 0!==n?n:1)));var h=P.indexOf(null!==(i=a.colorModel)&&void 0!==i?i:"rgb");l.writeUint16(t,-1===h?3:h);for(var p=0;p<4;p++)l.writeUint16(t,Math.round(32768*(a.min&&a.min[p]||0)));for(p=0;p<4;p++)l.writeUint16(t,Math.round(32768*(a.max&&a.max[p]||0)));l.writeZeros(t,4)}),f("selc",_("selective color"),function(t,e){if(1!==s.readUint16(t))throw new Error("Invalid selc version");var r=s.readUint16(t)?"absolute":"relative";s.skipBytes(t,8),e.adjustment={type:"selective color",mode:r,reds:F(t),yellows:F(t),greens:F(t),cyans:F(t),blues:F(t),magentas:F(t),whites:F(t),neutrals:F(t),blacks:F(t)}},function(t,e){var r=e.adjustment;l.writeUint16(t,1),l.writeUint16(t,"absolute"===r.mode?1:0),l.writeZeros(t,8),U(t,r.reds),U(t,r.yellows),U(t,r.greens),U(t,r.cyans),U(t,r.blues),U(t,r.magentas),U(t,r.whites),U(t,r.neutrals),U(t,r.blacks)}),f("CgEd",function(t){var e=t.adjustment;return!!e&&("brightness/contrast"===e.type&&!e.useLegacy||("levels"===e.type||"curves"===e.type||"exposure"===e.type||"channel mixer"===e.type||"hue/saturation"===e.type)&&void 0!==e.presetFileName)},function(t,e,r){var i=u.readVersionAndDescriptor(t);if(1!==i.Vrsn)throw new Error("Invalid CgEd version");e.adjustment="presetFileName"in i?n(n({},e.adjustment),{presetKind:i.presetKind,presetFileName:i.presetFileName}):"curvesPresetFileName"in i?n(n({},e.adjustment),{presetKind:i.curvesPresetKind,presetFileName:i.curvesPresetFileName}):"mixerPresetFileName"in i?n(n({},e.adjustment),{presetKind:i.mixerPresetKind,presetFileName:i.mixerPresetFileName}):{type:"brightness/contrast",brightness:i.Brgh,contrast:i.Cntr,meanValue:i.means,useLegacy:!!i.useLegacy,labColorOnly:!!i["Lab "],auto:!!i.Auto},s.skipBytes(t,r())},function(t,e){var r,n,i,a,o=e.adjustment;if("levels"===o.type||"exposure"===o.type||"hue/saturation"===o.type){var s={Vrsn:1,presetKind:null!==(r=o.presetKind)&&void 0!==r?r:1,presetFileName:o.presetFileName||""};u.writeVersionAndDescriptor(t,"","null",s)}else if("curves"===o.type)s={Vrsn:1,curvesPresetKind:null!==(n=o.presetKind)&&void 0!==n?n:1,curvesPresetFileName:o.presetFileName||""},u.writeVersionAndDescriptor(t,"","null",s);else if("channel mixer"===o.type)s={Vrsn:1,mixerPresetKind:null!==(i=o.presetKind)&&void 0!==i?i:1,mixerPresetFileName:o.presetFileName||""},u.writeVersionAndDescriptor(t,"","null",s);else{if("brightness/contrast"!==o.type)throw new Error("Unhandled CgEd case");s={Vrsn:1,Brgh:o.brightness||0,Cntr:o.contrast||0,means:null!==(a=o.meanValue)&&void 0!==a?a:127,"Lab ":!!o.labColorOnly,useLegacy:!!o.useLegacy,Auto:!!o.auto},u.writeVersionAndDescriptor(t,"","null",s)}}),f("Txt2",p("engineData"),function(t,e,r){var n=s.readBytes(t,r());e.engineData=i.fromByteArray(n)},function(t,e){var r=i.toByteArray(e.engineData);l.writeBytes(t,r)}),f("FMsk",p("filterMask"),function(t,e){e.filterMask={colorSpace:s.readColor(t),opacity:s.readUint16(t)/255}},function(t,e){var r;l.writeColor(t,e.filterMask.colorSpace),l.writeUint16(t,255*o.clamp(null!==(r=e.filterMask.opacity)&&void 0!==r?r:1,0,1))}),f("artd",function(t){return void 0!==t.artboards},function(t,e,r){var n=u.readVersionAndDescriptor(t);e.artboards={count:n["Cnt "],autoExpandOffset:{horizontal:n.autoExpandOffset.Hrzn,vertical:n.autoExpandOffset.Vrtc},origin:{horizontal:n.origin.Hrzn,vertical:n.origin.Vrtc},autoExpandEnabled:n.autoExpandEnabled,autoNestEnabled:n.autoNestEnabled,autoPositionEnabled:n.autoPositionEnabled,shrinkwrapOnSaveEnabled:n.shrinkwrapOnSaveEnabled,docDefaultNewArtboardBackgroundColor:Y(n.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:n.docDefaultNewArtboardBackgroundType},s.skipBytes(t,r())},function(t,e){var r,n,i,a,o,s=e.artboards,l={"Cnt ":s.count,autoExpandOffset:s.autoExpandOffset?{Hrzn:s.autoExpandOffset.horizontal,Vrtc:s.autoExpandOffset.vertical}:{Hrzn:0,Vrtc:0},origin:s.origin?{Hrzn:s.origin.horizontal,Vrtc:s.origin.vertical}:{Hrzn:0,Vrtc:0},autoExpandEnabled:null===(r=s.autoExpandEnabled)||void 0===r||r,autoNestEnabled:null===(n=s.autoNestEnabled)||void 0===n||n,autoPositionEnabled:null===(i=s.autoPositionEnabled)||void 0===i||i,shrinkwrapOnSaveEnabled:null===(a=s.shrinkwrapOnSaveEnabled)||void 0===a||a,docDefaultNewArtboardBackgroundColor:X(s.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:null!==(o=s.docDefaultNewArtboardBackgroundType)&&void 0!==o?o:1};u.writeVersionAndDescriptor(t,"","null",l,"artd")}),f("lfx2",p("effects"),function(t,e,r,n,i){var a=!!i.logMissingFeatures;if(0!==s.readUint32(t))throw new Error("Invalid lfx2 version");var o=u.readVersionAndDescriptor(t);e.effects={};var l=e.effects;o.masterFXSwitch||(l.disabled=!0),o["Scl "]&&(l.scale=u.parsePercent(o["Scl "])),o.DrSh&&(l.dropShadow=q(o.DrSh,a)),o.IrSh&&(l.innerShadow=q(o.IrSh,a)),o.OrGl&&(l.outerGlow=q(o.OrGl,a)),o.IrGl&&(l.innerGlow=q(o.IrGl,a)),o.ebbl&&(l.bevel=q(o.ebbl,a)),o.SoFi&&(l.solidFill=q(o.SoFi,a)),o.patternFill&&(l.patternOverlay=q(o.patternFill,a)),o.GrFl&&(l.gradientOverlay=q(o.GrFl,a)),o.ChFX&&(l.satin=q(o.ChFX,a)),o.FrFX&&(l.stroke={enabled:!!o.FrFX.enab,position:u.FStl.decode(o.FrFX.Styl),fillType:u.FrFl.decode(o.FrFX.PntT),blendMode:u.BlnM.decode(o.FrFX["Md  "]),opacity:u.parsePercent(o.FrFX.Opct),size:u.parseUnits(o.FrFX["Sz  "])},o.FrFX["Clr "]&&(l.stroke.color=Y(o.FrFX["Clr "])),o.FrFX.Grad&&(l.stroke.gradient=G(o.FrFX)),o.FrFX.Ptrn&&(l.stroke.pattern=W(o.FrFX))),s.skipBytes(t,r())},function(t,e,r,i){var a,o=!!i.logMissingFeatures,s=e.effects,d={masterFXSwitch:!s.disabled,"Scl ":u.unitsPercent(null!==(a=s.scale)&&void 0!==a?a:1)};s.dropShadow&&(d.DrSh=J(s.dropShadow,"dropShadow",o)),s.innerShadow&&(d.IrSh=J(s.innerShadow,"innerShadow",o)),s.outerGlow&&(d.OrGl=J(s.outerGlow,"outerGlow",o)),s.innerGlow&&(d.IrGl=J(s.innerGlow,"innerGlow",o)),s.bevel&&(d.ebbl=J(s.bevel,"bevel",o)),s.solidFill&&(d.SoFi=J(s.solidFill,"solidFill",o)),s.patternOverlay&&(d.patternFill=J(s.patternOverlay,"patternOverlay",o)),s.gradientOverlay&&(d.GrFl=J(s.gradientOverlay,"gradientOverlay",o)),s.satin&&(d.ChFX=J(s.satin,"satin",o));var c=s.stroke;c&&(d.FrFX={enab:!!c.enabled,Styl:u.FStl.encode(c.position),PntT:u.FrFl.encode(c.fillType),"Md  ":u.BlnM.encode(c.blendMode),Opct:u.unitsPercent(c.opacity),"Sz  ":u.unitsValue(c.size,"size")},c.color&&(d.FrFX["Clr "]=X(c.color)),c.gradient&&(d.FrFX=n(n({},d.FrFX),V(c.gradient))),c.pattern&&(d.FrFX=n(n({},d.FrFX),K(c.pattern)))),l.writeUint32(t,0),u.writeVersionAndDescriptor(t,"","null",d)}),f("cinf",p("compositorUsed"),function(t,e){var r=u.readVersionAndDescriptor(t);e.compositorUsed={description:r.description,reason:r.reason,engine:r.Engn.split(".")[1],enableCompCore:r.enableCompCore.split(".")[1],enableCompCoreGPU:r.enableCompCoreGPU.split(".")[1],compCoreSupport:r.compCoreSupport.split(".")[1],compCoreGPUSupport:r.compCoreGPUSupport.split(".")[1]}},function(t,e){var r=e.compositorUsed;u.writeVersionAndDescriptor(t,"","null",{Vrsn:{major:1,minor:0,fix:0},description:r.description,reason:r.reason,Engn:"Engn."+r.engine,enableCompCore:"enable."+r.enableCompCore,enableCompCoreGPU:"enable."+r.enableCompCoreGPU,compCoreSupport:"reason."+r.compCoreSupport,compCoreGPUSupport:"reason."+r.compCoreGPUSupport})})},"274U":function(module,exports,__webpack_require__){"use strict";(function(Buffer){const Token=__webpack_require__("b1it"),strtok3=__webpack_require__("IcKz"),{stringToBytes:stringToBytes,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint32SyncSafeToken:uint32SyncSafeToken}=__webpack_require__("W3re"),supported=__webpack_require__("2Iqx"),minimumBytes=4100;async function fromStream(t){const e=await strtok3.fromStream(t);try{return await fromTokenizer(e)}finally{await e.close()}}async function fromBuffer(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Buffer?t:Buffer.from(t);if(e&&e.length>1)return fromTokenizer(strtok3.fromBuffer(e))}function _check(t,e,r){r={offset:0,...r};for(const[n,i]of e.entries())if(r.mask){if(i!==(r.mask[n]&t[n+r.offset]))return!1}else if(i!==t[n+r.offset])return!1;return!0}async function fromTokenizer(t){try{return _fromTokenizer(t)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(t){let e=Buffer.alloc(minimumBytes);const r=(t,r)=>_check(e,t,r),n=(t,e)=>r(stringToBytes(t),e);if(t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),await t.peekBuffer(e,{length:12,mayBeLess:!0}),r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(r([37,33]))return await t.peekBuffer(e,{length:24,mayBeLess:!0}),n("PS-Adobe-",{offset:2})&&n(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n("ID3")){await t.ignore(6);const e=await t.readToken(uint32SyncSafeToken);return t.position+e>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(e),fromTokenizer(t))}if(n("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===e[0]||70===e[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n("FLIF"))return{ext:"flif",mime:"image/flif"};if(n("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(n("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(n("FORM"))return{ext:"aif",mime:"audio/aiff"};if(n("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(r([80,75,3,4])){try{for(;t.position+30<t.fileInfo.size;){await t.readBuffer(e,{length:30});const r={compressedSize:e.readUInt32LE(18),uncompressedSize:e.readUInt32LE(22),filenameLength:e.readUInt16LE(26),extraFieldLength:e.readUInt16LE(28)};if(r.filename=await t.readToken(new Token.StringType(r.filenameLength,"utf-8")),await t.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize)switch(await t.readToken(new Token.StringType(r.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===r.compressedSize){let r=-1;for(;r<0&&t.position<t.fileInfo.size;)await t.peekBuffer(e,{mayBeLess:!0}),r=e.indexOf("504B0304",0,"hex"),await t.ignore(r>=0?r:e.length)}else await t.ignore(r.compressedSize)}}catch(l){if(!(l instanceof strtok3.EndOfStreamError))throw l}return{ext:"zip",mime:"application/zip"}}if(n("OggS")){await t.ignore(28);const e=Buffer.alloc(8);return await t.readBuffer(e),_check(e,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(e,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(e,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(e,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(e,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(e,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(n("ftyp",{offset:4})&&0!=(96&e[8])){const t=e.toString("binary",8,12).replace("\0"," ").trim();switch(t){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return t.startsWith("3g")?t.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(n("MThd"))return{ext:"mid",mime:"audio/midi"};if(n("wOFF")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(n("wOF2")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([212,195,178,161])||r([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(n("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(n("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(n("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(n("%PDF")){await t.ignore(1350);const e=Buffer.alloc(Math.min(10485760,t.fileInfo.size));return await t.readBuffer(e,{mayBeLess:!0}),e.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([73,73,42,0]))return n("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:r([28,0,254,0],{offset:8})||r([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:r([8,0,0,0],{offset:4})&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(e=Buffer.alloc(24),await t.peekBuffer(e),(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n("MAC "))return{ext:"ape",mime:"audio/ape"};if(r([26,69,223,163])){async function i(){const e=await t.peekNumber(Token.UINT8);let r=128,n=0;for(;0==(e&r);)++n,r>>=1;const i=Buffer.alloc(n+1);return await t.readBuffer(i),i}async function a(){const t=await i(),e=await i();e[0]^=128>>e.length-1;const r=Math.min(6,e.length);return{id:t.readUIntBE(0,t.length),len:e.readUIntBE(e.length-r,r)}}const e=await a();switch(await async function(e,r){for(;r>0;){const e=await a();if(17026===e.id)return t.readToken(new Token.StringType(e.len,"utf-8"));await t.ignore(e.len),--r}}(0,e.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n("MSCF")||n("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(r([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(n("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n("IMPM"))return{ext:"it",mime:"audio/x-it"};if(n("-lh0-",{offset:2})||n("-lh1-",{offset:2})||n("-lh2-",{offset:2})||n("-lh3-",{offset:2})||n("-lh4-",{offset:2})||n("-lh5-",{offset:2})||n("-lh6-",{offset:2})||n("-lh7-",{offset:2})||n("-lzs-",{offset:2})||n("-lz4-",{offset:2})||n("-lz5-",{offset:2})||n("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(r([0,0,1,186])){if(r([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(r([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(n("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(n("BEGIN:"))return{ext:"ics",mime:"text/calendar"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n("solid "))return{ext:"stl",mime:"model/stl"};if(n("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(n("!<arch>"))return await t.ignore(8),"debian-binary"===await t.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(r([137,80,78,71,13,10,26,10])){async function o(){return{length:await t.readToken(Token.INT32_BE),type:await t.readToken(new Token.StringType(4,"binary"))}}await t.ignore(8);do{const e=await o();if(e.length<0)return;switch(e.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(e.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(r([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(r([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(r([48,38,178,117,142,102,207,17,166,217])){async function s(){const e=Buffer.alloc(16);return await t.readBuffer(e),{id:e,size:await t.readToken(Token.UINT64_LE)}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){const e=await s();let r=e.size-24;if(_check(e.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const e=Buffer.alloc(16);if(r-=await t.readBuffer(e),_check(e,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(e,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(r)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(r([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(e,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(n("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(n("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(r([4,0,0,0])&&e.length>=16){const t=e.readUInt32LE(12);if(t>12&&t<240&&e.length>=t+16)try{const r=e.slice(16,t+16).toString();if(JSON.parse(r).files)return{ext:"asar",mime:"application/x-asar"}}catch(u){}}if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(e,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(e))return{ext:"tar",mime:"application/x-tar"};if(r([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(n("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};for(let d=0;d<2&&d<e.length-16;d++)if(e.length>=d+2&&r([255,224],{offset:d,mask:[255,224]})){if(r([16],{offset:d+1,mask:[22]}))return r([8],{offset:d+1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(r([2],{offset:d+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([4],{offset:d+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([6],{offset:d+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const t=new stream.PassThrough;let e;e=stream.pipeline?stream.pipeline(readableStream,t,()=>{}):readableStream.pipe(t);const r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const e=await fromBuffer(r);t.fileType=e}catch(n){reject(n)}resolve(e)})}),fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType}).call(this,__webpack_require__("tjlA").Buffer)},"2Iqx":function(t,e,r){"use strict";t.exports={extensions:["jpg","png","apng","gif","webp","flif","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","application/zstd"]}},3:function(t,e){},4:function(t,e){},"41vA":function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeEngineData=e.decodeEngineData=void 0;var i={name:"MyriadPro-Regular",script:0,type:0,synthetic:0},a={justification:"left",firstLineIndent:0,startIndent:0,endIndent:0,spaceBefore:0,spaceAfter:0,autoHyphenate:!0,hyphenatedWordSize:6,preHyphen:2,postHyphen:2,consecutiveHyphens:8,zone:36,wordSpacing:[.8,1,1.33],letterSpacing:[0,0,0],glyphSpacing:[1,1,1],autoLeading:1.2,leadingType:0,hanging:!1,burasagari:!1,kinsokuOrder:0,everyLineComposer:!1},o={font:i,fontSize:12,fauxBold:!1,fauxItalic:!1,autoLeading:!0,leading:0,horizontalScale:1,verticalScale:1,tracking:0,autoKerning:!0,kerning:0,baselineShift:0,fontCaps:0,fontBaseline:0,underline:!1,strikethrough:!1,ligatures:!0,dLigatures:!1,baselineDirection:2,tsume:0,styleRunAlignment:2,language:0,noBreak:!1,fillColor:{r:0,g:0,b:0},strokeColor:{r:0,g:0,b:0},fillFlag:!0,strokeFlag:!1,fillFirst:!0,yUnderline:1,outlineWidth:1,characterDirection:0,hindiNumbers:!1,kashida:1,diacriticPos:2},s={isOn:!1,show:!1,size:18,leading:22,color:{r:0,g:0,b:255},leadingFillColor:{r:0,g:0,b:255},alignLineHeightToGridFlags:!1},l=["justification","firstLineIndent","startIndent","endIndent","spaceBefore","spaceAfter","autoHyphenate","hyphenatedWordSize","preHyphen","postHyphen","consecutiveHyphens","zone","wordSpacing","letterSpacing","glyphSpacing","autoLeading","leadingType","hanging","burasagari","kinsokuOrder","everyLineComposer"],u=["font","fontSize","fauxBold","fauxItalic","autoLeading","leading","horizontalScale","verticalScale","tracking","autoKerning","kerning","baselineShift","fontCaps","fontBaseline","underline","strikethrough","ligatures","dLigatures","baselineDirection","tsume","styleRunAlignment","language","noBreak","fillColor","strokeColor","fillFlag","strokeFlag","fillFirst","yUnderline","outlineWidth","characterDirection","hindiNumbers","kashida","diacriticPos"],d=["none","crisp","strong","smooth","sharp"],c=["left","right","center"];function f(t){return t.substr(0,1).toUpperCase()+t.substr(1)}function h(t){return t&&"r"in t?["a"in t?t.a:1,t.r/255,t.g/255,t.b/255]:[0,0,0,0]}function p(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function g(t,e){if(!t||!e)return!1;for(var r=0,n=Object.keys(t);r<n.length;r++)if(t[o=n[r]]!==e[o])return!1;for(var i=0,a=Object.keys(e);i<a.length;i++){var o;if(t[o=a[i]]!==e[o])return!1}return!0}function m(t,e){for(var r=0;r<t.length;r++)if(t[r].name===e.name)return r;return t.push(e),t.length-1}function v(t,e,r){for(var n,i,a={},o=0,s=e;o<s.length;o++){var l=s[o],u=f(l);void 0!==t[u]&&(a[l]="justification"===l?c[t[u]]:"font"===l?r[t[u]]:"fillColor"===l||"strokeColor"===l?(i=(n=t[u]).Values,0===n.Type?{r:255*i[1],g:255*i[1],b:255*i[1]}:{r:255*i[1],g:255*i[2],b:255*i[3],a:i[0]}):t[u])}return a}function b(t,e,r){for(var n,i={},a=0,o=e;a<o.length;a++){var s=o[a],l=f(s);void 0!==t[s]&&(i[l]="justification"===s?c.indexOf(null!==(n=t[s])&&void 0!==n?n:"left"):"font"===s?m(r,t[s]):"fillColor"===s||"strokeColor"===s?{Type:1,Values:h(t[s])}:t[s])}return i}function y(t,e){return v(t,l,e)}function w(t,e){return v(t,u,e)}function _(t,e){return b(t,l,e)}function x(t,e){return b(t,u,e)}function S(t,e,r){if(e.length){for(var n=function(r){var n=e[0].style[r];if(void 0!==n&&(Array.isArray(n)?e.every(function(t){return p(t.style[r],n)}):e.every("object"==typeof n?function(t){return g(t.style[r],n)}:function(t){return t.style[r]===n}))&&(t[r]=n),void 0!==t[r])for(var i=0,a=e;i<a.length;i++){var o=a[i];(Array.isArray(n)?p(o.style[r],n):"object"==typeof n?g(o.style[r],n):o.style[r]===n)&&delete o.style[r]}},i=0,a=r;i<a.length;i++)n(a[i]);e.every(function(t){return 0===Object.keys(t.style).length})&&(e.length=0)}}e.decodeEngineData=function(t){var e,r,n,i,a,o,s=t.EngineDict,c=t.ResourceDict,f=c.FontSet.map(function(t){return{name:t.Name,script:t.Script,type:t.FontType,synthetic:t.Synthetic}}),h={text:s.Editor.Text.replace(/\r/g,"\n").replace(/\n$/,""),antiAlias:null!==(e=d[s.AntiAlias])&&void 0!==e?e:"smooth",useFractionalGlyphWidths:!!s.UseFractionalGlyphWidths,superscriptSize:c.SuperscriptSize,superscriptPosition:c.SuperscriptPosition,subscriptSize:c.SubscriptSize,subscriptPosition:c.SubscriptPosition,smallCapSize:c.SmallCapSize},p=null===(o=null===(a=null===(i=null===(n=null===(r=s.Rendered)||void 0===r?void 0:r.Shapes)||void 0===n?void 0:n.Children)||void 0===i?void 0:i[0])||void 0===a?void 0:a.Cookie)||void 0===o?void 0:o.Photoshop;p&&(h.shapeType=1===p.ShapeType?"box":"point",p.PointBase&&(h.pointBase=p.PointBase),p.BoxBounds&&(h.boxBounds=p.BoxBounds));var g=t.EngineDict.ParagraphRun;h.paragraphStyle={},h.paragraphStyleRuns=[];for(var m=0;m<g.RunArray.length;m++){var v=g.RunLengthArray[m],b=y(g.RunArray[m].ParagraphSheet.Properties,f);h.paragraphStyleRuns.push({length:v,style:b})}S(h.paragraphStyle,h.paragraphStyleRuns,l),h.paragraphStyleRuns.length||delete h.paragraphStyleRuns;var _=t.EngineDict.StyleRun;for(h.style={},h.styleRuns=[],m=0;m<_.RunArray.length;m++){var x=_.RunLengthArray[m];b=w(_.RunArray[m].StyleSheet.StyleSheetData,f),h.styleRuns.push({length:x,style:b})}return S(h.style,h.styleRuns,u),h.styleRuns.length||delete h.styleRuns,h},e.encodeEngineData=function(t){var e,r,l,u,c,f,p,g,m,v,b,y,w=(t.text||"").replace(/\r?\n/g,"\r")+"\r",S=[{name:"AdobeInvisFont",script:0,type:0,synthetic:0}],k=(null===(e=t.style)||void 0===e?void 0:e.font)||(null===(l=null===(r=t.styleRuns)||void 0===r?void 0:r.find(function(t){return t.style.font}))||void 0===l?void 0:l.style.font)||i,E=[],B=[];if(t.paragraphStyleRuns&&t.paragraphStyleRuns.length)for(var T=0,C=t.paragraphStyleRuns;T<C.length;T++){var R=C[T];B.push(R.length),E.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:_(n(n(n({},a),t.paragraphStyle),R.style),S)},Adjustments:{Axis:[1,0,1],XY:[0,0]}})}else for(var A=0,I=0;A<w.length;A++)13===w.charCodeAt(A)&&(B.push(A-I+1),E.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:_(n(n({},a),t.paragraphStyle),S)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}),I=A+1);for(var D=x(n(n({},o),{font:k}),S),L=[],O=[],P=0,F=t.styleRuns||[{length:w.length,style:t.style||{}}];P<F.length;P++){var U=F[P];O.push(U.length),L.push({StyleSheet:{StyleSheetData:x(n(n({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},t.style),U.style),S)}})}var M=n(n({},s),t.gridInfo),N="vertical"===t.orientation?2:0,z="vertical"===t.orientation?1:0,j="box"===t.shapeType?1:0,G={ShapeType:j};0===j?G.PointBase=t.pointBase||[0,0]:G.BoxBounds=t.boxBounds||[0,0,0,0],G.Base={ShapeType:j,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]};var W={KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uff0c\uff0e\u30fb\uff1a\uff1b\uff1f\uff01\u30fc\u2015\u2019\u201d\uff09\u3015\uff3d\uff5d\u3009\u300b\u300d\u300f\u3011\u30fd\u30fe\u309d\u309e\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u309b\u309c?!)]},.:;\u2103\u2109\xa2\uff05\u2030",NoEnd:"\u2018\u201c\uff08\u3014\uff3b\uff5b\u3008\u300a\u300c\u300e\u3010([{\uffe5\uff04\xa3\uff20\xa7\u3012\uff03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uff0c\uff0e\u30fb\uff1a\uff1b\uff1f\uff01\u2019\u201d\uff09\u3015\uff3d\uff5d\u3009\u300b\u300d\u300f\u3011\u30fd\u30fe\u309d\u309e\u3005",NoEnd:"\u2018\u201c\uff08\u3014\uff3b\uff5b\u3008\u300a\u300c\u300e\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:_(n(n({},a),t.paragraphStyle),S)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:D}],FontSet:S.map(function(t){return{Name:t.name,Script:t.script||0,FontType:t.type||0,Synthetic:t.synthetic||0}}),SuperscriptSize:null!==(u=t.superscriptSize)&&void 0!==u?u:.583,SuperscriptPosition:null!==(c=t.superscriptPosition)&&void 0!==c?c:.333,SubscriptSize:null!==(f=t.subscriptSize)&&void 0!==f?f:.583,SubscriptPosition:null!==(p=t.subscriptPosition)&&void 0!==p?p:.333,SmallCapSize:null!==(g=t.smallCapSize)&&void 0!==g?g:.7};return{EngineDict:{Editor:{Text:w},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:E,RunLengthArray:B,IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:L,RunLengthArray:O,IsJoinable:2},GridInfo:{GridIsOn:!!M.isOn,ShowGrid:!!M.show,GridSize:null!==(m=M.size)&&void 0!==m?m:18,GridLeading:null!==(v=M.leading)&&void 0!==v?v:22,GridColor:{Type:1,Values:h(M.color)},GridLeadingFillColor:{Type:1,Values:h(M.color)},AlignLineHeightToGridFlags:!!M.alignLineHeightToGridFlags},AntiAlias:d.indexOf(null!==(b=t.antiAlias)&&void 0!==b?b:"sharp"),UseFractionalGlyphWidths:null===(y=t.useFractionalGlyphWidths)||void 0===y||y,Rendered:{Version:1,Shapes:{WritingDirection:N,Children:[{ShapeType:j,Procession:z,Lines:{WritingDirection:N,Children:[]},Cookie:{Photoshop:G}}]}}},ResourceDict:n({},W),DocumentResources:n({},W)}}},"49sm":function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},"4ROa":function(t,e,r){"use strict";var n=r("Gwi7").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var a=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return t.objectMode?16:16384}}},"67IB":function(t,e,r){"use strict";const{ReadableWebToNodeStream:n}=r("XPDt"),i=r("BJdv"),a=r("274U");Object.assign(t.exports,a,{fromStream:async function(t){const e=new n(t),r=await a.fromStream(e);return await e.close(),r},fromBlob:async function(t){const e=await function(t){return new Promise((e,r)=>{const n=new FileReader;n.addEventListener("loadend",t=>{let r=t.target.result;r instanceof ArrayBuffer&&(r=i(new Uint8Array(t.target.result))),e(r)}),n.addEventListener("error",t=>{r(new Error(t.message))}),n.addEventListener("abort",t=>{r(new Error(t.type))}),n.readAsArrayBuffer(t)})}(t);return a.fromBuffer(e)}})},"813Z":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";class n extends Error{constructor(){super(e.defaultMessages)}}e.EndOfStreamError=n},"8oxB":function(t,e){var r,n,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var l,u=[],d=!1,c=-1;function f(){d&&l&&(d=!1,l.length?u=l.concat(u):c=-1,u.length&&h())}function h(){if(!d){var t=s(f);d=!0;for(var e=u.length;e;){for(l=u,u=[];++c<e;)l&&l[c].run();c=-1,e=u.length}l=null,d=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||d||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},ANlV:function(t,e,r){"use strict";r.d(e,"c",function(){return J}),r.d(e,"f",function(){return Q}),r.d(e,"b",function(){return c}),r.d(e,"d",function(){return $}),r.d(e,"e",function(){return tt}),r.d(e,"a",function(){return rt});var n=r("GMPE");class i{constructor(){this.entity=null,this.notifyType="",this.defaultEvent=null,this.flags={clipboard:{isCopy:!1,isCut:!1,isPaste:!1},pointer:{base:{isCancel:!1,isDown:!1,isEnter:!1,isLeave:!1,isMove:!1,isOut:!1,isOver:!1,isUp:!1,isDownMove:!1},meta:{isShiftKey:!1,isMetaKey:!1,isCtrlKey:!1,isAltKey:!1,isMultiTouch:!1,isPrimary:!1,isTouch:!1},state:{isBackDown:!1,isBackMove:!1,isBackUp:!1,isEraserDown:!1,isEraserMove:!1,isEraserUp:!1,isForwardDown:!1,isForwardMove:!1,isForwardUp:!1,isLeftDown:!1,isLeftMove:!1,isLeftUp:!1,isMiddleDown:!1,isMiddleMove:!1,isMiddleUp:!1,isRightDown:!1,isRightMove:!1,isRightUp:!1}},keyboard:{isAltKey:!1,isCtrlKey:!1,isKeydown:!1,isKeyup:!1,isMetaKey:!1,isRepeat:!1,isShiftKey:!1},drag:{isDrag:!1,isDragEnd:!1,isDragEnter:!1,isDragLeave:!1,isDragOver:!1,isDragStart:!1,isDrop:!1},event:{isFullscreen:!1,isFullscreenSupported:!1,isOnline:!1},mouse:{isAltKey:!1,isCtrlKey:!1,isMetaKey:!1,isShiftKey:!1,isClick:!1,isContextmenu:!1,isDblClick:!1},wheel:{isWheelStart:!1}},this.values={clipboard:{data:null,files:[]},pointer:{current:{x:-1/0,y:-1/0},prev:{x:-1/0,y:-1/0},diff:{x:0,y:0},raw:{x:-1/0,y:-1/0},tmp:{x:-1/0,y:-1/0}},keyboard:{key:"",location:""},drag:{data:null,files:[]},event:{},mouse:{button:"",buttons:[]},wheel:{deltaX:0,deltaY:0,deltaZ:0}}}}var a=function(t){return t[t.NO_CHANGE=-1]="NO_CHANGE",t[t.LEFT=0]="LEFT",t[t.MIDDLE=1]="MIDDLE",t[t.RIGHT=2]="RIGHT",t[t.BACK=3]="BACK",t[t.FORWARD=4]="FORWARD",t[t.ERASER=5]="ERASER",t}({}),o=function(t){return t[t.NO_BUTTON=0]="NO_BUTTON",t[t.LEFT_RIGHT=3]="LEFT_RIGHT",t[t.LEFT_MIDDLE=5]="LEFT_MIDDLE",t[t.LEFT_BACK=7]="LEFT_BACK",t[t.LEFT_FORWARD=17]="LEFT_FORWARD",t[t.RIGHT_MIDDLE=6]="RIGHT_MIDDLE",t[t.RIGHT_BACK=10]="RIGHT_BACK",t[t.RIGHT_FORWARD=18]="RIGHT_FORWARD",t[t.MIDDLE_BACK=12]="MIDDLE_BACK",t[t.MIDDLE_FORWARD=20]="MIDDLE_FORWARD",t[t.BACK_FORWARD=24]="BACK_FORWARD",t}({}),s=function(t){return t.LEFT="left",t.MIDDLE="middle",t.RIGHT="right",t.BACK="back",t.FORWARD="forward",t.ERASER="eraser",t}({}),l=function(t){return t.DOWN="pointerdown",t.UP="pointerup",t.MOVE="pointermove",t.OVER="pointerover",t.ENTER="pointerenter",t.CANCEL="pointercancel",t.OUT="pointerout",t.LEAVE="pointerleave",t}({}),u=function(t){return t.STANDARD="standard",t.LEFT="left",t.RIGHT="right",t.NUMPAD="numpad",t}({}),d=function(t){return t.GLOBAL="global",t.TARGET="target",t}({}),c=function(t){return t.CLIPBOARD="clipboard",t.KEYBOARD="keyboard",t.POINTER="pointer",t.DRAG="drag",t.EVENT="event",t.MOUSE="mouse",t.WHEEL="wheel",t.RENDER="render",t.ANY="any",t}({});const f=["pointerdown","pointerup","pointermove","pointerover","pointerenter","pointercancel","pointerout","pointerleave"],h=["wheel"],p=["click","dblclick"],g=["contextmenu"],m=["fullscreenchange, fullscreenerror"],v=["online","offline"],b=["drag","dragend","dragenter","dragstart","dragleave","dragover","drop"],y=["cut","copy","paste"],w=["keydown","keyup","keypress"];var _=r("2Vo4"),x=r("HDdC");class S{constructor(){this.notifyEvent=new _.a({})}update(t){this.notifyEvent.next(t)}getValue(){return this.notifyEvent.getValue()}observer(){return new x.a(t=>{this.notifyEvent.subscribe(e=>{t.next({notifyType:this.notifyType,content:e})})})}}class k{constructor(){this._store=new i,this._userStore=null,this.updateNotifier=new S,this.flagUpdator={[c.CLIPBOARD]:t=>this.updateClipboardFlags(t),[c.KEYBOARD]:t=>this.updateKeyboardFlags(t),[c.POINTER]:t=>this.updatePointerFlags(t),[c.DRAG]:t=>this.updateDragFlags(t),[c.EVENT]:t=>this.updateEventFlgas(t),[c.MOUSE]:t=>this.updateMouseFlags(t),[c.WHEEL]:t=>this.updateWheelFlags(t)},this.valueUpdator={[c.CLIPBOARD]:t=>this.updateClipboardData(t),[c.KEYBOARD]:t=>this.updateKeyboardValues(t),[c.POINTER]:t=>{},[c.DRAG]:t=>this.updateDragData(t),[c.EVENT]:t=>this.updateEventValues(t),[c.MOUSE]:t=>this.updateMouseValues(t),[c.WHEEL]:t=>this.updateWheelValues(t)}}get store(){return this._store}get userStore(){return this._userStore}registerEntity(t){this._store.entity=t}registerStore(t){this._userStore=t}updateFlags(t,e){if(!this.flagUpdator[t])throw new Error("Invalid event type is detected.");this.flagUpdator[t](e)}updateValues(t,e){if(!this.valueUpdator[t])throw new Error("Invalid event type is detected.");this.valueUpdator[t](e)}updateNotifyType(t){this._store.notifyType=t}updateDefaultEvent(t){this._store.defaultEvent=t}updateClipboardFlags(t){this._store.flags.clipboard=t}updateClipboardData(t){this._store.values.clipboard.data=t.data}updateKeyboardFlags(t){this._store.flags.keyboard=t}updateKeyboardValues(t){this._store.values.keyboard=t}updatePointerFlags(t){this._store.flags.pointer=t}updatePointerOffset(t,e){var r;const n=t,i=e,a=(null===(r=this._store.entity)||void 0===r?void 0:r.element.getBoundingClientRect())||{x:0,y:0},o=this._store.values.pointer,s={x:i.client.x-a.x,y:i.client.y-a.y},l={x:s.x-this._store.values.pointer.prev.x,y:s.y-this._store.values.pointer.prev.y};let u={current:s,diff:l,raw:{x:i.client.x,y:i.client.y},tmp:{x:i.tmpClient.x-a.x,y:i.tmpClient.y-a.y},prev:o.prev};n.base.isDown||n.base.isUp?u=Object.assign({},u,{prev:s,diff:{x:0,y:0}}):n.base.isDownMove&&(u=Object.assign({},u,{diff:l})),this._store.values.pointer=Object.assign({},o,u)}updateDragFlags(t){this._store.flags.drag=t}updateDragData(t){this._store.values.drag.data=t.data}updateEventFlgas(t){this._store.flags.event=t}updateEventValues(t){this._store.values.event=t}updateMouseFlags(t){this._store.flags.mouse=t}updateMouseValues(t){this._store.values.mouse=t}updateWheelFlags(t){this._store.flags.wheel=t}updateWheelValues(t){this._store.values.wheel=t}}var E=r("mrSG");class B{constructor(){this._flags={},this._values={}}get flags(){return this._flags}get values(){return this._values}init(t){this._flags=this.generateFlags(t),this._values=this.generateValues(t)}}class T extends B{constructor(){super()}generateFlags(){return{isFullscreen:!!document.fullscreenElement,isFullscreenSupported:document.fullscreenEnabled,isOnline:navigator.onLine}}generateValues(){return{}}}class C{constructor(t){this.notifier=t.notifier,this.eventStore=t.eventStore}}class R extends C{constructor(t){super(t)}onFullscreenchange(t){const{flags:e,values:r}=this._getFilterContent(t);this._publish(e,r,t)}onFullscreenerror(t){const{flags:e,values:r}=this._getFilterContent(t);this._publish(e,r,t)}onOnline(t){const{flags:e,values:r}=this._getFilterContent(t);this._publish(e,r,t)}onOffline(t){const{flags:e,values:r}=this._getFilterContent(t);this._publish(e,r,t)}_getFilterContent(t){const e=new T;return e.init(t),{flags:e.flags,values:e.values,filter:e}}_publish(t,e,r){this.notifier.update({flags:t,values:e,eventType:c.EVENT,defaultEvent:r})}}function A(t){let e;switch(t){case a.LEFT:e=s.LEFT;break;case a.MIDDLE:e=s.MIDDLE;break;case a.RIGHT:e=s.RIGHT;break;case a.BACK:e=s.BACK;break;case a.FORWARD:e=s.FORWARD}return e||null}function I(t){let e=[];switch(t){case o.LEFT_RIGHT:e=[s.LEFT,s.RIGHT];break;case o.LEFT_MIDDLE:e=[s.LEFT,s.MIDDLE];break;case o.LEFT_BACK:e=[s.LEFT,s.BACK];break;case o.LEFT_FORWARD:e=[s.LEFT,s.FORWARD];break;case o.RIGHT_MIDDLE:e=[s.RIGHT,s.MIDDLE];break;case o.RIGHT_BACK:e=[s.RIGHT,s.BACK];break;case o.RIGHT_FORWARD:e=[s.RIGHT,s.FORWARD];break;case o.MIDDLE_BACK:e=[s.MIDDLE,s.BACK];break;case o.MIDDLE_FORWARD:e=[s.MIDDLE,s.FORWARD];break;case o.BACK_FORWARD:e=[s.BACK,s.FORWARD]}return e}class D extends B{constructor(){super()}generateFlags(t){return{isAltKey:t.altKey,isCtrlKey:t.ctrlKey,isMetaKey:t.metaKey,isShiftKey:t.shiftKey,isClick:!1,isDblClick:!1,isContextmenu:!1}}generateValues(t){return{button:A(t.button),buttons:I(t.buttons)}}}class L extends C{constructor(t){super(t)}onClick(t){const{flags:e,values:r}=this._getFilterContent(t);e.isClick=!0,this._publish(e,r,t)}onDblClick(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDblClick=!0,this._publish(e,r,t)}onContextmenu(t){const{flags:e,values:r}=this._getFilterContent(t);e.isContextmenu=!0,this._publish(e,r,t)}_getFilterContent(t){const e=new D;return e.init(t),{flags:e.flags,values:e.values,filter:e}}_publish(t,e,r){this.notifier.update({flags:t,values:e,eventType:c.MOUSE,defaultEvent:r})}}class O extends B{constructor(){super()}generateFlags(){return{isWheelStart:!1}}generateValues(t){return{deltaX:t.deltaX,deltaY:t.deltaY,deltaZ:t.deltaZ}}}class P extends C{constructor(t){super(t),this.wheelCounter1=0,this.wheelCounter2=0,this.wheelMaker=!0}onWheel(t){const e=new O;e.init(t);const r=e.flags,n=e.values;0===this.wheelCounter1&&(r.isWheelStart=!0),this._detectWheelEnd(),this.notifier.update({flags:r,values:n,eventType:c.WHEEL,defaultEvent:t})}_detectWheelEnd(){this.wheelCounter1+=1,this.wheelMaker&&this._wheelStart()}_wheelStart(){this.wheelMaker=!1,this._wheelAct()}_wheelAct(){this.wheelCounter2=this.wheelCounter1,setTimeout(()=>{this.wheelCounter2===this.wheelCounter1?this._wheelEnd():this._wheelAct()},500)}_wheelEnd(){this.wheelCounter1=0,this.wheelCounter2=0,this.wheelMaker=!0}}class F extends B{constructor(){super()}generateFlags(t){return{meta:this._generateMetaFlags(t),base:this._generateBaseFlags(t),state:this._generateStateFlags(t)}}generateValues(t){return{meta:{pointerId:t.pointerId,pointerType:t.pointerType},pressure:{normal:t.pressure,tangential:t.tangentialPressure},tilt:{x:t.clientX,y:t.clientY},twist:t.twist,client:{x:t.clientX,y:t.clientY},tmpClient:{x:t.clientX,y:t.clientY},movement:{x:t.movementX,y:t.movementY},touch:{},button:A(t.button),buttons:I(t.buttons)}}_generateMetaFlags(t){return{isPrimary:t.isPrimary,isTouch:"touch"===t.pointerType,isMultiTouch:!1,isAltKey:t.altKey,isCtrlKey:t.ctrlKey,isMetaKey:t.metaKey,isShiftKey:t.shiftKey}}_generateBaseFlags(t){const e={};switch(t.type){case l.DOWN:e.isDown=!0;break;case l.UP:e.isUp=!0;break;case l.MOVE:e.isMove=!0;break;case l.OVER:e.isOver=!0;break;case l.ENTER:e.isEnter=!0;break;case l.CANCEL:e.isCancel=!0;break;case l.OUT:e.isOut=!0;break;case l.LEAVE:e.isLeave=!0}return e}_generateStateFlags(t){let e="",r={};switch(t.button){case a.LEFT:e=s.LEFT;break;case a.MIDDLE:e=s.MIDDLE;break;case a.RIGHT:e=s.RIGHT;break;case a.BACK:e=s.BACK;break;case a.FORWARD:e=s.FORWARD;break;case a.ERASER:e=s.ERASER}return e&&(r=this._generateDownUpMoveFlags(t.type,e,r)),r}_generateDownUpMoveFlags(t,e,r){const n=Object.assign({},r),i=e.charAt(0).toUpperCase()+e.slice(1);return t===l.DOWN?n[`is${i}Down`]=!0:t===l.UP&&(n[`is${i}Up`]=!0),n}}class U extends C{constructor(t){super(t)}onPointerdown(t){const e=this._getFilterContent(t),r=this.eventStore.pointer;r.isDown=!0,r.prevButton=A(t.button),r.ongoingTouches.push(e.filter);const n=this._manageMultiTouch(e.flags,e.values);this._publish(n.flags,n.values,t)}onPointerup(t){const{flags:e,values:r}=this._getFilterContent(t),n=this.eventStore.pointer;n.isDown=!1,n.prevButton="",n.ongoingTouches=this._removeFilterFromList(r.meta.pointerId),this._publish(e,r,t)}onPointermove(t){const e=this._getFilterContent(t),r=this.eventStore.pointer;let n=this._setMoveFlag(e.flags),i=e.values;n.base.isDownMove=r.isDown,this._setTmpClient(i);const a=this._manageMultiTouch(n,i);n=a.flags,i=a.values,this._publish(n,i,t)}onPointerover(t){}onPointerenter(t){}onPointercancel(t){}onPointerout(t){}onPointerleave(t){}_getFilterContent(t){const e=new F;return e.init(t),{flags:e.flags,values:e.values,filter:e}}_publish(t,e,r){this.notifier.update({flags:t,values:e,eventType:c.POINTER,defaultEvent:r})}_setMoveFlag(t){const e=Object.assign({},t);switch(this.eventStore.pointer.prevButton){case s.LEFT:e.state.isLeftMove=!0;break;case s.MIDDLE:e.state.isMiddleMove=!0;break;case s.RIGHT:e.state.isRightMove=!0;break;case s.BACK:e.state.isBackMove=!0;break;case s.FORWARD:e.state.isForwardMove=!0}return e}_setTmpClient(t){const e=this.eventStore.pointer;e.idleTimer&&clearInterval(e.idleTimer),e.idleTimer=window.setTimeout(()=>{t.tmpClient.x=t.client.x,t.tmpClient.y=t.client.y},1)}_manageMultiTouch(t,e){const r=Object.assign({},t),i=Object.assign({},e),a=this.eventStore.pointer,o=a.ongoingTouches.length>1;if(r.meta.isMultiTouch=o,!o)return{flags:r,values:i};const s=a.ongoingTouches.length,l=a.ongoingTouches[s-1],u=a.ongoingTouches[s-2];return i.touch=Object(n.e)(l.values.client,u.values.client),{flags:r,values:i}}_removeFilterFromList(t){const e=this._getFilterIndexFromList(t);return Object(n.h)(this.eventStore.pointer.ongoingTouches,e)}_getFilterIndexFromList(t){return this.eventStore.pointer.ongoingTouches.findIndex(e=>t===e.values.meta.pointerId)}}class M extends B{constructor(){super()}generateFlags(){return{isDrag:!1,isDragEnd:!1,isDragEnter:!1,isDragStart:!1,isDragLeave:!1,isDragOver:!1,isDrop:!1}}generateValues(t){return{data:t.dataTransfer||null}}}class N extends C{constructor(t){super(t)}onDrag(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDrag=!0,this._publish(e,r,t)}onDragend(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDragEnd=!0,this._publish(e,r,t)}onDragenter(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDragEnter=!0,this._publish(e,r,t)}onDragstart(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDragStart=!0,this._publish(e,r,t)}onDragleave(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDragLeave=!0,this._publish(e,r,t)}onDragover(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDragOver=!0,this._publish(e,r,t)}onDrop(t){const{flags:e,values:r}=this._getFilterContent(t);e.isDrop=!0,this._publish(e,r,t)}_getFilterContent(t){const e=new M;return e.init(t),{flags:e.flags,values:e.values,filter:e}}_publish(t,e,r){this.notifier.update({flags:t,values:e,eventType:c.DRAG,defaultEvent:r})}}class z extends B{constructor(){super()}generateFlags(){return{isCut:!1,isCopy:!1,isPaste:!1}}generateValues(t){return{data:t.clipboardData||null}}}class j extends C{constructor(t){super(t)}onCut(t){const{flags:e,values:r}=this._getFilterContent(t);e.isCut=!0,this._publish(e,r,t)}onCopy(t){const{flags:e,values:r}=this._getFilterContent(t);e.isCopy=!0,this._publish(e,r,t)}onPaste(t){const{flags:e,values:r}=this._getFilterContent(t);e.isPaste=!0,this._publish(e,r,t)}_getFilterContent(t){const e=new z;return e.init(t),{flags:e.flags,values:e.values,filter:e}}_publish(t,e,r){this.notifier.update({flags:t,values:e,eventType:c.CLIPBOARD,defaultEvent:r})}}class G extends B{constructor(){super()}generateFlags(t){return{isAltKey:t.altKey,isCtrlKey:t.ctrlKey,isMetaKey:t.metaKey,isShiftKey:t.shiftKey,isRepeat:t.repeat,isKeydown:!1,isKeyup:!1}}generateValues(t){return{key:t.key,location:this._getLocation(t.location)}}_getLocation(t){let e="";switch(t){case 0:e=u.STANDARD;break;case 1:e=u.LEFT;break;case 2:e=u.RIGHT;break;case 3:e=u.NUMPAD}return e}}class W extends C{constructor(t){super(t)}onKeydown(t){const{flags:e,values:r}=this._getFilterContent(t);e.isKeydown=!0,this._publish(e,r,t)}onKeyup(t){const{flags:e,values:r}=this._getFilterContent(t);e.isKeyup=!0,this._publish(e,r,t)}_getFilterContent(t){const e=new G;return e.init(t),{flags:e.flags,values:e.values,filter:e}}_publish(t,e,r){this.notifier.update({flags:t,values:e,eventType:c.KEYBOARD,defaultEvent:r})}}class H{constructor(t){this.notifier=t.notifier,this.onPointerEvent=new U(t),this.onWheelEvent=new P(t),this.onMouseEvent=new L(t),this.onEvent=new R(t),this.onDragEvent=new N(t),this.onClipboardEvent=new j(t),this.onKeyboardEvent=new W(t)}init(t){this.entity=t}pointerEvent(t){Object(n.a)(f,t,t=>this._onPointerEvent(t))}wheelEvent(t){Object(n.a)(h,t,t=>this._onWheelEvent(t))}clickEvent(t){Object(n.a)(p,t,t=>this._onMouseEvent(t))}contextmenuEvent(t){Object(n.a)(g,t,t=>this._onMouseEvent(t))}viewEvent(t){Object(n.a)(m,t,t=>this._onEvent(t))}networkEvent(t){Object(n.a)(v,t,t=>this._onEvent(t))}dragEvent(t){Object(n.a)(b,t,t=>this._onDragEvent(t))}clipboardEvent(t){Object(n.a)(y,t,t=>this._onClipboardEvent(t))}keyboardEvent(t){Object(n.a)(w,t,t=>this._onKeyboardEvent(t))}_onPointerEvent(t){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(t))return;const e=this.onPointerEvent;switch(t.type){case"pointerdown":e.onPointerdown(t);break;case"pointerup":e.onPointerup(t);break;case"pointermove":e.onPointermove(t);break;case"pointerover":e.onPointerover(t);break;case"pointerenter":e.onPointerenter(t);break;case"pointercancel":e.onPointercancel(t);break;case"pointerout":e.onPointerout(t);break;case"pointerleave":e.onPointerleave(t)}}_onWheelEvent(t){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(t))return;const e=this.onWheelEvent;switch(t.type){case"wheel":e.onWheel(t)}}_onMouseEvent(t){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(t))return;const e=this.onMouseEvent;switch(t.type){case"click":e.onClick(t);break;case"dblclick":e.onDblClick(t);break;case"contextmenu":e.onContextmenu(t)}}_onEvent(t){const e=this.onEvent;switch(t.type){case"fullscreenchange":e.onFullscreenchange(t);break;case"fullscreenerror":e.onFullscreenerror(t);break;case"online":e.onOnline(t);break;case"offline":e.onOffline(t)}}_onDragEvent(t){if(this.notifier.notifyType===d.GLOBAL&&this._isTargetArea(t))return;const e=this.onDragEvent;switch(t.type){case"drag":e.onDrag(t);break;case"dragend":e.onDragend(t);break;case"dragenter":e.onDragenter(t);break;case"dragstart":e.onDragstart(t);break;case"dragleave":e.onDragleave(t);break;case"dragover":e.onDragover(t);break;case"drop":e.onDrop(t)}}_onClipboardEvent(t){const e=this.onClipboardEvent;switch(t.type){case"cut":e.onCut(t);break;case"copy":e.onCopy(t);break;case"paste":e.onPaste(t)}}_onKeyboardEvent(t){const e=this.onKeyboardEvent;switch(t.type){case"keydown":e.onKeydown(t);break;case"keyup":e.onKeyup(t)}}_isTargetArea(t){if(!this.entity)return!1;const e=this.entity.element.getBoundingClientRect(),r=e.x,n=e.y;return r<=t.clientX&&t.clientX<=r+e.width&&n<=t.clientY&&t.clientY<=n+e.height}}class V extends H{constructor(t){super(t)}start(){this.pointerEvent(document),this.wheelEvent(document),this.clickEvent(document),this.contextmenuEvent(document),this.viewEvent(document),this.networkEvent(window),this.dragEvent(document),this.clipboardEvent(document),this.keyboardEvent(document)}}class K extends H{constructor(t){super(t)}start(){if(!this.entity)throw new Error("Entity is not properly set.");this.pointerEvent(this.entity.element),this.wheelEvent(this.entity.element),this.clickEvent(this.entity.element),this.contextmenuEvent(this.entity.element),this.dragEvent(this.entity.element)}}class Z{constructor(){this.pointer={prevButton:"",ongoingTouches:[],idleTimer:null,isDown:!1}}}class Y{constructor(){this.storeManager=null,this.pluginManager=null}init(t,e){this.storeManager=t,this.pluginManager=e}start(){if(!this.storeManager)throw new Error("EventManager is not properly initialized.");this._startEvents()}_startEvents(){const t=new Z;this._createGlobalEvents(t),this._createTargetEvents(t)}_createGlobalEvents(t){const e=new S;e.notifyType=d.GLOBAL;const r=new V({notifier:e,eventStore:t});r.init(this.storeManager.store.entity),r.start(),this._observe(e)}_createTargetEvents(t){const e=this.storeManager.store.entity;if(!e)return;const r=new S;r.notifyType=d.TARGET;const n=new K({notifier:r,eventStore:t});n.init(e),n.start(),this._observe(r)}_observe(t){t.observer().subscribe(t=>{this._updateStore(t)})}_updateStore(t){return Object(E.a)(this,void 0,void 0,function*(){const e=t.content.eventType,r=t.content.flags,n=t.content.values,i=t.content.defaultEvent;if(!r&&!n&&!i)return;const a=this.pluginManager.searchPluginsByEventType(e),o=this.pluginManager.searchPluginsByEventType(c.ANY);for(let t=0;t<o.length;t++){const e=o[t];e.plugin.isLoadAtStartup?a.unshift(e):a.push(e)}this.storeManager.updateNotifyType(t.notifyType),this.storeManager.updateDefaultEvent(i),this.storeManager.updateFlags(e,r),this.storeManager.updateValues(e,n),e===c.POINTER&&this.storeManager.updatePointerOffset(r,n);for(let t=0;t<a.length;t++){const r=a[t],n=r.plugin;yield n.call(this.storeManager.store,this.storeManager.userStore),n.isNotifierEnabled&&(this.storeManager.updateNotifier.notifyType=e,this.storeManager.updateNotifier.update({pluginNama:r.pluginName,store:this.storeManager.store,userStore:this.storeManager.userStore}))}})}}let X=(()=>{class t{constructor(){}static registerPlugin(e){const r=e.plugin.pluginType;if(!t.plugins[r])throw new Error("Invalid plugin category is detected.");t.plugins[r].push(e)}searchPluginsByEventType(e){let r=[];if(!t.plugins[e])throw new Error("Invalid plugin category is detected.");return r.push(...t.plugins[e]),r}searchPluginByName(t,e){return this.searchPluginsByEventType(t).filter(t=>t.pluginName===e)[0]}}return t.anys=[],t.clipboards=[],t.keyboards=[],t.pointers=[],t.drags=[],t.events=[],t.mouses=[],t.wheels=[],t.renders=[],t.plugins={[c.ANY]:t.anys,[c.CLIPBOARD]:t.clipboards,[c.KEYBOARD]:t.keyboards,[c.POINTER]:t.pointers,[c.DRAG]:t.drags,[c.EVENT]:t.events,[c.MOUSE]:t.mouses,[c.WHEEL]:t.wheels,[c.RENDER]:t.renders},t})();class q{constructor(){this.storeManager=null,this.pluginManager=null}init(t,e){this.storeManager=t,this.pluginManager=e}start(){if(!this.storeManager)throw new Error("RendererManager is not properly initialized.");this._render()}_render(){this.pluginManager.searchPluginsByEventType(c.RENDER).forEach(t=>{t.plugin.call(this.storeManager.store,this.storeManager.userStore)})}}class J{constructor(){this._storeManager=null,this._pluginManager=null,this._eventManager=null,this._rendererManager=null}get store(){return this._storeManager}get plugin(){return this._pluginManager}get event(){return this._eventManager}get renderer(){return this._rendererManager}registerPlugin(t){X.registerPlugin(t)}init(t,e){const r=new k;t&&r.registerEntity(t),e&&r.registerStore(e),this._storeManager=r;const n=new X;this._pluginManager=n;const i=new Y;i.init(r,n),this._eventManager=i;const a=new q;a.init(r,n),this._rendererManager=a}start(){this.event.start(),Object(n.j)(()=>this._renderer())}_renderer(){this.renderer.start()}}class Q{constructor(t){this.store=null,this.userStore=null,this.resolve=null,this.pluginType=t.pluginType,this.isNotifierEnabled=!!t.isNotifierEnabled,this.isLoadAtStartup=!!t.isLoadAtStartup}call(t,e){this.store=t,this.userStore=e}}class ${constructor(t){if(this.element=t,!t)throw new Error("element is not set properly")}}var tt=function(t){return t.UPDATE_SIZE="UPDATE_SIZE",t.UPDATE_OFFSET="UPDATE_OFFSET",t.UPDATE_ROTATION="UPDATE_ROTATION",t}({});const et={[tt.UPDATE_SIZE]:(t,e)=>{const r=e.states.common,n=r.width,i=r.height;return{execute(){const e=t.values.pointer.diff;r.width+=e.x,r.height+=e.y},undo(){r.width=n,r.height=i}}},[tt.UPDATE_OFFSET]:(t,e)=>{const r=e.states.common.offset,n=r.new.x,i=r.new.y;return{execute(){const e=t.values.pointer.diff;r.new.x=r.prev.x+e.x,r.new.y=r.prev.y+e.y},undo(){r.new.x=n,r.new.y=i}}},[tt.UPDATE_ROTATION]:()=>{}};class rt{constructor(t){this.states={common:{width:0,height:0,offset:{new:{x:0,y:0},prev:{x:0,y:0}},rotation:0},extra:{}},this.history={commands:[],position:0},this.prevCommand=null,this.states.extra=t||{}}initOffset(t){this.states.common.offset.new=t}doCommand(t,e){const r=this.history;if(r.position<r.commands.length-1&&(r.commands=r.commands.slice(0,r.position+1)),et[t]){const r=et[t](e,this);this.prevCommand=r,r.execute()}}save(t,e){if(!this.prevCommand)return;const r=this.history;r.commands.push(this.prevCommand),r.position+=1,this.prevCommand=null}undo(){const t=this.history;t.position>0&&(t.commands[t.position].undo(),t.position-=1)}redo(){const t=this.history;t.position<t.commands.length-1&&(t.position+=1,t.commands[t.position].execute())}updatePrevOffset(t){this.states.common.offset.prev.x=t.x,this.states.common.offset.prev.y=t.y}}},BJdv:function(t,e,r){(function(e){var n=r("qXd6").strict;t.exports=function(t){if(n(t)){var r=e.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}return e.from(t)}}).call(this,r("tjlA").Buffer)},Cwy7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeEffects=e.readEffects=void 0;var n=r("WSo5"),i=r("DueJ"),a=r("lgos"),o=[void 0,"outer bevel","inner bevel","emboss","pillow emboss","stroke emboss"];function s(t){return i.checkSignature(t,"8BIM"),n.toBlendMode[i.readSignature(t)]||"normal"}function l(t,e){a.writeSignature(t,"8BIM"),a.writeSignature(t,n.fromBlendMode[e]||"norm")}function u(t){return i.readUint8(t)/255}function d(t,e){a.writeUint8(t,0|Math.round(255*e))}function c(t,e){var r;a.writeUint32(t,51),a.writeUint32(t,2),a.writeFixedPoint32(t,e.size&&e.size.value||0),a.writeFixedPoint32(t,0),a.writeFixedPoint32(t,e.angle||0),a.writeFixedPoint32(t,e.distance&&e.distance.value||0),a.writeColor(t,e.color),l(t,e.blendMode),a.writeUint8(t,e.enabled?1:0),a.writeUint8(t,e.useGlobalLight?1:0),d(t,null!==(r=e.opacity)&&void 0!==r?r:1),a.writeColor(t,e.color)}e.readEffects=function(t){var e=i.readUint16(t);if(0!==e)throw new Error("Invalid effects layer version: "+e);for(var r=i.readUint16(t),n={},a=0;a<r;a++){i.checkSignature(t,"8BIM");var l=i.readSignature(t);switch(l){case"cmnS":var d=i.readUint32(t),c=i.readUint32(t),f=!!i.readUint8(t);if(i.skipBytes(t,2),7!==d||0!==c||!f)throw new Error("Invalid effects common state");break;case"dsdw":case"isdw":var h=i.readUint32(t),p=i.readUint32(t);if(41!==h&&51!==h)throw new Error("Invalid shadow size: "+h);if(0!==p&&2!==p)throw new Error("Invalid shadow version: "+p);d=i.readFixedPoint32(t),i.readFixedPoint32(t);var g=i.readFixedPoint32(t),m=i.readFixedPoint32(t),v=i.readColor(t),b=s(t),y=!!i.readUint8(t),w=!!i.readUint8(t),_=u(t);h>=51&&i.readColor(t);var x={size:{units:"Pixels",value:d},distance:{units:"Pixels",value:m},angle:g,color:v,blendMode:b,enabled:y,useGlobalLight:w,opacity:_};"dsdw"===l?n.dropShadow=x:n.innerShadow=x;break;case"oglw":h=i.readUint32(t);var S=i.readUint32(t);if(32!==h&&42!==h)throw new Error("Invalid outer glow size: "+h);if(0!==S&&2!==S)throw new Error("Invalid outer glow version: "+S);d=i.readFixedPoint32(t),i.readFixedPoint32(t),v=i.readColor(t),b=s(t),y=!!i.readUint8(t),_=u(t),h>=42&&i.readColor(t),n.outerGlow={size:{units:"Pixels",value:d},color:v,blendMode:b,enabled:y,opacity:_};break;case"iglw":h=i.readUint32(t);var k=i.readUint32(t);if(32!==h&&43!==h)throw new Error("Invalid inner glow size: "+h);if(0!==k&&2!==k)throw new Error("Invalid inner glow version: "+k);d=i.readFixedPoint32(t),i.readFixedPoint32(t),v=i.readColor(t),b=s(t),y=!!i.readUint8(t),_=u(t),h>=43&&(i.readUint8(t),i.readColor(t)),n.innerGlow={size:{units:"Pixels",value:d},color:v,blendMode:b,enabled:y,opacity:_};break;case"bevl":h=i.readUint32(t);var E=i.readUint32(t);if(58!==h&&78!==h)throw new Error("Invalid bevel size: "+h);if(0!==E&&2!==E)throw new Error("Invalid bevel version: "+E);g=i.readFixedPoint32(t);var B=i.readFixedPoint32(t),T=(d=i.readFixedPoint32(t),s(t)),C=s(t),R=i.readColor(t),A=i.readColor(t),I=o[i.readUint8(t)]||"inner bevel",D=u(t),L=u(t),O=(y=!!i.readUint8(t),w=!!i.readUint8(t),i.readUint8(t)?"down":"up");h>=78&&(i.readColor(t),i.readColor(t)),n.bevel={size:{units:"Pixels",value:d},angle:g,strength:B,highlightBlendMode:T,shadowBlendMode:C,highlightColor:R,shadowColor:A,style:I,highlightOpacity:D,shadowOpacity:L,enabled:y,useGlobalLight:w,direction:O};break;case"sofi":d=i.readUint32(t);var P=i.readUint32(t);if(34!==d)throw new Error("Invalid effects solid fill info size: "+d);if(2!==P)throw new Error("Invalid effects solid fill info version: "+P);b=s(t),v=i.readColor(t),_=u(t),y=!!i.readUint8(t),i.readColor(t),n.solidFill={blendMode:b,color:v,opacity:_,enabled:y};break;default:throw new Error("Invalid effect type: '"+l+"'")}}return n},e.writeEffects=function(t,e){var r,n,i;a.writeUint16(t,0);var s=1;if(e.dropShadow&&s++,e.innerShadow&&s++,e.outerGlow&&s++,e.innerGlow&&s++,e.bevel&&s++,e.solidFill&&s++,a.writeUint16(t,s),a.writeSignature(t,"8BIM"),a.writeSignature(t,"cmnS"),a.writeUint32(t,7),a.writeUint32(t,0),a.writeUint8(t,1),a.writeZeros(t,2),e.dropShadow&&(a.writeSignature(t,"8BIM"),a.writeSignature(t,"dsdw"),c(t,e.dropShadow)),e.innerShadow&&(a.writeSignature(t,"8BIM"),a.writeSignature(t,"isdw"),c(t,e.innerShadow)),e.outerGlow&&(a.writeSignature(t,"8BIM"),a.writeSignature(t,"oglw"),a.writeUint32(t,42),a.writeUint32(t,2),a.writeFixedPoint32(t,(null===(r=e.outerGlow.size)||void 0===r?void 0:r.value)||0),a.writeFixedPoint32(t,0),a.writeColor(t,e.outerGlow.color),l(t,e.outerGlow.blendMode),a.writeUint8(t,e.outerGlow.enabled?1:0),d(t,e.outerGlow.opacity||0),a.writeColor(t,e.outerGlow.color)),e.innerGlow&&(a.writeSignature(t,"8BIM"),a.writeSignature(t,"iglw"),a.writeUint32(t,43),a.writeUint32(t,2),a.writeFixedPoint32(t,(null===(n=e.innerGlow.size)||void 0===n?void 0:n.value)||0),a.writeFixedPoint32(t,0),a.writeColor(t,e.innerGlow.color),l(t,e.innerGlow.blendMode),a.writeUint8(t,e.innerGlow.enabled?1:0),d(t,e.innerGlow.opacity||0),a.writeUint8(t,0),a.writeColor(t,e.innerGlow.color)),e.bevel){a.writeSignature(t,"8BIM"),a.writeSignature(t,"bevl"),a.writeUint32(t,78),a.writeUint32(t,2),a.writeFixedPoint32(t,e.bevel.angle||0),a.writeFixedPoint32(t,e.bevel.strength||0),a.writeFixedPoint32(t,(null===(i=e.bevel.size)||void 0===i?void 0:i.value)||0),l(t,e.bevel.highlightBlendMode),l(t,e.bevel.shadowBlendMode),a.writeColor(t,e.bevel.highlightColor),a.writeColor(t,e.bevel.shadowColor);var u=o.indexOf(e.bevel.style);a.writeUint8(t,u<=0?1:u),d(t,e.bevel.highlightOpacity||0),d(t,e.bevel.shadowOpacity||0),a.writeUint8(t,e.bevel.enabled?1:0),a.writeUint8(t,e.bevel.useGlobalLight?1:0),a.writeUint8(t,"down"===e.bevel.direction?1:0),a.writeColor(t,e.bevel.highlightColor),a.writeColor(t,e.bevel.shadowColor)}e.solidFill&&(a.writeSignature(t,"8BIM"),a.writeSignature(t,"sofi"),a.writeUint32(t,34),a.writeUint32(t,2),l(t,e.solidFill.blendMode),a.writeColor(t,e.solidFill.color),d(t,e.solidFill.opacity||0),a.writeUint8(t,e.solidFill.enabled?1:0),a.writeColor(t,e.solidFill.color))}},DueJ:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readPattern=e.readColor=e.readSection=e.readDataRLE=e.readPsd=e.checkSignature=e.skipBytes=e.readAsciiString=e.readUnicodeStringWithLength=e.readUnicodeString=e.readPascalString=e.readSignature=e.readBytes=e.readFixedPointPath32=e.readFixedPoint32=e.readFloat64=e.readFloat32=e.readUint32=e.readInt32LE=e.readInt32=e.readUint16=e.readInt16=e.peekUint8=e.readUint8=e.createReader=e.supportedColorModes=void 0;var n=r("WSo5"),i=r("1QtO"),a=r("x4Ov");e.supportedColorModes=[0,1,3];var o=["bitmap","grayscale","indexed","RGB","CMYK","multichannel","duotone","lab"];function s(t){for(var e=t.width*t.height*4,r=0;r<e;r+=4)t.data[r+1]=t.data[r],t.data[r+2]=t.data[r]}function l(t){return t.offset+=1,t.view.getUint8(t.offset-1)}function u(t){return t.view.getUint8(t.offset)}function d(t){return t.offset+=2,t.view.getInt16(t.offset-2,!1)}function c(t){return t.offset+=2,t.view.getUint16(t.offset-2,!1)}function f(t){return t.offset+=4,t.view.getInt32(t.offset-4,!1)}function h(t){return t.offset+=4,t.view.getUint32(t.offset-4,!1)}function p(t){return t.offset+=8,t.view.getFloat64(t.offset-8,!1)}function g(t,e){return t.offset+=e,new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset-e,e)}function m(t){return x(t,4)}function v(t,e){for(var r=l(t),n=x(t,r);++r%e;)w(t,1);return n}function b(t){return y(t,h(t))}function y(t,e){for(var r="";e--;){var n=c(t);(n||e>0)&&(r+=String.fromCharCode(n))}return r}function w(t,e){t.offset+=e}function _(t,e,r){var n=t.offset,i=m(t);if(i!==e&&i!==r)throw new Error("Invalid signature: '"+i+"' at 0x"+n.toString(16))}function x(t,e){var r=g(t,e);return String.fromCharCode.apply(String,r)}function S(t,e,r){var i={};i.top=f(t),i.left=f(t),i.bottom=f(t),i.right=f(t);for(var a=c(t),o=[],s=0;s<a;s++){var u=d(t),g=f(t);o.push({id:u,length:g})}_(t,"8BIM");var b=m(t);if(!n.toBlendMode[b])throw new Error("Invalid blend mode: '"+b+"'");i.blendMode=n.toBlendMode[b],i.opacity=l(t)/255,i.clipping=1===l(t);var y=l(t);return i.transparencyProtected=0!=(1&y),i.hidden=0!=(2&y),w(t,1),R(t,1,function(n){var a=function(t,e){return R(t,1,function(r){if(r()){var n={};n.top=f(t),n.left=f(t),n.bottom=f(t),n.right=f(t),n.defaultColor=l(t);var i=l(t);if(n.positionRelativeToLayer=0!=(1&i),n.disabled=0!=(2&i),n.fromVectorData=0!=(8&i),16&i){var a=l(t);1&a&&(n.userMaskDensity=l(t)/255),2&a&&(n.userMaskFeather=p(t)),4&a&&(n.vectorMaskDensity=l(t)/255),8&a&&(n.vectorMaskFeather=p(t))}return r()>2&&(e.logMissingFeatures&&console.log("Unhandled extra mask params"),l(t),l(t),f(t),f(t),f(t),f(t)),w(t,r()),n}})}(t,r);for(a&&(i.mask=a),function(t){R(t,1,function(e){for(var r=h(t),n=h(t),i=[];e();){var a=h(t),o=h(t);i.push({sourceRange:a,destRange:o})}return{compositeGrayBlendSource:r,compositeGraphBlendDestinationRange:n,ranges:i}})}(t),i.name=v(t,4);n();)B(t,i,e,r)}),{layer:i,channels:o}}function k(t,e,r,i,a){var o,l=(r.right||0)-(r.left||0),u=(r.bottom||0)-(r.top||0);l&&u&&(o=n.createImageData(l,u),n.resetImageData(o));for(var d=0,f=i;d<f.length;d++){var h=f[d],p=c(t);if(-2===h.id){var g=r.mask;if(!g)throw new Error("Missing layer mask data");var m=(g.right||0)-(g.left||0),v=(g.bottom||0)-(g.top||0);if(m&&v){var b=n.createImageData(m,v);n.resetImageData(b),E(t,b,p,m,v,0),s(b),a.useImageData?g.imageData=b:(g.canvas=n.createCanvas(m,v),g.canvas.getContext("2d").putImageData(b,0,0))}}else{var y=n.offsetForChannel(h.id),w=o;if(y<0&&(w=void 0,a.throwForMissingFeatures))throw new Error("Channel not supported: "+h.id);E(t,w,p,l,u,y),w&&1===e.colorMode&&s(w)}}o&&(a.useImageData?r.imageData=o:(r.canvas=n.createCanvas(l,u),r.canvas.getContext("2d").putImageData(o,0,0)))}function E(t,e,r,n,i,a){if(0===r)T(t,e,a,n,i);else{if(1!==r)throw new Error("Compression type not supported: "+r);C(t,e,0,i,4,[a])}}function B(t,e,r,n){_(t,"8BIM","8B64");var a=m(t);R(t,2,function(o){var s=i.infoHandlersMap[a];if(s)try{s.read(t,e,o,r,n)}catch(l){if(n.throwForMissingFeatures)throw l}else n.logMissingFeatures&&console.log("Unhandled additional info: "+a),w(t,o());o()&&(n.logMissingFeatures&&console.log("Unread "+o()+" bytes left for tag: "+a),w(t,o()))},!1)}function T(t,e,r,n,i){var a=n*i,o=g(t,a);if(e&&r<4)for(var s=e.data,l=0,u=0|r;l<a;l++,u=u+4|0)s[u]=o[l]}function C(t,e,r,n,i,a){for(var o=new Uint16Array(a.length*n),s=e&&e.data,l=0,u=0;l<a.length;l++)for(var d=0;d<n;d++,u++)o[u]=c(t);var f=0;for(u=0;f<a.length;f++){var h=0|a[f];if(!s||f>3||h>3)for(d=0;d<n;d++,u++)w(t,o[u]);else{d=0;for(var p=0|h;d<n;d++,u++)for(var m=o[u],v=g(t,m),b=0;b<m;b++){var y=v[b];if(y>128){var _=v[++b];y=256-y|0;for(var x=0;x<=y;x=x+1|0)s[p]=_,p=p+i|0}else if(y<128)for(x=0;x<=y;x=x+1|0)s[p]=v[++b],p=p+i|0;if(b>=m)throw new Error("Invalid RLE data: exceeded buffer size "+b+"/"+m)}}}}function R(t,e,r,n){void 0===n&&(n=!0);var i=f(t);if(!(i<=0&&n)){var a=t.offset+i,o=r(function(){return a-t.offset});if(t.offset>a)throw new Error("Exceeded section limits");if(t.offset!==a)throw new Error("Unread section data: "+(a-t.offset)+" bytes at 0x"+t.offset.toString(16));for(;a%e;)a++;return t.offset=a,o}}e.createReader=function(t,e,r){return{view:new DataView(t,e,r),offset:0}},e.readUint8=l,e.peekUint8=u,e.readInt16=d,e.readUint16=c,e.readInt32=f,e.readInt32LE=function(t){return t.offset+=4,t.view.getInt32(t.offset-4,!0)},e.readUint32=h,e.readFloat32=function(t){return t.offset+=4,t.view.getFloat32(t.offset-4,!1)},e.readFloat64=p,e.readFixedPoint32=function(t){return f(t)/65536},e.readFixedPointPath32=function(t){return f(t)/(1<<24)},e.readBytes=g,e.readSignature=m,e.readPascalString=v,e.readUnicodeString=b,e.readUnicodeStringWithLength=y,e.readAsciiString=function(t,e){for(var r="";e--;)r+=String.fromCharCode(l(t));return r},e.skipBytes=w,e.checkSignature=_,e.readPsd=function(t,r){var i;void 0===r&&(r={}),_(t,"8BPS");var f=c(t);if(1!==f)throw new Error("Invalid PSD file version: "+f);w(t,6);var p=c(t),m=h(t),b=h(t),y=c(t),x=c(t);if(-1===e.supportedColorModes.indexOf(x))throw new Error("Color mode not supported: "+(null!==(i=o[x])&&void 0!==i?i:x));var E={width:b,height:m,channels:p,bitsPerChannel:y,colorMode:x};R(t,1,function(e){if(r.throwForMissingFeatures)throw new Error("Color mode data not supported");w(t,e())}),R(t,1,function(e){for(var n=function(){_(t,"8BIM");var e=c(t);v(t,2),R(t,2,function(n){var i=a.resourceHandlersMap[e],o=1036===e&&!!r.skipThumbnail;if(E.imageResources||(E.imageResources={}),i&&!o)try{i.read(t,E.imageResources,n,r)}catch(s){if(r.throwForMissingFeatures)throw s;w(t,n())}else w(t,n())})};e();)n()});var A=!1;return R(t,1,function(e){if(A=function(t,e,r){var n=!1;return R(t,2,function(i){var a=d(t);a<0&&(n=!0,a=-a);for(var o=[],s=[],l=0;l<a;l++){var u=S(t,e,r),c=u.channels;o.push(u.layer),s.push(c)}if(!r.skipLayerImageData)for(l=0;l<a;l++)k(t,e,o[l],s[l],r);w(t,i()),e.children||(e.children=[]);var f=[e];for(l=o.length-1;l>=0;l--){var h=o[l],p=h.sectionDivider?h.sectionDivider.type:0;1===p||2===p?(h.opened=1===p,h.children=[],f[f.length-1].children.unshift(h),f.push(h)):3===p?f.pop():f[f.length-1].children.unshift(h)}}),n}(t,E,r),e()>0){var n=function(t){return R(t,1,function(e){if(e()){var r=c(t),n=c(t),i=c(t),a=c(t),o=c(t),s=c(t)/255,u=l(t);return w(t,e()),{overlayColorSpace:r,colorSpace1:n,colorSpace2:i,colorSpace3:a,colorSpace4:o,opacity:s,kind:u}}})}(t);n&&(E.globalLayerMaskInfo=n)}else w(t,e());for(;e()>0;){for(;e()&&0===u(t);)w(t,1);e()>=12?B(t,E,E,r):w(t,e())}}),r.skipCompositeImageData&&(r.skipLayerImageData||E.children&&E.children.length)||function(t,r,i,a){var o=c(t);if(-1===e.supportedColorModes.indexOf(r.colorMode))throw new Error("Color mode not supported: "+r.colorMode);if(0!==o&&1!==o)throw new Error("Compression type not supported: "+o);var l=n.createImageData(r.width,r.height);if(n.resetImageData(l),0===r.colorMode){var u=void 0;if(0===o)u=g(t,Math.ceil(r.width/8)*r.height);else{if(1!==o)throw new Error("Bitmap compression not supported: "+o);C(t,{data:u=new Uint8Array(r.width*r.height),width:r.width,height:r.height},0,r.height,1,[0])}n.decodeBitmap(u,l.data,r.width,r.height)}else{var d=1===r.colorMode?[0]:[0,1,2];if(r.channels&&r.channels>3)for(var f=3;f<r.channels;f++)d.push(f);else i&&d.push(3);if(0===o)for(f=0;f<d.length;f++)T(t,l,d[f],r.width,r.height);else 1===o&&C(t,l,0,r.height,4,d);1===r.colorMode&&s(l)}a.useImageData?r.imageData=l:(r.canvas=n.createCanvas(r.width,r.height),r.canvas.getContext("2d").putImageData(l,0,0))}(t,E,A,r),E},e.readDataRLE=C,e.readSection=R,e.readColor=function(t){switch(c(t)){case 0:var e=c(t)/257,r=c(t)/257,n=c(t)/257;return w(t,2),{r:e,g:r,b:n};case 7:var i=d(t)/100,a=d(t)/100;return n=d(t)/100,w(t,2),{l:i,a:a,b:n};case 2:return{c:d(t),m:d(t),y:d(t),k:o=d(t)};case 8:var o=d(t);return w(t,6),{k:o};case 1:var s=d(t),l=d(t);return n=d(t),w(t,2),{h:s,s:l,b:n};default:throw new Error("Invalid color space")}},e.readPattern=function(t){h(t);var e=h(t);if(1!==e)throw new Error("Invalid pattern version: "+e);var r=h(t),n=d(t),i=d(t);if(3!==r&&1!==r)throw new Error("Unsupported pattern color mode");var a=b(t),o=v(t,1),s=h(t);if(3!==s)throw new Error("Invalid pattern VMAL version: "+s);h(t);for(var u=h(t),f=h(t),p=h(t),m=h(t),y=h(t),w=m-f,_=p-u,x=new Uint8Array(w*_*4),S=3;S<x.byteLength;S+=4)x[S]=255;S=0;for(var k=0;S<y+2;S++)if(h(t)){var E=h(t),B=h(t),T=h(t),C=h(t),R=h(t),A=h(t),I=c(t),D=l(t),L=g(t,E-23);if(8!==B||8!==I)throw new Error("16bit pixel depth not supported in palettes");if(0!==D)throw new Error("Zip compression not supported in palettes");var O=A-C,P=R-T,F=C-f,U=T-u;if(3===r&&k<3)for(var M=0;M<P;M++)for(var N=0;N<O;N++)x[(G=4*(F+N+(M+U)*w))+k]=L[N+M*O];if(1===r&&k<1)for(var z=0;z<P;z++)for(var j=0;j<O;j++){var G,W=L[j+z*O];x[0+(G=4*(F+j+(z+U)*w))]=W,x[G+1]=W,x[G+2]=W}k++}return{id:o,name:a,x:n,y:i,bounds:{x:f,y:u,w:w,h:_},data:x}}},GMPE:function(t,e,r){"use strict";function n(t,e,r){for(let n=0;n<t.length;n++)e.addEventListener(t[n],t=>r(t),!1)}function i(t){const e=()=>{t(),requestAnimationFrame(e)};requestAnimationFrame(e)}function a(t,e){const r=(n=t.getContext("2d"),(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1));var n;t.width=e.width*r,t.height=e.height*r}function o(t,e){return t.slice(0,e).concat(t.slice(e+1,t.length))}function s(t,e){return!!t&&Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function u(t,e){const r=e.width>e.height,n=r?e.width/e.height:e.height/e.width;return{width:r?t*n:t,height:r?t:t*n}}function d(t,e,r){const n=new Image;return n.crossOrigin="Anonymous",n.src=t instanceof Blob?URL.createObjectURL(t):t,n.decode().then(()=>{e&&e(n),t instanceof Blob&&URL.revokeObjectURL(n.src)}).catch(()=>{console.error("Could not load/decode an image."),r&&r()}),n}r.d(e,"a",function(){return n}),r.d(e,"j",function(){return i}),r.d(e,"g",function(){return a}),r.d(e,"h",function(){return o}),r.d(e,"f",function(){return s}),r.d(e,"e",function(){return l}),r.d(e,"b",function(){return u}),r.d(e,"c",function(){return d}),r.d(e,"k",function(){return p}),r.d(e,"d",function(){return w}),r.d(e,"i",function(){return _}),r("bdgK");var c,f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(t){return"string"==typeof t&&f.test(t)};function p(t,e){return new RegExp(e).test(t.type?t.type:t.name)}var g=new Uint8Array(16);function m(){if(!c&&!(c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(g)}for(var v=[],b=0;b<256;++b)v.push((b+256).toString(16).substr(1));var y=function(t,e,r){var n=(t=t||{}).random||(t.rng||m)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(v[t[e+0]]+v[t[e+1]]+v[t[e+2]]+v[t[e+3]]+"-"+v[t[e+4]]+v[t[e+5]]+"-"+v[t[e+6]]+v[t[e+7]]+"-"+v[t[e+8]]+v[t[e+9]]+"-"+v[t[e+10]]+v[t[e+11]]+v[t[e+12]]+v[t[e+13]]+v[t[e+14]]+v[t[e+15]]).toLowerCase();if(!h(r))throw TypeError("Stringified UUID is invalid");return r}(n)};function w(){return y()}function _(t){return t.split("/").slice(-1).pop()}},GwSj:function(t,e,r){"use strict";r.r(e),r.d(e,"ViewerModule",function(){return j});var n=r("ofXK"),i=r("tyNb"),a=r("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-header"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-footer"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})();var l=r("MRUz");let u=(()=>{class t{constructor(){}ngOnInit(){}getLayers(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-renderer"]],decls:1,vars:0,consts:[[3,"emitLayers"]],template:function(t,e){1&t&&(a.Kb(0,"seek-psd-canvas",0),a.Rb("emitLayers",function(t){return e.getLayers(t)}),a.Jb())},directives:[l.a],styles:[""]}),t})(),d=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-toggle-slider-button"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-dark-mode"]],decls:1,vars:0,template:function(t,e){1&t&&a.Ib(0,"seek-psd-toggle-slider-button")},directives:[d],styles:[""]}),t})(),f=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-tools"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-layers"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})();const p=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["seek-psd-viewer-page"]],decls:6,vars:0,template:function(t,e){1&t&&(a.Ib(0,"seek-psd-header"),a.Ib(1,"seek-psd-footer"),a.Ib(2,"seek-psd-renderer"),a.Ib(3,"seek-psd-dark-mode"),a.Ib(4,"seek-psd-tools"),a.Ib(5,"seek-psd-layers"))},directives:[o,s,u,c,f,h],styles:["p[_ngcontent-%COMP%]{color:var(--accent-color-right)}"]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[i.c.forChild(p)],i.c]}),t})();r("XNiG"),r("2Vo4"),r("HDdC"),r("VRyK"),r("quSY"),r("LRne"),r("xgIS"),r("pLZG"),r("lJxs"),r("7o/Q"),r("eIep"),r("zx2A"),r("IzEk"),r("vkgz");const m={provide:a.b,useFactory:function(t,e){return()=>{if(Object(n.m)(e)){const e=Array.from(t.querySelectorAll(`[class*=${v}]`)),r=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(`${v}ssr`)&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(r,"")})}}},deps:[n.c,a.C],multi:!0},v="flex-layout-";let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({providers:[m]}),t})();const y={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},w=new a.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>y}),_=new a.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),x=new a.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null}),S=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],k="(orientation: portrait) and (max-width: 599.98px)",E="(orientation: landscape) and (max-width: 959.98px)",B="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",T="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",C="(orientation: portrait) and (min-width: 840px)",R="(orientation: landscape) and (min-width: 1280px)",A={HANDSET:`${k}, ${E}`,TABLET:`${B} , ${T}`,WEB:`${C}, ${R} `,HANDSET_PORTRAIT:`${k}`,TABLET_PORTRAIT:`${B} `,WEB_PORTRAIT:`${C}`,HANDSET_LANDSCAPE:`${E}`,TABLET_LANDSCAPE:`${T}`,WEB_LANDSCAPE:`${R}`},I=[{alias:"handset",priority:2e3,mediaQuery:A.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:A.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:A.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:A.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:A.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:A.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:A.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:A.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:A.WEB_PORTRAIT,overlapping:!0}],D=/(\.|-|_)/g;function L(t){let e=t.length>0?t.charAt(0):"",r=t.length>1?t.slice(1):"";return e.toUpperCase()+r}new a.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(a.T)(x),e=Object(a.T)(w),r=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const r={};return t.forEach(t=>{r[t.alias]=t}),e.forEach(t=>{r[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let r of e)if(null!=r)for(let e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}(r[t.alias],t):r[t.alias]=t}),(n=Object.keys(r).map(t=>r[t])).forEach(t=>{t.suffix||(t.suffix=t.alias.replace(D,"|").split("|").map(L).join(""),t.overlapping=!!t.overlapping)}),n;var n}((e.disableDefaultBps?[]:S).concat(e.addOrientationBps?I:[]),r)}}),r("jhN1"),new Map,new WeakMap;let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[b]]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[b,P]]}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[b]]}),t})();new a.O("11.0.0-beta.33");let M=(()=>{class t{constructor(t,e){Object(n.n)(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:w,useValue:Object.assign(Object.assign({},y),e)},{provide:x,useValue:r,multi:!0},{provide:_,useValue:!0}]:[{provide:w,useValue:Object.assign(Object.assign({},y),e)},{provide:x,useValue:r,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(_),a.Nb(a.C))},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[F,O,U],F,O,U]}),t})(),N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[n.b]]}),t})(),z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[n.b]]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({imports:[[n.b,g,M,N,z]]}),t})()},Gwi7:function(t,e,r){"use strict";var n={};function i(t,e,r){r||(r=Error);var i=function(t){var r,n;function i(r,n,i){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i))||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=t,n[t]=i}function a(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(t){return String(t)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(t,e,r){var n,i,o,s;if("string"==typeof e&&"not "===e.substr(0,"not ".length)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))i="The ".concat(t," ").concat(n," ").concat(a(e,"type"));else{var l=("number"!=typeof s&&(s=0),s+".".length>(o=t).length||-1===o.indexOf(".",s)?"argument":"property");i='The "'.concat(t,'" ').concat(l," ").concat(n," ").concat(a(e,"type"))}return i+". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},H7XF:function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[1];return 3*(e[0]+r)/4-r},e.toByteArray=function(t){var e,r,n=u(t),o=n[0],s=n[1],l=new a(function(t,e,r){return 3*(e+r)/4-r}(0,o,s)),d=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],l[d++]=e>>16&255,l[d++]=e>>8&255,l[d++]=255&e;return 2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,l[d++]=255&e),1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,l[d++]=e>>8&255,l[d++]=255&e),l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(d(t,s,s+o>l?l:s+o));return 1===i?a.push(n[(e=t[r-1])>>2]+n[e<<4&63]+"=="):2===i&&a.push(n[(e=(t[r-2]<<8)+t[r-1])>>10]+n[e>>4&63]+n[e<<2&63]+"="),a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function d(t,e,r){for(var i,a=[],o=e;o<r;o+=3)a.push(n[(i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HkiG:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.ReadStreamTokenizer=void 0;const n=r("oEZn"),i=r("IPhx");e.ReadStreamTokenizer=class extends n.AbstractTokenizer{constructor(t,e){super(e),this.streamReader=new i.StreamReader(t)}async getFileInfo(){return this.fileInfo}async readBuffer(t,e){let r=0,n=t.length;if(e){if(Number.isInteger(e.length)?n=e.length:n-=e.offset||0,e.position){const r=e.position-this.position;if(r>0)return await this.ignore(r),this.readBuffer(t,e);if(r<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`")}e.offset&&(r=e.offset)}if(0===n)return 0;const a=await this.streamReader.read(t,r,n);if(this.position+=a,(!e||!e.mayBeLess)&&a<n)throw new i.EndOfStreamError;return a}async peekBuffer(e,r){let n,a=0,o=e.length;if(r&&(r.offset&&(a=r.offset),Number.isInteger(r.length)?o=r.length:o-=r.offset||0,r.position)){const i=r.position-this.position;if(i>0){const s=t.alloc(o+i);return n=await this.peekBuffer(s,{mayBeLess:r.mayBeLess}),s.copy(e,a,i),n-i}if(i<0)throw new Error("Cannot peek from a negative offset in a stream")}try{n=await this.streamReader.peek(e,a,o)}catch(s){if(r&&r.mayBeLess&&s instanceof i.EndOfStreamError)return 0;throw s}if((!r||!r.mayBeLess)&&n<o)throw new i.EndOfStreamError;return n}async ignore(e){const r=Math.min(256e3,e),n=t.alloc(r);let i=0;for(;i<e;){const t=e-i,a=await this.readBuffer(n,{length:Math.min(r,t)});if(a<0)return a;i+=a}return i}}}).call(this,r("tjlA").Buffer)},IPhx:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;const n=r("813Z");var i=r("813Z");Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}});class a{constructor(){this.promise=new Promise((t,e)=>{this.reject=e,this.resolve=t})}}e.StreamReader=class{constructor(t){if(this.s=t,this.endOfStream=!1,this.peekQueue=[],!t.read||!t.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new n.EndOfStreamError)),this.s.once("error",t=>this.reject(t)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(t,e,r){const n=await this.read(t,e,r);return this.peekQueue.push(t.slice(e,e+n)),n}async read(t,e,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new n.EndOfStreamError;let i=r,a=0;for(;this.peekQueue.length>0&&i>0;){const r=this.peekQueue.pop(),n=Math.min(r.length,i);r.copy(t,e+a,0,n),a+=n,i-=n,n<r.length&&this.peekQueue.push(r.slice(n))}for(;i>0&&!this.endOfStream;){const r=Math.min(i,1048576),n=await this._read(t,e+a,r);if(a+=n,n<r)break;i-=n}return a}async _read(t,e,r){if(this.request)throw new Error("Concurrent read operation?");const n=this.s.read(r);return n?(n.copy(t,e),n.length):(this.request={buffer:t,offset:e,length:r,deferred:new a},this.s.once("readable",()=>{this.tryRead()}),this.request.deferred.promise.then(t=>(this.request=null,t),t=>{throw this.request=null,t}))}tryRead(){const t=this.s.read(this.request.length);t?(t.copy(this.request.buffer,this.request.offset),this.request.deferred.resolve(t.length)):this.s.once("readable",()=>{this.tryRead()})}reject(t){this.endOfStream=!0,this.request&&(this.request.deferred.reject(t),this.request=null)}}},IcKz:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;const n=r("HkiG"),i=r("N3/w");var a=r("IPhx");Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),e.fromStream=function(t,e){return new n.ReadStreamTokenizer(t,e=e||{})},e.fromBuffer=function(t,e){return new i.BufferTokenizer(t,e)}},MRUz:function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return c});var n=r("ZHzF"),i=r("fXoL"),a=r("O25g"),o=r("LRne"),s=r("ANlV");const l=["layer"],u=["mainLayer"],d=["uiLayer"];let c=(()=>{class e{constructor(){this.emitLayers=new i.n,this._psd=null,this.renderTargetSets=[],this.count=0}get psd(){return this._psd}ngOnInit(){const t=new n.b;t.init(this.layer.nativeElement),[{name:n.c.MAIN_LAYER,target:this.psdLayer.nativeElement,buffer:document.createElement("canvas")},{name:n.c.UI_LAYER,target:this.uiLayer.nativeElement,buffer:document.createElement("canvas")}].forEach(e=>t.registerRenderTargetSet(e)),t.start(),this._emitLayers(),this._testWorker(),this._psd=t}_emitLayers(){this.emitLayers.emit({mainLayer:this.psdLayer,uiLayer:this.uiLayer})}_testWorker(){if("undefined"!=typeof Worker){const e=Object(o.a)("Hello from main thread");Object(a.a)(()=>new Worker(t,void 0),e).subscribe(t=>{console.log(t)})}else console.warn("Web worker is not supported in this browser.")}test(){this.psd.engine.plugin.searchPluginByName(s.b.DRAG,n.a).plugin.reRenderAll()}countUp(){this.count++}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Bb({type:e,selectors:[["seek-psd-canvas"]],viewQuery:function(t,e){if(1&t&&(i.Yb(l,3),i.Yb(u,3),i.Yb(d,3)),2&t){let t;i.Tb(t=i.Sb())&&(e.layer=t.first),i.Tb(t=i.Sb())&&(e.psdLayer=t.first),i.Tb(t=i.Sb())&&(e.uiLayer=t.first)}},outputs:{emitLayers:"emitLayers"},decls:13,vars:1,consts:[[1,"float"],[3,"click"],[1,"layer"],["layer",""],[1,"layer__psd"],["mainLayer",""],[1,"layer__ui"],["uiLayer",""]],template:function(t,e){1&t&&(i.Kb(0,"div",0),i.Kb(1,"button",1),i.Rb("click",function(){return e.test()}),i.Wb(2,"reRender"),i.Jb(),i.Kb(3,"button",1),i.Rb("click",function(){return e.countUp()}),i.Wb(4,"count"),i.Jb(),i.Kb(5,"div"),i.Wb(6),i.Jb(),i.Jb(),i.Kb(7,"div",2,3),i.Ib(9,"canvas",4,5),i.Ib(11,"canvas",6,7),i.Jb()),2&t&&(i.yb(6),i.Xb(e.count))},styles:[".float[_ngcontent-%COMP%]{position:absolute;right:0;z-index:1000}.float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff;width:100px}.layer[_ngcontent-%COMP%]{position:relative;background-color:var(--bg-secondary);width:100vw;max-width:100%;height:100vh}.layer[_ngcontent-%COMP%]   .layer__psd[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%]   .layer__ui[_ngcontent-%COMP%]{position:absolute;image-rendering:-webkit-crisp-edges;image-rendering:pixelated;image-rendering:crisp-edges;width:100%;height:100%}.layer__psd[_ngcontent-%COMP%]{z-index:0}.layer__ui[_ngcontent-%COMP%]{z-index:1}"]}),e})()}).call(this,r("OK+Z"))},"N3/w":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferTokenizer=void 0;const n=r("IPhx");e.BufferTokenizer=class{constructor(t,e){this.buffer=t,this.position=0,this.fileInfo=e||{},this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}async readBuffer(t,e){if(e&&e.position){if(e.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=e.position}return this.peekBuffer(t,e).then(t=>(this.position+=t,t))}async peekBuffer(t,e){let r=0,i=t.length,a=this.position;if(e){if(e.position){if(e.position<this.position)throw new Error("`options.position` can be less than `tokenizer.position`");a=e.position}Number.isInteger(e.length)?i=e.length:i-=e.offset||0,e.offset&&(r=e.offset)}if(0===i)return Promise.resolve(0);a=a||this.position,i||(i=t.length);const o=Math.min(this.buffer.length-a,i);if(e&&e.mayBeLess||!(o<i))return this.buffer.copy(t,r,a,a+o),o;throw new n.EndOfStreamError}async readToken(t,e){this.position=e||this.position;try{const e=this.peekToken(t,this.position);return this.position+=t.len,e}catch(r){throw this.position+=this.buffer.length-e,r}}async peekToken(t,e=this.position){if(this.buffer.length-e<t.len)throw new n.EndOfStreamError;return t.get(this.buffer,e)}async readNumber(t){return this.readToken(t)}async peekNumber(t){return this.peekToken(t)}async ignore(t){const e=Math.min(this.buffer.length-this.position,t);return this.position+=e,e}async close(){}}},O25g:function(t,e,r){"use strict";r.d(e,"a",function(){return p});var n=r("EY2u"),i=r("LRne"),a=r("HDdC");let o=(()=>{class t{constructor(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}}accept(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new a.a(e=>e.error(t));case"C":return Object(n.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();r("xgIS"),r("XNiG"),r("yCtX"),r("DH7j");var s=r("7o/Q");r("Lhse"),r("zx2A");var l=r("lJxs");r("pLZG");class u{call(t,e){return e.subscribe(new d(t))}}class d extends s.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}r("bOdf");class c{call(t,e){return e.subscribe(new f(t))}}class f extends s.a{constructor(t){super(t)}_next(t){this.destination.next(o.createNext(t))}_error(t){const e=this.destination;e.next(o.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(o.createComplete()),t.complete()}}var h=r("vkgz");function p(t,e,r,n={terminateOnComplete:!0}){return new a.a(i=>{let a,o;try{a=t(),a.onmessage=t=>i.next(t.data),a.onerror=t=>i.error(t),o=e.pipe(function(t){return t.lift(new c)},Object(h.a)(t=>{if(r&&t.hasValue){const e=r(t.value);a.postMessage(t,e)}else a.postMessage(t)})).subscribe()}catch(s){i.error(s)}return()=>{o&&o.unsubscribe(),a&&n.terminateOnComplete&&a.terminate()}}).pipe(Object(l.a)(({kind:t,value:e,error:r})=>new o(t,e,r)),function(t){return t.lift(new u)})}r("bHdf"),r("nYR2")},"OK+Z":function(t,e,r){t.exports=r.p+"0.fd78c6452ad3eccfde97.worker.js"},P7XM:function(t,e){t.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},URgk:function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r("yLpj"))},UYS0:function(t,e,r){t.exports=r("+qE3").EventEmitter},W3re:function(t,e,r){"use strict";e.stringToBytes=t=>[...t].map(t=>t.charCodeAt(0)),e.tarHeaderChecksumMatches=(t,e=0)=>{const r=parseInt(t.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let n=256;for(let i=e;i<e+148;i++)n+=t[i];for(let i=e+156;i<e+512;i++)n+=t[i];return r===n},e.uint32SyncSafeToken={get:(t,e)=>127&t[e+3]|t[e+2]<<7|t[e+1]<<14|t[e]<<21,len:4}},WSo5:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initializeCanvas=e.createImageData=e.createCanvasFromData=e.createCanvas=e.writeDataRLE=e.writeDataRaw=e.decodeBitmap=e.resetImageData=e.hasAlpha=e.clamp=e.offsetForChannel=e.Compression=e.ChannelID=e.MaskParams=e.LayerMaskFlags=e.ColorSpace=e.createEnum=e.revMap=e.layerColors=e.toBlendMode=e.fromBlendMode=void 0;var n,i,a,o,s,l=r("H7XF");function u(t){var e={};return Object.keys(t).forEach(function(r){return e[t[r]]=r}),e}e.fromBlendMode={},e.toBlendMode={pass:"pass through",norm:"normal",diss:"dissolve",dark:"darken","mul ":"multiply",idiv:"color burn",lbrn:"linear burn",dkCl:"darker color",lite:"lighten",scrn:"screen","div ":"color dodge",lddg:"linear dodge",lgCl:"lighter color",over:"overlay",sLit:"soft light",hLit:"hard light",vLit:"vivid light",lLit:"linear light",pLit:"pin light",hMix:"hard mix",diff:"difference",smud:"exclusion",fsub:"subtract",fdiv:"divide","hue ":"hue","sat ":"saturation",colr:"color","lum ":"luminosity"},Object.keys(e.toBlendMode).forEach(function(t){return e.fromBlendMode[e.toBlendMode[t]]=t}),e.layerColors=["none","red","orange","yellow","green","blue","violet","gray"],e.revMap=u,e.createEnum=function(t,e,r){var n=u(r);return{decode:function(t){var r=t.split(".")[1];if(r&&!n[r])throw new Error("Unrecognized value for enum: "+t);return n[r]||e},encode:function(n){if(n&&!r[n])throw new Error("Invalid value for enum: "+n);return t+"."+(r[n]||r[e])}}},(s=e.ColorSpace||(e.ColorSpace={}))[s.RGB=0]="RGB",s[s.HSB=1]="HSB",s[s.CMYK=2]="CMYK",s[s.Lab=7]="Lab",s[s.Grayscale=8]="Grayscale",(o=e.LayerMaskFlags||(e.LayerMaskFlags={}))[o.PositionRelativeToLayer=1]="PositionRelativeToLayer",o[o.LayerMaskDisabled=2]="LayerMaskDisabled",o[o.InvertLayerMaskWhenBlending=4]="InvertLayerMaskWhenBlending",o[o.LayerMaskFromRenderingOtherData=8]="LayerMaskFromRenderingOtherData",o[o.MaskHasParametersAppliedToIt=16]="MaskHasParametersAppliedToIt",(a=e.MaskParams||(e.MaskParams={}))[a.UserMaskDensity=1]="UserMaskDensity",a[a.UserMaskFeather=2]="UserMaskFeather",a[a.VectorMaskDensity=4]="VectorMaskDensity",a[a.VectorMaskFeather=8]="VectorMaskFeather",(i=e.ChannelID||(e.ChannelID={}))[i.Red=0]="Red",i[i.Green=1]="Green",i[i.Blue=2]="Blue",i[i.Transparency=-1]="Transparency",i[i.UserMask=-2]="UserMask",i[i.RealUserMask=-3]="RealUserMask",(n=e.Compression||(e.Compression={}))[n.RawData=0]="RawData",n[n.RleCompressed=1]="RleCompressed",n[n.ZipWithoutPrediction=2]="ZipWithoutPrediction",n[n.ZipWithPrediction=3]="ZipWithPrediction",e.offsetForChannel=function(t){switch(t){case 0:return 0;case 1:return 1;case 2:return 2;case-1:return 3;default:return t+1}},e.clamp=function(t,e,r){return t<e?e:t>r?r:t},e.hasAlpha=function(t){for(var e=t.width*t.height*4,r=3;r<e;r+=4)if(255!==t.data[r])return!0;return!1},e.resetImageData=function(t){for(var e=t.width*t.height|0,r=new Uint32Array(t.data.buffer),n=0;n<e;n=n+1|0)r[n]=4278190080},e.decodeBitmap=function(t,e,r,n){for(var i=0,a=0,o=0;i<n;i++)for(var s=0;s<r;)for(var l=t[o++],u=0;u<8&&s<r;u++,s++){var d=128&l?0:255;l<<=1,e[a++]=d,e[a++]=d,e[a++]=d,e[a++]=255}},e.writeDataRaw=function(t,e,r,n){if(r&&n){for(var i=new Uint8Array(r*n),a=0;a<i.length;a++)i[a]=t.data[4*a+e];return i}},e.writeDataRLE=function(t,e,r,n,i){var a=e.data;if(r&&n){for(var o=4*r|0,s=0,l=2*i.length*n|0,u=0,d=i;u<d.length;u++)for(var c=d[u],f=0,h=0|c;f<n;f++){var p=f*o|0,g=p+o|0,m=g+c-4|0,v=m-4|0,b=l;for(h=p+c|0;h<g;h=h+4|0)if(h<v){var y=a[h],w=a[h=h+4|0],_=a[h=h+4|0];if(y===w&&y===_){for(var x=3;x<128&&h<m&&a[h+4|0]===y;)x=x+1|0,h=h+4|0;t[l++]=1-x,t[l++]=y}else{var S=l,k=!0;for(x=1,t[l++]=0,t[l++]=y;h<m&&x<128;){if(y=w,w=_,_=a[h=h+4|0],y===w&&y===_){h=h-12|0,k=!1;break}x++,t[l++]=y}k&&(x<127?(t[l++]=w,t[l++]=_,x+=2):x<128?(t[l++]=w,x++,h=h-4|0):h=h-8|0),t[S]=x-1}}else h===m?(t[l++]=0,t[l++]=a[h]):(t[l++]=1,t[l++]=a[h],t[l++]=a[h=h+4|0]);var E=l-b;t[s++]=E>>8&255,t[s++]=255&E}return t.slice(0,l)}},e.createCanvas=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvas method")},e.createCanvasFromData=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvasFromData method")};var d=void 0;e.createImageData=function(t,r){return d||(d=e.createCanvas(1,1)),d.getContext("2d").createImageData(t,r)},"undefined"!=typeof document&&(e.createCanvas=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},e.createCanvasFromData=function(t){var e=new Image;e.src="data:image/jpeg;base64,"+l.fromByteArray(t);var r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0),r}),e.initializeCanvas=function(t,r,n){e.createCanvas=t,e.createCanvasFromData=r||e.createCanvasFromData,e.createImageData=n||e.createImageData}},XPDt:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableWebToNodeStream=void 0;const n=r("YLlx");e.ReadableWebToNodeStream=class extends n.Readable{constructor(t){super(),this.bytesRead=0,this.released=!1,this.reader=t.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const t=await this.pendingRead;delete this.pendingRead,t.done||this.released?this.push(null):(this.bytesRead+=t.value.length,this.push(t.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}},YBdB:function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,a,o,s,l=1,u={},d=!1,c=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){p(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){a.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,n=function(t){var e=c.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(p,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return u[l]=i,n(l),l++},f.clearImmediate=h}function h(t){delete u[t]}function p(t){if(d)setTimeout(p,0,t);else{var e=u[t];if(e){d=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{h(t),d=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r("yLpj"),r("8oxB"))},YLlx:function(t,e,r){(e=t.exports=r("vXqZ")).Stream=e,e.Readable=e,e.Writable=r("uE1V"),e.Duplex=r("hF/z"),e.Transform=r("iljw"),e.PassThrough=r("xtZf"),e.finished=r("/RdL"),e.pipeline=r("flsF")},ZHzF:function(t,e,r){"use strict";r.d(e,"b",function(){return j}),r.d(e,"c",function(){return k}),r.d(e,"a",function(){return D});var n=r("ANlV");class i extends n.f{constructor(t){super({pluginType:t||n.b.ANY,isLoadAtStartup:!0})}call(t,e){super.call(t,e),this.store.defaultEvent.preventDefault()}}class a extends n.f{constructor(t){super({pluginType:t||n.b.ANY,isLoadAtStartup:!0})}call(t,e){super.call(t,e),this.store.defaultEvent.stopPropagation()}}var o=r("mrSG"),s=r("GMPE");class l extends n.f{constructor(){super({pluginType:n.b.DRAG})}call(t,e){const r=Object.create(null,{call:{get:()=>super.call}});return Object(o.a)(this,void 0,void 0,function*(){return r.call.call(this,t,e),new Promise(t=>{this.resolve=t,this._switchEventType()})})}_switchEventType(){this.store.flags.drag.isDrop&&(this._extractData(this.store.values.drag.data),this._clearCaches())}_extractData(t){return Object(o.a)(this,void 0,void 0,function*(){let e=0;const r=t.items,n=[],i=[],a=[];for(const t in r)if(Object(s.f)(r,t)){const e=r[t].webkitGetAsEntry();i.push(this._scanFiles(e,n))}yield Promise.all(i);for(const t of n)t.file(t=>{a.push(t),e++,e===n.length&&a.length>0&&(this.store.values.drag.files=a,console.log("File loaded : ",a),this.resolve())})})}_scanFiles(t,e){return Object(o.a)(this,void 0,void 0,function*(){switch(!0){case t.isDirectory:{const r=t.createReader(),n=yield new Promise(t=>{r.readEntries(e=>t(e))});yield Promise.all(n.map(t=>this._scanFiles(t,e)));break}case t.isFile:e.push(t)}})}_clearCaches(){this.store.values.drag.data=null}}var u=r("xOOu"),d=r("67IB");const c=".(zip)$";class f extends n.f{constructor(){super({pluginType:n.b.DRAG}),this.totalCount=0}call(t,e){const r=Object.create(null,{call:{get:()=>super.call}});return Object(o.a)(this,void 0,void 0,function*(){return r.call.call(this,t,e),new Promise(t=>{this.resolve=t,this._switchEventType()})})}_switchEventType(){this.store.flags.drag.isDrop&&this._loadZips(this.store.values.drag.files)}_loadZips(t){const e=t.filter(t=>Object(s.k)(t,c));if(console.log("Zip files : ",e),this.totalCount=e.length,0===e.length)return console.log("There are no zip files. Skip loading files."),this.resolve();for(let r=0;r<e.length;r++)this._loadZip(e[r])}_loadZip(t){Object(s.k)(t,c)?(this.totalCount--,this._zipReader(t)):(this._storeFile(t),this._manageCount())}_storeFile(t){this.store.values.drag.files.push(t)}_zipReader(t){return Object(o.a)(this,void 0,void 0,function*(){try{const r=new u,n=yield r.loadAsync(t);console.log("Files in zip : ",n.files),this.totalCount+=Object.keys(n.files).length;for(const t in n.files)if(Object(s.f)(n.files,t))try{if(n.files[t].dir){console.log("Directory is detected. Skip loading the file."),this._manageCount();continue}const e=yield n.file(t).async("blob"),r=Object(s.i)(t),i=yield Object(d.fromBlob)(e);if(!i){console.log("Error loading mime type from a file. Skip loading the file."),this._manageCount();continue}const a=new File([e],r,{type:i.mime});console.log(r,i),this._loadZip(a)}catch(e){console.error(e),this._manageCount()}}catch(e){console.error(e),this._manageCount()}})}_manageCount(){this.totalCount--,0===this.totalCount&&this.resolve()}}class h extends n.a{constructor(t){super({isFlip:!1,isGrayScale:!1}),this.element=null,this.gl=null,this.webGlElement=null,this.blendModes=[],this.isLoaded=!1,this.fileName=t.fileName,this.uniqueId=t.uniqueId,this.isPsd=t.isPsd,this.rawWidth=t.rawWidth,this.rawHeight=t.rawHeight,this.rawElement=t.rawElement,this.layerInfos=t.layerInfos}}class p extends n.a{constructor(){super(),this.children=[]}get psds(){return this.children.filter(t=>t instanceof h)}get stages(){return this.children.filter(t=>t instanceof p)}searchPsdByFileName(t){return this.psds.find(e=>e.fileName===t)}searchPsdByUniqueId(t){return this.psds.find(e=>e.uniqueId===t)}}class g{constructor(){this.renderTargetSets=[],this.stage=new p,this.tmp={psdSets:[],psds:[]},this.zoomRatio=1}searchRenderTargetByName(t){return this.renderTargetSets.find(e=>e.name===t)}}class m{constructor(t,e,r){this.children=[],this.canvas=e.canvas||e.imageData,this.width=e.width,this.height=e.height,this.isPsd=!0,this.pointerOffset=r,e.children.length>0?this.children=e.children:this.children.push({name:t,canvas:e.canvas,blendMode:"normal",hidden:!1,opacity:1,clipping:!1,left:0,right:e.width,top:0,bottom:e.height})}}class v{constructor(t,e,r){this.children=[],this.canvas=e.canvas,this.width=e.width,this.height=e.height,this.isPsd=!1,this.pointerOffset=r,this.children.push({name:t,canvas:e.canvas,blendMode:"normal",hidden:!1,opacity:1,clipping:!1,left:0,right:e.width,top:0,bottom:e.height})}}var b=r("opOj");const y=".(jpe?g|png|bmp)$",w=".(psd|vnd.adobe.photoshop)$";class _ extends n.f{constructor(){super({pluginType:n.b.DRAG}),this.totalCount=0}call(t,e){const r=Object.create(null,{call:{get:()=>super.call}});return Object(o.a)(this,void 0,void 0,function*(){return r.call.call(this,t,e),new Promise(t=>{this.resolve=t,this._switchEventType()})})}_switchEventType(){this.store.flags.drag.isDrop&&(this._loadFiles(this.store.values.drag.files),this._clearCaches())}_loadFiles(t){const e=t.filter(t=>Object(s.k)(t,y)||Object(s.k)(t,w));console.log("PSD/Image files : ",e),this.totalCount=e.length,0===e.length&&(console.log("No supported files are found. Skip loading files."),this.resolve());for(let r=0;r<e.length;r++){const t=e[r];Object(s.k)(t,y)?this._blobReader(t):Object(s.k)(t,w)?this._fileReader(t):(console.log("Unknow file format is detected."),this._manageCount())}}_blobReader(t){Object(s.c)(t,e=>this._updatePsdSets(e,t.name),()=>this._onDecodeError(t)).onerror=()=>{console.error("Error loading an image."),this._blobReader(t)}}_updatePsdSets(t,e){const r={fileName:e,psdData:new v(e,{width:t.width,height:t.height,canvas:t,children:[]},Object.assign({},this.store.values.pointer.current))};this.userStore.tmp.psdSets.push(r),console.log("Dummy psd : ",e),this._manageCount()}_onDecodeError(t){this._blobReader(t)}_fileReader(t){return Object(o.a)(this,void 0,void 0,function*(){const e=yield this._readAsArrayBuffer(t);this._switchSubReaders(t,e)})}_readAsArrayBuffer(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=t=>{e(t.target.result)},n.onerror=r,n.readAsArrayBuffer(t)})}_switchSubReaders(t,e){Object(s.k)(t,".(psd|vnd.adobe.photoshop)$")?this._psdReader(t.name,e):(console.error("Invalid file format is detected."),this._manageCount())}_psdReader(t,e){try{const r=Object(b.readPsd)(e,{useImageData:!0,skipThumbnail:!0,skipLinkedFilesData:!0}),n={fileName:t,psdData:new m(t,r,Object.assign({},this.store.values.pointer.current))};this.userStore.tmp.psdSets.push(n),console.log(t,r),this._manageCount()}catch(r){console.error("Error pasing a file."),this._manageCount()}}_manageCount(){this.totalCount--,0===this.totalCount&&this.resolve()}_clearCaches(){this.store.values.drag.files=[]}}class x{constructor(t,e){var r;this.thumbnail=null,this.layerTexture=null,this.isLayerHidden={current:!0,parent:!1},this.children=[],this.layerName=t.name,this.uniqueId=Object(s.d)(),this.element=t.canvas||t.imageData,this.layer={blendMode:t.blendMode,opacity:t.opacity,clipping:t.clipping,left:t.left,right:t.right,top:t.top,bottom:t.bottom},this.isFolder=(null===(r=t.children)||void 0===r?void 0:r.length)>0&&!(t.canvas instanceof HTMLCanvasElement),e&&(this.isLayerHidden=e)}}class S extends n.f{constructor(){super({pluginType:n.b.DRAG})}call(t,e){super.call(t,e),t.flags.drag.isDrop&&this._shapePsd()}_shapePsd(){const t=this.userStore.tmp.psdSets,e=this.userStore.stage.states.common.offset.new;if(0!==t.length)for(let r=0;r<t.length;r++){const n=[],i=t[r],a=i.psdData,o=Object(s.d)(),l=a.width,u=a.height;console.log(a);const d=a.children;for(let t=d.length-1;t>-1;t--){const e=new x(d[t],{current:d[t].hidden,parent:!1});n.push(e),this._getChildren(d[t],e)}const c={x:a.pointerOffset.x-e.x,y:a.pointerOffset.y-e.y},f=new h({fileName:i.fileName,uniqueId:o,isPsd:a.isPsd,rawWidth:l,rawHeight:u,rawElement:a.canvas,layerInfos:n});f.initOffset(c),this.userStore.tmp.psds.push(f)}}_getChildren(t,e){if(t.children)for(let r=t.children.length-1;r>-1;r--){const n=new x(t.children[r],{current:t.children[r].hidden,parent:e.isLayerHidden.current});e.children.push(n),this._getChildren(t.children[r],n)}}}var k=function(t){return t.MAIN_LAYER="mainLayer",t.UI_LAYER="uiLayer",t}({});const E=1200;class B extends n.f{constructor(){super({pluginType:n.b.DRAG})}call(t,e){if(super.call(t,e),t.flags.drag.isDrop){const t=this.userStore.tmp.psds.filter(t=>!t.isPsd);0===t.length&&console.log("No valid image files are found. Skip loading files.");for(let e=0;e<t.length;e++)this._draw(t[e])}}_draw(t){const e=Object(s.b)(E,{width:t.rawWidth,height:t.rawHeight}),r=document.createElement("canvas");r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(t.rawElement,0,0,r.width,r.height),t.element=r,t.states.common.width=r.width,t.states.common.height=r.height,this.userStore.stage.children.push(t)}}var T=function(t){return t.VERTEX="vertex",t.FRAGMENT="fragment",t}({});const C={normal:"alpha",lighten:"lighten",darken:"darken",multiply:"multiply",average:"average",add:"add",substract:"substract",difference:"difference",negation:"negation",exclusion:"exclusion",screen:"screen",overlay:"overlay","soft light":"softLight","hard light":"hardLight","color dodge":"colorDodge","color burn":"colorBurn","linear dodge":"linearDodge","linear burn":"linearBurn","linear light":"linearLight","vivid light":"vividLight","pin light":"pinLight","hard mix":"hardMix",reflect:"reflect",glow:"glow",phoenix:"phoenix",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"},R=["normal","alpha","lighten","darken","multiply","average","add","substract","difference","negation","exclusion","screen","overlay","softLight","hardLight","colorDodge","colorBurn","linearDodge","linearBurn","linearLight","vividLight","pinLight","hardMix","reflect","glow","phoenix","hue","saturation","color","luminosity"];function A(t,e,r){const n=t,i=n.createShader(e);return n.shaderSource(i,r),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS)?i:(alert("An error occurred compiling the shaders: "+n.getShaderInfoLog(i)),n.deleteShader(i),null)}class I{constructor(){this.vertex=[{name:"normal",program:"\n\t\t\t\tattribute vec4 a_position;\n\t\t\t\tattribute vec2 a_texCoord;\n\n\t\t\t\tuniform float u_flipY;\n\t\t\t\tuniform vec2 u_resolution;\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 zeroToOne = a_position.xy / u_resolution;\n\t\t\t\t\tvec2 zeroToTwo = zeroToOne * 2.0;\n\t\t\t\t\tvec2 clipSpace = zeroToTwo - 1.0;\n\t\t\t\t\tvec4 pos = vec4(clipSpace * vec2(1, u_flipY), 0, 1);\n\n\t\t\t\t\tgl_Position = pos;\n\t\t\t\t\tv_texCoord = a_texCoord;\n\t\t\t\t}\n\t\t\t"}],this.fragment=[{name:"normal",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform float u_opacity;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\n\t\t\t\t\tgl_FragColor = vec4(b.rgb, b.a * u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"alpha",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, s).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"lighten",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendLightenf(base, blend)\t\tmax(blend, base)\n\t\t\t\t#define BlendLighten\t\tBlendLightenf\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 lighten = vec4(BlendLighten(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, lighten).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"darken",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendDarkenf(base, blend)\t\tmin(blend, base)\n\t\t\t\t#define BlendDarken\t\tBlendDarkenf\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 darken = vec4(BlendDarken(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, darken).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"multiply",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendMultiply(base, blend)\t\t(base * blend)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 multiply = vec4(BlendMultiply(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, multiply).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"average",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendAverage(base, blend)\t\t((base + blend) / 2.0)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 average = vec4(BlendAverage(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, average).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"add",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendAdd(base, blend)\t\tmin(base + blend, vec3(1.0))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 add = vec4(BlendAdd(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, add).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"substract",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendSubstract(base, blend) \tmax(base + blend - vec3(1.0), vec3(0.0))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 substract = vec4(BlendSubstract(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, substract).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"difference",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendDifference(base, blend)\t\tabs(base - blend)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 difference = vec4(BlendDifference(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, difference).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"negation",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendNegation(base, blend)\t\t(vec3(1.0) - abs(vec3(1.0) - base - blend))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 negation = vec4(BlendNegation(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, negation).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"exclusion",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendExclusion(base, blend)\t\t(base + blend - 2.0 * base * blend)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 exclusion = vec4(BlendExclusion(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, exclusion).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"screen",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendScreenf(base, blend)\t\t(1.0 - ((1.0 - base) * (1.0 - blend)))\n\t\t\t\t#define BlendScreen(base, blend)\t\tBlend(base, blend, BlendScreenf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 screen = vec4(BlendScreenf(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, screen).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"overlay",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendOverlayf(base, blend)\t\t(base < 0.5 ? (2.0 * base * blend) : (1.0 - 2.0 * (1.0 - base) * (1.0 - blend)))\n\t\t\t\t#define BlendOverlay(base, blend)\t\tBlend(base, blend, BlendOverlayf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 overlay = vec4(BlendOverlay(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, overlay).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"softLight",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendSoftLightf(base, blend)\t\t((blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend)))\n\t\t\t\t#define BlendSoftLight(base, blend)\t\tBlend(base, blend, BlendSoftLightf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 softLight = vec4(BlendSoftLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, softLight).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"hardLight",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendOverlayf(base, blend)\t\t(base < 0.5 ? (2.0 * base * blend) : (1.0 - 2.0 * (1.0 - base) * (1.0 - blend)))\n\t\t\t\t#define BlendOverlay(base, blend)\t\tBlend(base, blend, BlendOverlayf)\n\t\t\t\t#define BlendHardLight(base, blend)\t\tBlendOverlay(blend, base)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 hardLight = vec4(BlendHardLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, hardLight).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"colorDodge",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendColorDodgef(base, blend)\t\t((blend == 1.0) ? blend : min(base / (1.0 - blend), 1.0))\n\t\t\t\t#define BlendColorDodge(base, blend)\t\tBlend(base, blend, BlendColorDodgef)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 colorDodge = vec4(BlendColorDodge(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, colorDodge).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"colorBurn",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendColorBurnf(base, blend) \t((blend == 0.0) ? blend : max((1.0 - ((1.0 - base) / blend)), 0.0))\n\t\t\t\t#define BlendColorBurn(base, blend) \tBlend(base, blend, BlendColorBurnf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 colorBurn = vec4(BlendColorBurn(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, colorBurn).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"linearDodge",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendAdd(base, blend)\t\tmin(base + blend, vec3(1.0))\n\t\t\t\t#define BlendLinearDodge\t\tBlendAdd\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 linearDodge = vec4(BlendLinearDodge(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, linearDodge).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"linearBurn",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendSubstract(base, blend)\t\tmax(base + blend - vec3(1.0), vec3(0.0))\n\t\t\t\t#define BlendLinearBurn\t\t\tBlendSubstract\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 linearBurn = vec4(BlendLinearBurn(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, linearBurn).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"linearLight",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendSubstractf(base, blend)\t\tmax(base + blend - 1.0, 0.0)\n\t\t\t\t#define BlendAddf(base, blend)\t\tmin(base + blend, 1.0)\n\t\t\t\t#define BlendLinearBurnf\t\tBlendSubstractf\n\t\t\t\t#define BlendLinearDodgef\t\tBlendAddf\n\t\t\t\t#define BlendLinearLightf(base, blend)\t\t(blend < 0.5 ? BlendLinearBurnf(base, (2.0 * blend)) : BlendLinearDodgef(base, (2.0 * (blend - 0.5))))\n\t\t\t\t#define BlendLinearLight(base, blend)\t\tBlend(base, blend, BlendLinearLightf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 linearLight = vec4(BlendLinearLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, linearLight).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"vividLight",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendColorDodgef(base, blend)\t\t((blend == 1.0) ? blend : min(base / (1.0 - blend), 1.0))\n\t\t\t\t#define BlendColorBurnf(base, blend)\t\t((blend == 0.0) ? blend : max((1.0 - ((1.0 - base) / blend)), 0.0))\n\t\t\t\t#define BlendVividLightf(base, blend) \t((blend < 0.5) ? BlendColorBurnf(base, (2.0 * blend)) : BlendColorDodgef(base, (2.0 * (blend - 0.5))))\n\t\t\t\t#define BlendVividLight(base, blend)\t\tBlend(base, blend, BlendVividLightf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 vividLight = vec4(BlendVividLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, vividLight).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"pinLight",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendDarkenf(base, blend)\t\tmin(blend, base)\n\t\t\t\t#define BlendLightenf(base, blend)\t\tmax(blend, base)\n\t\t\t\t#define BlendPinLightf(base, blend)\t\t((blend < 0.5) ? BlendDarkenf(base, (2.0 * blend)) : BlendLightenf(base, (2.0 *(blend - 0.5))))\n\t\t\t\t#define BlendPinLight(base, blend)\t\tBlend(base, blend, BlendPinLightf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 pinLight = vec4(BlendPinLight(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, pinLight).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"hardMix",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendColorBurnf(base, blend)\t\t((blend == 0.0) ? blend : max((1.0 - ((1.0 - base) / blend)), 0.0))\n\t\t\t\t#define BlendColorDodgef(base, blend)\t\t((blend == 1.0) ? blend : min(base / (1.0 - blend), 1.0))\n\t\t\t\t#define BlendVividLightf(base, blend)\t\t((blend < 0.5) ? BlendColorBurnf(base, (2.0 * blend)) : BlendColorDodgef(base, (2.0 * (blend - 0.5))))\n\t\t\t\t#define BlendHardMixf(base, blend)\t\t((BlendVividLightf(base, blend) < 0.5) ? 0.0 : 1.0)\n\t\t\t\t#define BlendHardMix(base, blend)\t\tBlend(base, blend, BlendHardMixf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 hardMix = vec4(BlendHardMix(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, hardMix).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"reflect",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendReflectf(base, blend)\t\t((blend == 1.0) ? blend : min(base * base / (1.0 - blend), 1.0))\n\t\t\t\t#define BlendReflect(base, blend)\t\tBlend(base, blend, BlendReflectf)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 reflect = vec4(BlendReflect(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, reflect).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"glow",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define Blend(base, blend, funcf)\t\tvec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n\t\t\t\t#define BlendReflectf(base, blend)\t\t((blend == 1.0) ? blend : min(base * base / (1.0 - blend), 1.0))\n\t\t\t\t#define BlendReflect(base, blend)\t\tBlend(base, blend, BlendReflectf)\n\t\t\t\t#define BlendGlow(base, blend)\t\tBlendReflect(blend, base)\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 glow = vec4(BlendGlow(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, glow).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"phoenix",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\t\t\t\t#define BlendPhoenix(base, blend) \t\t(min(base, blend) - max(base, blend) + vec3(1.0))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 phoenix = vec4(BlendPhoenix(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, phoenix).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"hue",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn hsl;\n\t\t\t\t}\n\n\t\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\t\thue += 1.0;\n\t\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\t\thue -= 1.0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat res;\n\t\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f2;\n\t\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres = f1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\n\t\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\t\tvec3 rgb;\n\n\t\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfloat f2;\n\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t\t}\n\n\t\t\t\t\treturn rgb;\n\t\t\t\t}\n\n\t\t\t\tvec3 BlendHue(vec3 base, vec3 blend) {\n\t\t\t\t\tvec3 baseHSL = RGBToHSL(base);\n\t\t\t\t\treturn HSLToRGB(vec3(RGBToHSL(blend).r, baseHSL.g, baseHSL.b));\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 hue = vec4(BlendHue(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, hue).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"saturation",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn hsl;\n\t\t\t\t}\n\n\t\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\t\thue += 1.0;\n\t\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\t\thue -= 1.0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat res;\n\t\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f2;\n\t\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres = f1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\n\t\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\t\tvec3 rgb;\n\n\t\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfloat f2;\n\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t\t}\n\n\t\t\t\t\treturn rgb;\n\t\t\t\t}\n\n\t\t\t\tvec3 BlendSaturation(vec3 base, vec3 blend) {\n\t\t\t\t\tvec3 baseHSL = RGBToHSL(base);\n\t\t\t\t\treturn HSLToRGB(vec3(baseHSL.r, RGBToHSL(blend).g, baseHSL.b));\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 saturation = vec4(BlendSaturation(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, saturation).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"color",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn hsl;\n\t\t\t\t}\n\n\t\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\t\thue += 1.0;\n\t\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\t\thue -= 1.0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat res;\n\t\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f2;\n\t\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres = f1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\n\t\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\t\tvec3 rgb;\n\n\t\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfloat f2;\n\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t\t}\n\n\t\t\t\t\treturn rgb;\n\t\t\t\t}\n\n\t\t\t\tvec3 BlendColor(vec3 base, vec3 blend) {\n\t\t\t\t\tvec3 blendHSL = RGBToHSL(blend);\n\t\t\t\t\treturn HSLToRGB(vec3(blendHSL.r, blendHSL.g, RGBToHSL(base).b));\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 color = vec4(BlendColor(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, color).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"},{name:"luminosity",program:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\t#define BlendAlpha(base, blend)\t\t((base.rgb * base.a * (1.0 - blend.a) + blend.rgb * blend.a) / (base.a * (1.0 - blend.a) + blend.a))\n\n\t\t\t\tvarying highp vec2 v_texCoord;\n\n\t\t\t\tuniform sampler2D u_texture0;\n\t\t\t\tuniform sampler2D u_texture1;\n\t\t\t\tuniform float u_opacity;\n\n\n\t\t\t\tvec3 RGBToHSL(vec3 color){\n\t\t\t\t\tvec3 hsl; // init to 0 to avoid warnings ? (and reverse if + remove first part)\n\n\t\t\t\t\tfloat fmin = min(min(color.r, color.g), color.b);    //Min. value of RGB\n\t\t\t\t\tfloat fmax = max(max(color.r, color.g), color.b);    //Max. value of RGB\n\t\t\t\t\tfloat delta = fmax - fmin;             //Delta RGB value\n\n\t\t\t\t\thsl.z = (fmax + fmin) / 2.0; // Luminance\n\n\t\t\t\t\tif (delta == 0.0) {\n\t\t\t\t\t\thsl.x = 0.0;\t// Hue\n\t\t\t\t\t\thsl.y = 0.0;\t// Saturation\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\thsl.y = delta / (fmax + fmin); // Saturation\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thsl.y = delta / (2.0 - fmax - fmin); // Saturation\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\t\t\t\t\tfloat deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\t\t\t\t\tif (color.r == fmax ) {\n\t\t\t\t\t\t\thsl.x = deltaB - deltaG; // Hue\n\t\t\t\t\t\t}\telse if (color.g == fmax) {\n\t\t\t\t\t\t\thsl.x = (1.0 / 3.0) + deltaR - deltaB; // Hue\n\t\t\t\t\t\t}\telse if (color.b == fmax) {\n\t\t\t\t\t\t\thsl.x = (2.0 / 3.0) + deltaG - deltaR; // Hue\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (hsl.x < 0.0) {\n\t\t\t\t\t\t\thsl.x += 1.0; // Hue\n\t\t\t\t\t\t}\telse if (hsl.x > 1.0) {\n\t\t\t\t\t\t\thsl.x -= 1.0; // Hue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn hsl;\n\t\t\t\t}\n\n\t\t\t\tfloat HueToRGB(float f1, float f2, float hue) {\n\t\t\t\t\tif (hue < 0.0) {\n\t\t\t\t\t\thue += 1.0;\n\t\t\t\t\t} else if (hue > 1.0) {\n\t\t\t\t\t\thue -= 1.0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat res;\n\t\t\t\t\tif ((6.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\t\t\t}\telse if ((2.0 * hue) < 1.0) {\n\t\t\t\t\t\tres = f2;\n\t\t\t\t\t} else if ((3.0 * hue) < 2.0) {\n\t\t\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres = f1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\n\t\t\t\tvec3 HSLToRGB(vec3 hsl) {\n\t\t\t\t\tvec3 rgb;\n\n\t\t\t\t\tif (hsl.y == 0.0) {\n\t\t\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfloat f2;\n\n\t\t\t\t\t\tif (hsl.z < 0.5) {\n\t\t\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\n\t\t\t\t\t\trgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\t\t\trgb.g = HueToRGB(f1, f2, hsl.x);\n\t\t\t\t\t\trgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t\t\t}\n\n\t\t\t\t\treturn rgb;\n\t\t\t\t}\n\n\t\t\t\tvec3 BlendLuminosity(vec3 base, vec3 blend) {\n\t\t\t\t\tvec3 baseHSL = RGBToHSL(base);\n\t\t\t\t\treturn HSLToRGB(vec3(baseHSL.r, baseHSL.g, RGBToHSL(blend).b));\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 b = texture2D(u_texture0, v_texCoord);\n\t\t\t\t\tvec4 s = texture2D(u_texture1, v_texCoord);\n\t\t\t\t\tvec4 luminosity = vec4(BlendLuminosity(b.rgb, s.rgb), s.a);\n\n\t\t\t\t\tgl_FragColor = vec4(BlendAlpha(b, luminosity).rgb, u_opacity);\n\t\t\t\t}\n\t\t\t"}]}searchShaderByType(t){if(t===T.VERTEX)return this.vertex;if(t===T.FRAGMENT)return this.fragment;throw new Error("Invalid shader type is detected.")}searchShaderByName(t,e){return this.searchShaderByType(t).filter(t=>t.name===e)[0].program}createBlendModes(t){const e=t,r=R,n=this.searchShaderByName(T.VERTEX,"normal");let i=[];for(let a=0;a<r.length;a++)i.push({name:r[a],programInfo:this._createBlendMode(e,n,r[a])});return i}_createBlendMode(t,e,r){const n=this.searchShaderByName(T.FRAGMENT,r);return this._createShaderProgram(t,e,n)}_createShaderProgram(t,e,r){const n=t,i=function(t,e,r){const n=t,i=A(n,n.VERTEX_SHADER,e),a=A(n,n.FRAGMENT_SHADER,r),o=n.createProgram();return n.attachShader(o,i),n.attachShader(o,a),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS)?o:(alert("Unable to initialize the shader program: "+n.getProgramInfoLog(o)),null)}(n,e,r);return{program:i,attribLocations:{aPosition:n.getAttribLocation(i,"a_position"),aTexCoord:n.getAttribLocation(i,"a_texCoord")},uniformLocations:{uTexture0:n.getUniformLocation(i,"u_texture0"),uTexture1:n.getUniformLocation(i,"u_texture1"),uFlipY:n.getUniformLocation(i,"u_flipY"),uResolution:n.getUniformLocation(i,"u_resolution"),uOpacity:n.getUniformLocation(i,"u_opacity")}}}}const D="drawPsd";function L(t,e,r){const n=t,i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e,r,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);const a=n.createFramebuffer();return n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0),{framebuffer:a,texture:i}}function O(t,e,r,n,i){const a=t,o=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,o),function(t,e,r,n,i){const a=e+n,o=r+i;t.bufferData(t.ARRAY_BUFFER,new Float32Array([e,r,a,r,e,o,e,o,a,r,a,o]),t.STATIC_DRAW)}(a,e,r,n,i);const s=a.createBuffer();return a.bindBuffer(a.ARRAY_BUFFER,s),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),a.STATIC_DRAW),{position:o,textureCoord:s}}class P extends n.f{constructor(){super({pluginType:n.b.DRAG,isNotifierEnabled:!0}),this.shaders=new I}call(t,e){if(super.call(t,e),t.flags.drag.isDrop){const t=this.userStore.tmp.psds.filter(t=>t.isPsd);if(0===t.length)return void console.log("No valid psd files are found. Skip loading files.");for(let e=0;e<t.length;e++){const r=t[e];this._createWebGlCanvas(r),this._main(r)}}}reRenderAll(){if(!this.userStore)return;const t=this.userStore.stage.psds.filter(t=>t.isPsd);if(0!==t.length){console.log("-------------------------------------------------------");for(let e=0;e<t.length;e++){const r=t[e];this._render(r),this._updateRenderTarget(r)}}else console.log("No valid psd files are found. Skip loading files.")}reRenderTarget(t){this.userStore&&(this._render(t),this._updateRenderTarget(t))}_createWebGlCanvas(t){const e=Object(s.b)(E,{width:t.rawWidth,height:t.rawHeight}),r=document.createElement("canvas");r.width=e.width,r.height=e.height;const n=r.getContext("webgl",{preserveDrawingBuffer:!0});null!==n?(t.webGlElement=r,t.gl=n,t.blendModes=this.shaders.createBlendModes(n)):alert("Unable to initialize WebGL. Your browser or machine may not support it.")}_main(t){this._render(t),this._updateRenderTarget(t,{isPassToQueueEnabled:!0})}_render(t){const e=t.gl,r=O(e,0,0,e.canvas.width,e.canvas.height),n=[];n.push(L(e,e.canvas.width,e.canvas.height)),n.push(L(e,e.canvas.width,e.canvas.height)),this._drawScene(t,r,n)}_drawScene(t,e,r){const n=this._renderLayers(t,e,r);this._renderResult(t,e,n)}_renderLayers(t,e,r){const n=t.gl,i=t.layerInfos;t.isLoaded||this._recursiveRender(i,(e,r)=>{!e.isFolder&&e.element&&(e.layerTexture||(e.layerTexture=this._createLayerTexture(t,e)),console.log("Layer name : ",e.layerName))});let a=0;this._recursiveRender(i,(i,o)=>{let s=null,l=null;if(!i.isFolder&&!i.isLayerHidden.current&&i.layerTexture){if(n.bindFramebuffer(n.FRAMEBUFFER,r[a%2].framebuffer),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),0===a)s=this._getProgramInfo(t,"normal"),l=s.uniformLocations,n.useProgram(s.program),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,i.layerTexture);else{const e=this._getBlendModeName(i.layer.blendMode);s=this._getProgramInfo(t,e),l=s.uniformLocations,n.useProgram(s.program);let o=a%2-1;o=o<=-1?1:0,n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r[o].texture),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,i.layerTexture)}n.uniform1f(l.uFlipY,1),n.uniform1f(l.uOpacity,1),n.uniform2f(l.uResolution,n.canvas.width,n.canvas.height),this._drawQuad(n,s,e),a++}}),t.isLoaded=!0;let o=a%2-1;return o=o<=-1?1:0,r[o].texture}_getBlendModeName(t){return C[t]?(console.log("Blend mode : ",C[t]),C[t]):(console.warn(`There is no blend mode exist for ${t}.`),"alpha")}_createLayerTexture(t,e){const r=t.gl,n=this._getProgramInfo(t,"normal"),i=n.uniformLocations,a=t.rawWidth>t.rawHeight?E/t.rawHeight:E/t.rawWidth,o=O(r,e.layer.left*a,e.layer.top*a,(e.layer.right-e.layer.left)*a,(e.layer.bottom-e.layer.top)*a),s=L(r,r.canvas.width,r.canvas.height);return r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer),r.viewport(0,0,r.canvas.width,r.canvas.height),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.useProgram(n.program),function(t,e){const r=t,n=r.createTexture(),i=r.RGBA,a=r.RGBA,o=r.UNSIGNED_BYTE;r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,i,a,o,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)}(r,e.element),r.uniform1f(i.uFlipY,1),r.uniform1f(i.uOpacity,e.layer.opacity),r.uniform2f(i.uResolution,r.canvas.width,r.canvas.height),this._drawQuad(r,n,o),s.texture}_recursiveRender(t,e){for(let r=t.length-1;r>-1;r--)e(t[r],t),t[r].children.length>0&&this._recursiveRender(t[r].children,e)}_renderResult(t,e,r){const n=t.gl,i=this._getProgramInfo(t,"normal"),a=i.uniformLocations;n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.useProgram(i.program),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r),n.uniform1f(a.uOpacity,1),n.uniform2f(a.uResolution,n.canvas.width,n.canvas.height),this._drawQuad(n,i,e)}_getProgramInfo(t,e){return t.blendModes.filter(t=>t.name===e)[0].programInfo}_drawQuad(t,e,r){const n=t,i=e.attribLocations,a=e.uniformLocations;{const t=2,e=n.FLOAT,a=!1,o=0,s=0;n.bindBuffer(n.ARRAY_BUFFER,r.position),n.vertexAttribPointer(i.aPosition,t,e,a,o,s),n.enableVertexAttribArray(i.aPosition)}{const t=2,e=n.FLOAT,a=!1,o=0,s=0;n.bindBuffer(n.ARRAY_BUFFER,r.textureCoord),n.vertexAttribPointer(i.aTexCoord,t,e,a,o,s),n.enableVertexAttribArray(i.aTexCoord)}n.uniform1i(a.uTexture0,0),n.uniform1i(a.uTexture1,1),n.drawArrays(n.TRIANGLES,0,6)}_updateRenderTarget(t,e){const r=t.gl,n=t.states.common,i=new Uint8ClampedArray(r.drawingBufferWidth*r.drawingBufferHeight*4);r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,i);const a=new ImageData(i,r.drawingBufferWidth,r.drawingBufferHeight),o=document.createElement("canvas");o.width=r.canvas.width,o.height=r.canvas.height,o.getContext("2d").putImageData(a,0,0),t.element=o,n.width=o.width,n.height=o.height,console.log(`Rendered ${t.fileName}!`),e&&e.isPassToQueueEnabled&&this.userStore.stage.children.push(t)}}class F extends n.f{constructor(){super({pluginType:n.b.POINTER})}call(t,e){super.call(t,e);const r=this.store.flags.pointer.state,n=this.userStore.stage;r.isMiddleDown||r.isLeftDown?this._down(n):r.isMiddleMove||r.isLeftMove?this._move(n):(r.isMiddleUp||r.isLeftUp)&&this._up(n)}_down(t){t.updatePrevOffset(t.states.common.offset.new)}_move(t){t.doCommand(n.e.UPDATE_OFFSET,this.store)}_up(t){t.save(n.e.UPDATE_OFFSET,this.store)}}class U extends n.f{constructor(t){super({pluginType:t,isLoadAtStartup:!1})}call(t,e){super.call(t,e),this.userStore.tmp={psdSets:[],psds:[]}}}class M extends n.f{constructor(){super({pluginType:n.b.RENDER})}call(t,e){super.call(t,e),this._render()}_render(){this.userStore.renderTargetSets.forEach(t=>{const e={width:t.target.clientWidth,height:t.target.clientHeight};Object(s.g)(t.target,e),Object(s.g)(t.buffer,e)})}}class N extends n.f{constructor(){super({pluginType:n.b.RENDER})}call(t,e){super.call(t,e),this._psds()}_psds(){const t=this.userStore.stage.psds,e=this.userStore.searchRenderTargetByName(k.MAIN_LAYER).buffer,r=e.getContext("2d");t.forEach(t=>this._renderPsd(t,e,r))}_renderPsd(t,e,r){const n=r,i=t.states.common,a=i.offset.new,o=this.userStore.stage.states.common.offset.new,s={x:o.x+a.x,y:o.y+a.y},l=e.height/i.height,u=i.width*l,d=i.height*l;t.element&&(n.save(),n.translate(s.x,s.y),n.drawImage(t.element,-u/2,-d/2,u,d),n.restore())}}class z extends n.f{constructor(){super({pluginType:n.b.RENDER})}call(t,e){super.call(t,e),this._render()}_render(){const t=this.userStore.searchRenderTargetByName(k.MAIN_LAYER);t.target.getContext("2d").drawImage(t.buffer,0,0)}}class j{constructor(){this.targetElement=null,this.pluginSetsDrag=[{pluginName:"preventDefault",plugin:new i(n.b.DRAG)},{pluginName:"stoPropagation",plugin:new a(n.b.DRAG)},{pluginName:"fileLoader",plugin:new l},{pluginName:"zipLoader",plugin:new f},{pluginName:"loadPsd",plugin:new _},{pluginName:"shapePsd",plugin:new S},{pluginName:"drawImage",plugin:new B},{pluginName:D,plugin:new P},{pluginName:"clearTmp",plugin:new U(n.b.DRAG)}],this.pluginSetsPointer=[{pluginName:"moveStage",plugin:new F}],this.pluginSetsRender=[{pluginName:"renderInitCanvas",plugin:new M},{pluginName:"renderBuffer",plugin:new N},{pluginName:"renderCanvas",plugin:new z}],this.renderTargetSets=[],this._engine=null}get engine(){return this._engine}init(t){this.targetElement=t}registerRenderTargetSet(t){this.renderTargetSets.push(t)}start(){const t=new n.c,e=new n.d(this.targetElement),r=new g;this.pluginSetsDrag.forEach(e=>t.registerPlugin(e)),this.pluginSetsPointer.forEach(e=>t.registerPlugin(e)),this.pluginSetsRender.forEach(e=>t.registerPlugin(e)),r.renderTargetSets=this.renderTargetSets,t.init(e,r),t.start(),t.store.updateNotifier.observer().subscribe(t=>{t.notifyType===n.b.DRAG&&console.log(t)}),this._engine=t}}},b1it:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeIntBE=e.readIntBE=e.writeUIntBE=e.readUIntBE=e.writeIntLE=e.AnsiStringType=e.StringType=e.BufferType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;const n=r("kVK+");e.UINT8={len:1,get:(t,e)=>t.readUInt8(e),put:(t,e,r)=>t.writeUInt8(r,e)},e.UINT16_LE={len:2,get:(t,e)=>t.readUInt16LE(e),put:(t,e,r)=>t.writeUInt16LE(r,e)},e.UINT16_BE={len:2,get:(t,e)=>t.readUInt16BE(e),put:(t,e,r)=>t.writeUInt16BE(r,e)},e.UINT24_LE={len:3,get:(t,e)=>t.readUIntLE(e,3),put:(t,e,r)=>t.writeUIntLE(r,e,3)},e.UINT24_BE={len:3,get:(t,e)=>t.readUIntBE(e,3),put:(t,e,r)=>t.writeUIntBE(r,e,3)},e.UINT32_LE={len:4,get:(t,e)=>t.readUInt32LE(e),put:(t,e,r)=>t.writeUInt32LE(r,e)},e.UINT32_BE={len:4,get:(t,e)=>t.readUInt32BE(e),put:(t,e,r)=>t.writeUInt32BE(r,e)},e.INT8={len:1,get:(t,e)=>t.readInt8(e),put:(t,e,r)=>t.writeInt8(r,e)},e.INT16_BE={len:2,get:(t,e)=>t.readInt16BE(e),put:(t,e,r)=>t.writeInt16BE(r,e)},e.INT16_LE={len:2,get:(t,e)=>t.readInt16LE(e),put:(t,e,r)=>t.writeInt16LE(r,e)},e.INT24_LE={len:3,get:(t,e)=>t.readIntLE(e,3),put:(t,e,r)=>t.writeIntLE(r,e,3)},e.INT24_BE={len:3,get:(t,e)=>t.readIntBE(e,3),put:(t,e,r)=>t.writeIntBE(r,e,3)},e.INT32_BE={len:4,get:(t,e)=>t.readInt32BE(e),put:(t,e,r)=>t.writeInt32BE(r,e)},e.INT32_LE={len:4,get:(t,e)=>t.readInt32LE(e),put:(t,e,r)=>t.writeInt32LE(r,e)},e.UINT64_LE={len:8,get(t,e){return function(t,e,r){r>>>=0;let n=t[e>>>=0],i=1,a=0;for(;++a<r&&(i*=256);)n+=t[e+a]*i;return n}(t,e,this.len)},put(t,e,r){return function(t,e,r,n){n>>>=0;let i=1,a=0;for(t[r>>>=0]=255&(e=+e);++a<n&&(i*=256);)t[r+a]=e/i&255;return r+n}(t,r,e,this.len)}},e.INT64_LE={len:8,get(t,e){return function(t,e,r){r>>>=0;let n=t[e>>>=0],i=1,a=0;for(;++a<r&&(i*=256);)n+=t[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n}(t,e,this.len)},put(t,e,r){return a(t,r,e,this.len)}},e.UINT64_BE={len:8,get(t,e){return o(t,e,this.len)},put(t,e,r){return s(t,r,e,this.len)}},e.INT64_BE={len:8,get(t,e){return l(t,e,this.len)},put(t,e,r){return u(t,r,e,this.len)}},e.Float16_BE={len:2,get(t,e){return n.read(t,e,!1,10,this.len)},put(t,e,r){return n.write(t,r,e,!1,10,this.len),e+this.len}},e.Float16_LE={len:2,get(t,e){return n.read(t,e,!0,10,this.len)},put(t,e,r){return n.write(t,r,e,!0,10,this.len),e+this.len}},e.Float32_BE={len:4,get:(t,e)=>t.readFloatBE(e),put:(t,e,r)=>t.writeFloatBE(r,e)},e.Float32_LE={len:4,get:(t,e)=>t.readFloatLE(e),put:(t,e,r)=>t.writeFloatLE(r,e)},e.Float64_BE={len:8,get:(t,e)=>t.readDoubleBE(e),put:(t,e,r)=>t.writeDoubleBE(r,e)},e.Float64_LE={len:8,get:(t,e)=>t.readDoubleLE(e),put:(t,e,r)=>t.writeDoubleLE(r,e)},e.Float80_BE={len:10,get(t,e){return n.read(t,e,!1,63,this.len)},put(t,e,r){return n.write(t,r,e,!1,63,this.len),e+this.len}},e.Float80_LE={len:10,get(t,e){return n.read(t,e,!0,63,this.len)},put(t,e,r){return n.write(t,r,e,!0,63,this.len),e+this.len}},e.IgnoreType=class{constructor(t){this.len=t}get(t,e){}},e.BufferType=class{constructor(t){this.len=t}get(t,e){return t.slice(e,e+this.len)}},e.StringType=class{constructor(t,e){this.len=t,this.encoding=e}get(t,e){return t.toString(this.encoding,e,e+this.len)}};class i{constructor(t){this.len=t}static decode(t,e,r){let n="";for(let a=e;a<r;++a)n+=i.codePointToString(i.singleByteDecoder(t[a]));return n}static inRange(t,e,r){return e<=t&&t<=r}static codePointToString(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}static singleByteDecoder(t){if(i.inRange(t,0,127))return t;const e=i.windows1252[t-128];if(null===e)throw Error("invaliding encoding");return e}get(t,e=0){return i.decode(t,e,e+this.len)}}function a(t,e,r,n){let i=0,a=1,o=0;for(t[r>>>=0]=255&(e=+e);++i<n&&(a*=256);)e<0&&0===o&&0!==t[r+i-1]&&(o=1),t[r+i]=(e/a>>0)-o&255;return r+n}function o(t,e,r){r>>>=0;let n=t[(e>>>=0)+--r],i=1;for(;r>0&&(i*=256);)n+=t[e+--r]*i;return n}function s(t,e,r,n){let i=(n>>>=0)-1,a=1;for(t[(r>>>=0)+i]=255&(e=+e);--i>=0&&(a*=256);)t[r+i]=e/a&255;return r+n}function l(t,e,r){let n=r>>>=0,i=1,a=t[(e>>>=0)+--n];for(;n>0&&(i*=256);)a+=t[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*r)),a}function u(t,e,r,n){let i=n-1,a=1,o=0;for(t[(r>>>=0)+i]=255&(e=+e);--i>=0&&(a*=256);)e<0&&0===o&&0!==t[r+i+1]&&(o=1),t[r+i]=(e/a>>0)-o&255;return r+n}e.AnsiStringType=i,i.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],e.writeIntLE=a,e.readUIntBE=o,e.writeUIntBE=s,e.readIntBE=l,e.writeIntBE=u},bdgK:function(t,e,r){"use strict";(function(t){var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var r=-1;return t.some(function(t,n){return t[0]===e&&(r=n,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var r=t(this.__entries__,e),n=this.__entries__[r];return n&&n[1]},e.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];t.call(e,i[1],i[0])}},e}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,n=!1,i=0;function o(){r&&(r=!1,t()),n&&l()}function s(){a(o)}function l(){var t=Date.now();if(r){if(t-i<2)return;n=!0}else r=!0,n=!1,setTimeout(s,20);i=t}return l}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=void 0===e?"":e;o.some(function(t){return!!~r.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),u=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},c=g(0,0,0,0);function f(t){return parseFloat(t)||0}function h(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(e,r){return e+f(t["border-"+r+"-width"])},0)}var p="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function g(t,e,r,n){return{x:t,y:e,width:r,height:n}}var m=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,n?p(t)?function(t){var e=t.getBBox();return g(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return c;var n=d(t).getComputedStyle(t),i=function(t){for(var e={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r];e[i]=f(t["padding-"+i])}return e}(n),a=i.left+i.right,o=i.top+i.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==e&&(s-=h(n,"left","right")+a),Math.round(l+o)!==r&&(l-=h(n,"top","bottom")+o)),!function(t){return t===d(t).document.documentElement}(t)){var u=Math.round(s+a)-e,p=Math.round(l+o)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(l-=p)}return g(i.left,i.top,s,l)}(t):c);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),v=function(t,e){var r,n,i,a,o,s,l,d=(n=(r=e).x,i=r.y,a=r.width,o=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:n,y:i,width:a,height:o,top:i,right:n+a,bottom:o+i,left:n}),l);u(this,{target:t,contentRect:d})},b=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new v(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),y="undefined"!=typeof WeakMap?new WeakMap:new r,w=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new b(e,r,this);y.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){w.prototype[t]=function(){var e;return(e=y.get(this))[t].apply(e,arguments)}}),e.a=void 0!==i.ResizeObserver?i.ResizeObserver:w}).call(this,r("yLpj"))},cBPS:function(t,e,r){"use strict";function n(t){return 32===t||10===t||13===t||9===t}function i(t){return t>=48&&t<=57||46===t||45===t}Object.defineProperty(e,"__esModule",{value:!0}),e.serializeEngineData=e.parseEngineData=void 0,e.parseEngineData=function(t){var e=0;function r(){for(;e<t.length&&n(t[e]);)e++}function a(){var r=t[e];return e++,92===r&&(r=t[e],e++),r}function o(){var r="";if(41===t[e])return e++,r;if(254!==t[e]||255!==t[e+1])throw new Error("Invalid utf-16 BOM");for(e+=2;e<t.length&&41!==t[e];){var n=a(),i=a();r+=String.fromCharCode(n<<8|i)}return e++,r}var s=null,l=[];function u(t){l.length?(d(t),l.push(t)):(l.push(t),s=t)}function d(t){if(!l.length)throw new Error("Invalid data");var e=l[l.length-1];if("string"==typeof e)l[l.length-2][e]=t,f();else{if(!Array.isArray(e))throw new Error("Invalid data");e.push(t)}}function c(t){l.length||u({});var e=l[l.length-1];if(e&&"string"==typeof e)d("nil"===t?null:"/"+t);else{if(!e||"object"!=typeof e)throw new Error("Invalid data");l.push(t)}}function f(){if(!l.length)throw new Error("Invalid data");l.pop()}for(r();e<t.length;){var h=e,p=t[h];if(60===p&&60===t[h+1])e+=2,u({});else if(62===p&&62===t[h+1])e+=2,f();else if(47===p){for(var g=e+=1;e<t.length&&!n(t[e]);)e++;for(var m="",v=g;v<e;v++)m+=String.fromCharCode(t[v]);c(m)}else if(40===p)e+=1,d(o());else if(91===p)e+=1,u([]);else if(93===p)e+=1,f();else if(110===p&&117===t[h+1]&&108===t[h+2]&&108===t[h+3])e+=4,d(null);else if(116===p&&114===t[h+1]&&117===t[h+2]&&101===t[h+3])e+=4,d(!0);else if(102===p&&97===t[h+1]&&108===t[h+2]&&115===t[h+3]&&101===t[h+4])e+=5,d(!1);else if(i(p)){for(var b="";e<t.length&&i(t[e]);)b+=String.fromCharCode(t[e]),e++;d(parseFloat(b))}else e+=1,console.log("Invalid token "+String.fromCharCode(p)+" at "+e);r()}return s};var a=["Axis","XY","Zone","WordSpacing","FirstLineIndent","GlyphSpacing","StartIndent","EndIndent","SpaceBefore","SpaceAfter","LetterSpacing","Values","GridSize","GridLeading","PointBase","BoxBounds","TransformPoint0","TransformPoint1","TransformPoint2","FontSize","Leading","HorizontalScale","VerticalScale","BaselineShift","Tsume","OutlineWidth"],o=["RunLengthArray"];e.serializeEngineData=function(t,e){void 0===e&&(e=!1);var r=new Uint8Array(1024),n=0,i=0;function s(t){if(n>=r.length){var e=new Uint8Array(2*r.length);e.set(r),r=e}r[n]=t,n++}function l(t){for(var e=0;e<t.length;e++)s(t.charCodeAt(e))}function u(){if(e)l(" ");else for(var t=0;t<i;t++)l("\t")}function d(t,r){u(),l("/"+t),g(r,t,!0),e||l("\n")}function c(t){return t.toFixed(5).replace(/(\d)0+$/g,"$1").replace(/^0+\.([1-9])/g,".$1").replace(/^-0+\.0(\d)/g,"-.0$1")}function f(t,e){return e&&-1!==a.indexOf(e)||(0|t)!==t?c(t):function(t){return t.toString()}(t)}function h(t){var e=Object.keys(t);return-1!==e.indexOf("98")&&e.unshift.apply(e,e.splice(e.indexOf("99"),1)),-1!==e.indexOf("99")&&e.unshift.apply(e,e.splice(e.indexOf("99"),1)),e}function p(t){40!==t&&41!==t&&92!==t||s(92),s(t)}function g(t,r,n){function a(){n?l(" "):u()}if(void 0===n&&(n=!1),null===t)a(),l(e?"/nil":"null");else if("number"==typeof t)a(),l(f(t,r));else if("boolean"==typeof t)a(),l(t?"true":"false");else if("string"==typeof t)if(a(),"99"!==r&&"98"!==r||"/"!==t.charAt(0)){l("("),s(254),s(255);for(var m=0;m<t.length;m++){var v=t.charCodeAt(m);p(v>>8&255),p(255&v)}l(")")}else l(t);else if(Array.isArray(t))if(a(),t.every(function(t){return"number"==typeof t})){l("[");for(var b=-1!==o.indexOf(r),y=0,w=t;y<w.length;y++){var _=w[y];l(" "),l(b?f(_):c(_))}l(" ]")}else{l("["),e||l("\n");for(var x=0,S=t;x<S.length;x++)g(_=S[x],r),e||l("\n");u(),l("]")}else if("object"==typeof t){n&&!e&&l("\n"),u(),l("<<"),e||l("\n"),i++;for(var k=0,E=h(t);k<E.length;k++){var B=E[k];d(B,t[B])}i--,u(),l(">>")}}if(e){if("object"==typeof t)for(var m=0,v=h(t);m<v.length;m++){var b=v[m];d(b,t[b])}}else l("\n\n"),g(t);return r.slice(0,n)}},eJ1Q:function(t,e,r){"use strict";(function(e){function r(t,e){i(t,e),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,a){var o=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(a?a(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!a&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):a?(e.nextTick(n,o),a(t)):e.nextTick(n,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,r("8oxB"))},fXKp:function(t,e,r){"use strict";var n=r("hwdV").Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=d,this.end=c,e=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function d(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},a.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},flsF:function(t,e,r){"use strict";var n,i=r("Gwi7").codes,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function l(t,e,i,a){a=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(a);var s=!1;t.on("close",function(){s=!0}),void 0===n&&(n=r("/RdL")),n(t,{readable:e,writable:i},function(t){if(t)return a(t);s=!0,a()});var l=!1;return function(e){if(!s&&!l)return l=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new o("pipe"))}}function u(t){t()}function d(t,e){return t.pipe(e)}function c(t){return t.length?"function"!=typeof t[t.length-1]?s:t.pop():s}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=c(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new a("streams");var o=e.map(function(t,r){var a=r<e.length-1;return l(t,a,r>0,function(t){n||(n=t),t&&o.forEach(u),a||(o.forEach(u),i(n))})});return e.reduce(d)}},gt6k:function(t,e,r){"use strict";(function(e){var n;function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r("/RdL"),o=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function h(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[f].read();null!==r&&(t[d]=null,t[o]=null,t[s]=null,e(h(r,!1)))}}function g(t){e.nextTick(p,t)}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var t=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(r,n){e.nextTick(function(){t[l]?n(t[l]):r(h(void 0,!0))})});var n,i=this[d];if(i)n=new Promise(function(t,e){return function(r,n){t.then(function(){e[u]?r(h(void 0,!0)):e[c](r,n)},n)}}(i,this));else{var a=this[f].read();if(null!==a)return Promise.resolve(h(a,!1));n=new Promise(this[c])}return this[d]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var t=this;return new Promise(function(e,r){t[f].destroy(null,function(t){t?r(t):e(h(void 0,!0))})})}),n),m);t.exports=function(t){var e,r=Object.create(v,(i(e={},f,{value:t,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,l,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,c,{value:function(t,e){var n=r[f].read();n?(r[d]=null,r[o]=null,r[s]=null,t(h(n,!1))):(r[o]=t,r[s]=e)},writable:!0}),e));return r[d]=null,a(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[s];return null!==e&&(r[d]=null,r[o]=null,r[s]=null,e(t)),void(r[l]=t)}var n=r[o];null!==n&&(r[d]=null,r[o]=null,r[s]=null,n(h(void 0,!0))),r[u]=!0}),t.on("readable",g.bind(null,r)),r}}).call(this,r("8oxB"))},"hF/z":function(t,e,r){"use strict";(function(e){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=u;var i=r("vXqZ"),a=r("uE1V");r("P7XM")(u,i);for(var o=n(a.prototype),s=0;s<o.length;s++){var l=o[s];u.prototype[l]||(u.prototype[l]=a.prototype[l])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),a.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||e.nextTick(c,this)}function c(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,r("8oxB"))},hwdV:function(t,e,r){var n=r("tjlA"),i=n.Buffer;function a(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},iZ2G:function(t,e,r){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.SectionDividerType=e.ColorMode=void 0,(i=e.ColorMode||(e.ColorMode={}))[i.Bitmap=0]="Bitmap",i[i.Grayscale=1]="Grayscale",i[i.Indexed=2]="Indexed",i[i.RGB=3]="RGB",i[i.CMYK=4]="CMYK",i[i.Multichannel=7]="Multichannel",i[i.Duotone=8]="Duotone",i[i.Lab=9]="Lab",(n=e.SectionDividerType||(e.SectionDividerType={}))[n.Other=0]="Other",n[n.OpenFolder=1]="OpenFolder",n[n.ClosedFolder=2]="ClosedFolder",n[n.BoundingSectionDivider=3]="BoundingSectionDivider"},iljw:function(t,e,r){"use strict";t.exports=d;var n=r("Gwi7").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r("hF/z");function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function d(t){if(!(this instanceof d))return new d(t);l.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(e,r){f(t,e,r)})}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new s;if(t._transformState.transforming)throw new o;return t.push(null)}r("P7XM")(d,l),d.prototype.push=function(t,e){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,e)},d.prototype._transform=function(t,e,r){r(new i("_transform()"))},d.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},d.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},d.prototype._destroy=function(t,e){l.prototype._destroy.call(this,t,function(t){e(t)})}},"kVK+":function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,d=-7,c=r?i-1:0,f=r?-1:1,h=t[e+c];for(c+=f,a=h&(1<<-d)-1,h>>=-d,d+=s;d>0;a=256*a+t[e+c],c+=f,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=n;d>0;o=256*o+t[e+c],c+=f,d-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=u}return(h?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,l,u=8*a-i-1,d=(1<<u)-1,c=d>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+c>=1?f/l:f*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=d?(s=0,o=d):o+c>=1?(s=(e*l-1)*Math.pow(2,i),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;t[r+h]=255&o,h+=p,o/=256,u-=8);t[r+h-p]|=128*g}},lgos:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.writeColor=e.writePsd=e.writeSection=e.writeUnicodeStringWithPadding=e.writeUnicodeString=e.writePascalString=e.writeSignature=e.writeZeros=e.writeBytes=e.writeFixedPointPath32=e.writeFixedPoint32=e.writeFloat64=e.writeFloat32=e.writeUint32=e.writeInt32=e.writeUint16=e.writeInt16=e.writeUint8=e.getWriterBufferNoCopy=e.getWriterBuffer=e.createWriter=void 0;var i=r("WSo5"),a=r("1QtO"),o=r("x4Ov");function s(t,e){var r=x(t,1);t.view.setUint8(r,e)}function l(t,e){var r=x(t,2);t.view.setInt16(r,e,!1)}function u(t,e){var r=x(t,2);t.view.setUint16(r,e,!1)}function d(t,e){var r=x(t,4);t.view.setInt32(r,e,!1)}function c(t,e){var r=x(t,4);t.view.setUint32(r,e,!1)}function f(t,e){var r=x(t,8);t.view.setFloat64(r,e,!1)}function h(t,e){e&&(_(t,t.offset+e.length),new Uint8Array(t.buffer).set(e,t.offset),t.offset+=e.length)}function p(t,e){for(var r=0;r<e;r++)s(t,0)}function g(t,e){if(4!==e.length)throw new Error("Invalid signature: '"+e+"'");for(var r=0;r<4;r++)s(t,e.charCodeAt(r))}function m(t,e,r){var n=e.length;s(t,n);for(var i=0;i<n;i++){var a=e.charCodeAt(i);s(t,a<128?a:"?".charCodeAt(0))}for(;++n%r;)s(t,0)}function v(t){void 0===t&&(t=[]);for(var e=0,r=0,n=t;r<n.length;r++){var i=n[r];if(i.canvas||i.imageData){var a=k(i),o=a.height;e=Math.max(e,2*o+2*a.width*o)}i.children&&(e=Math.max(e,v(i.children)))}return e}function b(t,e,r,n){void 0===n&&(n=!1);var i=t.offset;d(t,0),r();for(var a=t.offset-i-4,o=a;o%e!=0;)s(t,0),o++;n&&(a=o),t.view.setInt32(i,a,!1)}function y(t,e,r,n){for(var i=function(i){var a=i.key;if("Txt2"===a&&n.invalidateTextLayers)return"continue";i.has(e)&&(g(t,"8BIM"),g(t,a),b(t,"Txt2"===a||"luni"===a||"vmsk"===a||"artb"===a||"artd"===a||"vogk"===a||"SoLd"===a||"lnk2"===a||"vscg"===a||"vsms"===a||"GdFl"===a?4:2,function(){return i.write(t,e,r,n)},"Txt2"!==a))},o=0,s=a.infoHandlers;o<s.length;o++)i(s[o])}function w(t,e){if(e)for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.children&&a.canvas)throw new Error("Invalid layer, cannot have both 'canvas' and 'children' properties");if(a.children&&a.imageData)throw new Error("Invalid layer, cannot have both 'imageData' and 'children' properties");a.children?(t.push({name:"</Layer group>",sectionDivider:{type:3}}),w(t,a.children),t.push(n({sectionDivider:{type:!1===a.opened?2:1,key:"pass",subType:0}},a))):t.push(n({},a))}}function _(t,e){e>t.buffer.byteLength&&function(t,e){var r=t.buffer.byteLength;do{r*=2}while(e>r);var n=new ArrayBuffer(r),i=new Uint8Array(n),a=new Uint8Array(t.buffer);i.set(a),t.buffer=n,t.view=new DataView(t.buffer)}(t,e)}function x(t,e){var r=t.offset;return _(t,t.offset+=e),r}function S(t){var e=i.createCanvas(10,10),r=1;t.width>t.height?(e.width=160,e.height=Math.floor(t.height*(e.width/t.width)),r=e.width/t.width):(e.height=160,e.width=Math.floor(t.width*(e.height/t.height)),r=e.height/t.height);var n=e.getContext("2d");if(n.scale(r,r),t.imageData){var a=i.createCanvas(t.imageData.width,t.imageData.height);a.getContext("2d").putImageData(t.imageData,0,0),n.drawImage(a,0,0)}else t.canvas&&n.drawImage(t.canvas,0,0);return e}function k(t){return t.imageData||t.canvas||{width:0,height:0}}function E(t,e,r,n){for(var i=t.data,a=4*(e*t.width+r)+3|0,o=a+4*(n-r)|0,s=a;s<o;s=s+4|0)if(0!==i[s])return!1;return!0}function B(t,e,r,n){for(var i=t.data,a=4*t.width|0,o=r,s=r*a+4*e+3|0;o<n;o++,s=s+a|0)if(0!==i[s])return!1;return!0}e.createWriter=function(t){void 0===t&&(t=4096);var e=new ArrayBuffer(t);return{buffer:e,view:new DataView(e),offset:0}},e.getWriterBuffer=function(t){return t.buffer.slice(0,t.offset)},e.getWriterBufferNoCopy=function(t){return new Uint8Array(t.buffer,0,t.offset)},e.writeUint8=s,e.writeInt16=l,e.writeUint16=u,e.writeInt32=d,e.writeUint32=c,e.writeFloat32=function(t,e){var r=x(t,4);t.view.setFloat32(r,e,!1)},e.writeFloat64=f,e.writeFixedPoint32=function(t,e){d(t,65536*e)},e.writeFixedPointPath32=function(t,e){d(t,e*(1<<24))},e.writeBytes=h,e.writeZeros=p,e.writeSignature=g,e.writePascalString=m,e.writeUnicodeString=function(t,e){c(t,e.length);for(var r=0;r<e.length;r++)u(t,e.charCodeAt(r))},e.writeUnicodeStringWithPadding=function(t,e){c(t,e.length+1);for(var r=0;r<e.length;r++)u(t,e.charCodeAt(r));u(t,0)},e.writeSection=b,e.writePsd=function(t,e,r){if(void 0===r&&(r={}),!(+e.width>0&&+e.height>0))throw new Error("Invalid document size");var a=e.imageResources||{};r.generateThumbnail&&(a=n(n({},a),{thumbnail:S(e)}));var _=e.imageData;if(!_&&e.canvas&&(_=e.canvas.getContext("2d").getImageData(0,0,e.canvas.width,e.canvas.height)),_&&(e.width!==_.width||e.height!==_.height))throw new Error("Document canvas must have the same size as document");var x=!!_&&i.hasAlpha(_),T=Math.max(v(e.children),8*e.width*e.height+2*e.height),C=new Uint8Array(T);g(t,"8BPS"),u(t,1),p(t,6),u(t,x?4:3),c(t,e.height),c(t,e.width),u(t,8),u(t,3),b(t,1,function(){}),b(t,1,function(){for(var e=function(e){e.has(a)&&(g(t,"8BIM"),u(t,e.key),m(t,"",2),b(t,2,function(){return e.write(t,a)}))},r=0,n=o.resourceHandlers;r<n.length;r++)e(n[r])}),b(t,2,function(){!function(t,e,r,n,a){b(e,4,function(){var o,v=[];w(v,r.children),v.length||v.push({}),l(e,n?-v.length:v.length);for(var _=v.map(function(e,r){return function(t,e,r,n){var a=function(t,e,r,n){var a=e.top,o=void 0===a?0:a,s=e.left,l=void 0===s?0:s,u=e.right,d=void 0===u?0:u,c=e.bottom,f=void 0===c?0:c,h=[{channelId:-1,compression:0,buffer:void 0,length:2},{channelId:0,compression:0,buffer:void 0,length:2},{channelId:1,compression:0,buffer:void 0,length:2},{channelId:2,compression:0,buffer:void 0,length:2}],p=k(e),g=p.width,m=p.height;if(!e.canvas&&!e.imageData||!g||!m)return{layer:e,top:o,left:l,right:d=l,bottom:f=o,channels:h};d=l+g,f=o+m;var v=e.imageData||e.canvas.getContext("2d").getImageData(0,0,g,m);if(n.trimImageData){var b=function(t){for(var e=0,r=0,n=t.width,i=t.height;e<i&&E(t,e,r,n);)e++;for(;i>e&&E(t,i-1,r,n);)i--;for(;r<n&&B(t,r,e,i);)r++;for(;n>r&&B(t,n-1,e,i);)n--;return{top:e,left:r,right:n,bottom:i}}(v);if(0!==b.left||0!==b.top||b.right!==v.width||b.bottom!==v.height){if(m=(f-=v.height-b.bottom)-(o+=b.top),!(g=(d-=v.width-b.right)-(l+=b.left))||!m)return{layer:e,top:o,left:l,right:d,bottom:f,channels:h};v=e.imageData?function(t,e,r,n,a){for(var o=i.createImageData(n,a),s=t.data,l=o.data,u=0;u<a;u++)for(var d=0;d<n;d++){var c=4*(d+e+(u+r)*n),f=4*(d+u*n);l[f]=s[c],l[f+1]=s[c+1],l[f+2]=s[c+2],l[f+3]=s[c+3]}return o}(v,b.left,b.top,g,m):e.canvas.getContext("2d").getImageData(b.left,b.top,g,m)}}var y=[0,1,2];return(!r||n.noBackground||e.mask||i.hasAlpha(v))&&y.unshift(-1),{layer:e,top:o,left:l,right:d,bottom:f,channels:h=y.map(function(e){var r=i.offsetForChannel(e),n=i.writeDataRLE(t,v,g,m,[r]);return{channelId:e,compression:1,buffer:n,length:2+n.length}})}}(t,e,r,n),o=e.mask;if(o){var s=o.top,l=void 0===s?0:s,u=o.left,d=void 0===u?0:u,c=o.right,f=void 0===c?0:c,h=o.bottom,p=void 0===h?0:h,g=k(o),m=g.width,v=g.height,b=o.imageData;if(!b&&o.canvas&&m&&v&&(b=o.canvas.getContext("2d").getImageData(0,0,m,v)),m&&v&&b){f=d+m,p=l+v;var y=i.writeDataRLE(t,b,m,v,[0]);a.mask={top:l,left:d,right:f,bottom:p},a.channels.push({channelId:-2,compression:1,buffer:y,length:2+y.length})}else a.mask={top:0,left:0,right:0,bottom:0},a.channels.push({channelId:-2,compression:0,buffer:new Uint8Array(0),length:0})}return a}(t,e,0===r,a)}),x=function(t){var n=t.layer,h=t.left,v=t.bottom,w=t.right,_=t.channels;d(e,t.top),d(e,h),d(e,v),d(e,w),u(e,_.length);for(var x=0,S=_;x<S.length;x++){var k=S[x];l(e,k.channelId),d(e,k.length)}g(e,"8BIM"),g(e,i.fromBlendMode[n.blendMode]||"norm"),s(e,Math.round(255*i.clamp(null!==(o=n.opacity)&&void 0!==o?o:1,0,1))),s(e,n.clipping?1:0);var E=8;n.transparencyProtected&&(E|=1),n.hidden&&(E|=2),(n.vectorMask||n.sectionDivider&&0!==n.sectionDivider.type)&&(E|=16),s(e,E),s(e,0),b(e,1,function(){!function(t,e,r){var n=e.mask;b(t,1,function(){if(n){var e=r.mask||{};d(t,e.top),d(t,e.left),d(t,e.bottom),d(t,e.right),s(t,n.defaultColor);var i=0;void 0!==n.userMaskDensity&&(i|=1),void 0!==n.userMaskFeather&&(i|=2),void 0!==n.vectorMaskDensity&&(i|=4),void 0!==n.vectorMaskFeather&&(i|=8);var a=0;n.disabled&&(a|=2),n.positionRelativeToLayer&&(a|=1),n.fromVectorData&&(a|=8),i&&(a|=16),s(t,a),i&&(s(t,i),void 0!==n.userMaskDensity&&s(t,Math.round(255*n.userMaskDensity)),void 0!==n.userMaskFeather&&f(t,n.userMaskFeather),void 0!==n.vectorMaskDensity&&s(t,Math.round(255*n.vectorMaskDensity)),void 0!==n.vectorMaskFeather&&f(t,n.vectorMaskFeather)),p(t,2)}})}(e,n,t),function(t,e){b(t,1,function(){c(t,65535),c(t,65535);for(var r=e.channels||0,n=0;n<r;n++)c(t,65535),c(t,65535)})}(e,r),m(e,n.name||"",4),y(e,n,r,a)})},S=0,T=_;S<T.length;S++)x(T[S]);for(var C=0,R=_;C<R.length;C++)for(var A=0,I=R[C].channels;A<I.length;A++){var D=I[A];u(e,D.compression),D.buffer&&h(e,D.buffer)}},!0)}(C,t,e,x,r),function(t,e){b(t,1,function(){e&&(u(t,e.overlayColorSpace),u(t,e.colorSpace1),u(t,e.colorSpace2),u(t,e.colorSpace3),u(t,e.colorSpace4),u(t,255*e.opacity),s(t,e.kind),p(t,3))})}(t,e.globalLayerMaskInfo),y(t,e,e,r)});var R=x?[0,1,2,3]:[0,1,2],A=_||{data:new Uint8Array(4*e.width*e.height),width:e.width,height:e.height};u(t,1),h(t,i.writeDataRLE(C,A,e.width,e.height,R))},e.writeColor=function(t,e){e?"r"in e?(u(t,0),u(t,Math.round(257*e.r)),u(t,Math.round(257*e.g)),u(t,Math.round(257*e.b)),u(t,0)):"l"in e?(u(t,7),u(t,Math.round(100*e.l)),u(t,Math.round(100*e.a)),u(t,Math.round(100*e.b)),u(t,0)):"h"in e?(u(t,1),u(t,Math.round(e.h)),u(t,Math.round(e.s)),u(t,Math.round(e.b)),u(t,0)):"c"in e?(u(t,2),u(t,Math.round(e.c)),u(t,Math.round(e.m)),u(t,Math.round(e.y)),u(t,Math.round(e.k))):(u(t,8),u(t,Math.round(e.k)),p(t,6)):(u(t,0),p(t,8))}},mrSG:function(t,e,r){"use strict";function n(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(e){a(e)}}function s(t){try{l(n.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})}r.d(e,"a",function(){return n})},o7xb:function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},oEZn:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTokenizer=void 0;const n=r("IPhx");e.AbstractTokenizer=class{constructor(e){this.position=0,this.numBuffer=t.alloc(10),this.fileInfo=e||{}}async readToken(e,r){const i=t.alloc(e.len);if(await this.readBuffer(i,{position:r})<e.len)throw new n.EndOfStreamError;return e.get(i,0)}async peekToken(e,r=this.position){const i=t.alloc(e.len);if(await this.peekBuffer(i,{position:r})<e.len)throw new n.EndOfStreamError;return e.get(i,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new n.EndOfStreamError;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new n.EndOfStreamError;return t.get(this.numBuffer,0)}async close(){}}}).call(this,r("tjlA").Buffer)},opOj:function(t,e,r){"use strict";(function(t){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.writePsdBuffer=e.writePsdUint8Array=e.writePsd=e.readPsd=e.byteArrayToBase64=e.initializeCanvas=void 0;var a=r("lgos"),o=r("DueJ"),s=r("WSo5");Object.defineProperty(e,"initializeCanvas",{enumerable:!0,get:function(){return s.initializeCanvas}}),i(r("iZ2G"),e);var l=r("H7XF");function u(t,e){var r=a.createWriter();return a.writePsd(r,t,e),a.getWriterBufferNoCopy(r)}e.byteArrayToBase64=l.fromByteArray,e.readPsd=function(t,e){var r="buffer"in t?o.createReader(t.buffer,t.byteOffset,t.byteLength):o.createReader(t);return o.readPsd(r,e)},e.writePsd=function(t,e){var r=a.createWriter();return a.writePsd(r,t,e),a.getWriterBuffer(r)},e.writePsdUint8Array=u,e.writePsdBuffer=function(e,r){if(void 0===t)throw new Error("Buffer not supported on this platform");return t.from(u(e,r))}}).call(this,r("tjlA").Buffer)},pojV:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r("tjlA").Buffer,o=r(4).inspect,s=o&&o.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e;return(e=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return a.alloc(0);for(var e=a.allocUnsafe(t>>>0),r=this.head,n=0;r;)a.prototype.copy.call(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,a=t>i.length?i.length:t;if(n+=a===i.length?i:i.slice(0,t),0==(t-=a)){a===i.length?(++r,this.head=e.next?e.next:this.tail=null):(this.head=e,e.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=a.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:s,value:function(t,e){return o(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e,{depth:0,customInspect:!1}))}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e),t}()},qXd6:function(t,e){t.exports=i,i.strict=a,i.loose=o;var r=Object.prototype.toString,n={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function i(t){return a(t)||o(t)}function a(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function o(t){return n[r.call(t)]}},t9FE:function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r("yLpj"))},tgq0:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strokeStyleLineAlignment=e.strokeStyleLineJoinType=e.strokeStyleLineCapType=e.FrFl=e.FStl=e.ClrS=e.GrdT=e.IGSr=e.BETE=e.BESs=e.bvlT=e.BESl=e.BlnM=e.warpStyle=e.Annt=e.Ornt=e.textGridding=e.unitsValue=e.unitsPercent=e.unitsAngle=e.parseUnitsToNumber=e.parseUnits=e.parsePercentOrAngle=e.parsePercent=e.parseAngle=e.writeVersionAndDescriptor=e.readVersionAndDescriptor=e.writeDescriptorStructure=e.readDescriptorStructure=e.readAsciiStringOrClassId=e.setLogErrors=void 0;var n,i,a=r("WSo5"),o=r("DueJ"),s=r("lgos"),l={"#Ang":"Angle","#Rsl":"Density","#Rlt":"Distance","#Nne":"None","#Prc":"Percent","#Pxl":"Pixels","#Mlm":"Millimeters","#Pnt":"Points",RrPi:"Picas",RrIn:"Inches",RrCm:"Centimeters"},u=(n=l,i={},Object.keys(n).forEach(function(t){return i[n[t]]=t}),i),d=!1;function c(t,e){return{name:t,classID:e}}e.setLogErrors=function(t){d=t};for(var f={strokeStyleContent:c("","solidColorLayer"),printProofSetup:c("Proof Setup","proofSetup"),patternFill:c("","patternFill"),Grad:c("Gradient","Grdn"),ebbl:c("","ebbl"),SoFi:c("","SoFi"),GrFl:c("","GrFl"),sdwC:c("","RGBC"),hglC:c("","RGBC"),"Clr ":c("","RGBC"),tintColor:c("","RGBC"),Ofst:c("","Pnt "),ChFX:c("","ChFX"),MpgS:c("","ShpC"),DrSh:c("","DrSh"),IrSh:c("","IrSh"),OrGl:c("","OrGl"),IrGl:c("","IrGl"),TrnS:c("","ShpC"),Ptrn:c("","Ptrn"),FrFX:c("","FrFX"),phase:c("","Pnt "),frameStep:c("","null"),duration:c("","null"),bounds:c("","Rctn"),customEnvelopeWarp:c("","customEnvelopeWarp"),warp:c("","warp"),"Sz  ":c("","Pnt "),origin:c("","Pnt "),autoExpandOffset:c("","Pnt "),keyOriginShapeBBox:c("","unitRect"),Vrsn:c("","null"),psVersion:c("","null"),docDefaultNewArtboardBackgroundColor:c("","RGBC"),artboardRect:c("","classFloatRect"),keyOriginRRectRadii:c("","radii"),compInfo:c("","null")},h={"Crv ":c("","CrPt"),Clrs:c("","Clrt"),Trns:c("","TrnS"),keyDescriptorList:c("","null")},p={TEXT:["Txt ","printerName","Nm  ","Idnt","blackAndWhitePresetFileName","LUT3DFileName","presetFileName","curvesPresetFileName","mixerPresetFileName","placed","description","reason","artboardPresetName"],tdta:["EngineData","LUT3DFileData"],long:["TextIndex","RndS","Mdpn","Smth","Lctn","strokeStyleVersion","LaID","Vrsn","Cnt ","Brgh","Cntr","means","vibrance","Strt","bwPresetKind","presetKind","comp","compID","originalCompID","curvesPresetKind","mixerPresetKind","uOrder","vOrder","PgNm","totalPages","Crop","numerator","denominator","frameCount","Annt","keyOriginType","unitValueQuadVersion","keyOriginIndex","major","minor","fix","docDefaultNewArtboardBackgroundType","artboardBackgroundType"],enum:["textGridding","Ornt","warpStyle","warpRotate","Inte","Bltn","ClrS","sdwM","hglM","bvlT","bvlS","bvlD","Md  ","glwS","GrdF","GlwT","strokeStyleLineCapType","strokeStyleLineJoinType","strokeStyleLineAlignment","strokeStyleBlendMode","PntT","Styl","lookupType","LUTFormat","dataOrder","tableOrder","enableCompCore","enableCompCoreGPU","compCoreSupport","compCoreGPUSupport","Engn"],bool:["PstS","printSixteenBit","masterFXSwitch","enab","uglg","antialiasGloss","useShape","useTexture","masterFXSwitch","uglg","antialiasGloss","useShape","useTexture","Algn","Rvrs","Dthr","Invr","VctC","ShTr","layerConceals","strokeEnabled","fillEnabled","strokeStyleScaleLock","strokeStyleStrokeAdjust","hardProof","MpBl","paperWhite","useLegacy","Auto","Lab ","useTint","keyShapeInvalidated","autoExpandEnabled","autoNestEnabled","autoPositionEnabled","shrinkwrapOnSaveEnabled"],doub:["warpValue","warpPerspective","warpPerspectiveOther","Intr","Wdth","Hght","strokeStyleMiterLimit","strokeStyleResolution","layerTime","keyOriginResolution"],UntF:["Scl ","sdwO","hglO","lagl","Lald","srgR","blur","Sftn","Opct","Dstn","Angl","Ckmt","Nose","Inpr","ShdN","strokeStyleLineWidth","strokeStyleLineDashOffset","strokeStyleOpacity","H   ","Top ","Left","Btom","Rght","Rslt","topRight","topLeft","bottomLeft","bottomRight"],VlLs:["Crv ","Clrs","Mnm ","Mxm ","Trns","pathList","strokeStyleLineDashSet","FrLs","LaSt","Trnf","nonAffineTransform","keyDescriptorList","guideIndeces"],ObAr:["meshPoints"]},g=["Rd  ","Grn ","Bl  ","Yllw","Ylw ","Cyn ","Mgnt","Blck","Gry ","Lmnc","A   ","B   "],m={"Mnm ":"long","Mxm ":"long",FrLs:"long",strokeStyleLineDashSet:"UntF",Trnf:"doub",nonAffineTransform:"doub",keyDescriptorList:"Objc"},v={},b=0,y=Object.keys(p);b<y.length;b++)for(var w=y[b],_=0,x=p[w];_<x.length;_++)v[x[_]]=w;for(var S=0,k=Object.keys(f);S<k.length;S++)v[k[S]]="Objc";for(var E=0,B=Object.keys(h);E<B.length;E++)m[B[E]]="Objc";function T(t,e,r){return"Sz  "===t?"Wdth"in e?"Objc":"units"in e?"UntF":"doub":"Type"===t?"string"==typeof e?"enum":"long":"AntA"===t?"string"==typeof e?"enum":"bool":"Hrzn"===t||"Vrtc"===t||"Top "===t||"Left"===t||"Btom"===t||"Rght"===t?"number"==typeof e?"doub":"UntF":"Vrsn"===t?"number"==typeof e?"long":"Objc":"Rd  "===t||"Grn "===t||"Bl  "===t?"artd"===r?"long":"doub":v[t]}function C(t){var e=o.readInt32(t);return o.readAsciiString(t,e||4)}function R(t,e){if(4===e.length&&"warp"!==e)s.writeInt32(t,0),s.writeSignature(t,e);else{s.writeInt32(t,e.length);for(var r=0;r<e.length;r++)s.writeUint8(t,e.charCodeAt(r))}}function A(t){var e={};O(t);for(var r=o.readUint32(t),n=0;n<r;n++){var i=C(t),a=D(t,o.readSignature(t));e[i]=a}return e}function I(t,e,r,n,i){d&&!r&&console.log("Missing classId for: ",e,r,n),s.writeUnicodeStringWithPadding(t,e),R(t,r);var a=Object.keys(n);s.writeUint32(t,a.length);for(var o=0,l=a;o<l.length;o++){var u=l[o],h=T(u,n[u],i),p=f[u];"Strt"!==u&&"Brgh"!==u||!("H   "in n)?-1!==g.indexOf(u)?h="RGBC"===r&&"artd"!==i?"doub":"long":"profile"===u?h="printOutput"===r?"TEXT":"tdta":"strokeStyleContent"===u&&(n[u]["Clr "]?p=c("","solidColorLayer"):n[u].Grad?p=c("","gradientLayer"):n[u].Ptrn?p=c("","patternLayer"):d&&console.log("Invalid strokeStyleContent value",n[u])):h="doub",p&&"RGBC"===p.classID&&"H   "in n[u]&&(p={classID:"HSBC",name:""}),R(t,u),s.writeSignature(t,h||"long"),L(t,h||"long",n[u],u,p,i),d&&!h&&console.log("Missing descriptor field type for: '"+u+"' in",n)}}function D(t,e){switch(e){case"obj ":return function(t){for(var e=o.readInt32(t),r=[],n=0;n<e;n++){var i=o.readSignature(t);switch(i){case"prop":var a=O(t),s=a.name,l=a.classID,u=C(t);r.push({name:s,classID:l,keyID:u});break;case"Clss":r.push(O(t));break;case"Enmr":var d=O(t),c=d.name,f=(l=d.classID,C(t)),h=C(t);r.push({name:c,classID:l,TypeID:f,value:h});break;case"rele":var p=O(t),g=p.name;l=p.classID,h=o.readUint32(t),r.push({name:g,classID:l,value:h});break;case"Idnt":case"indx":r.push(o.readInt32(t));break;case"name":r.push(o.readUnicodeString(t));break;default:throw new Error("Invalid TySh descriptor Reference type: "+i)}}return r}(t);case"Objc":case"GlbO":return A(t);case"VlLs":for(var r=o.readInt32(t),n=[],i=0;i<r;i++){var a=o.readSignature(t);n.push(D(t,a))}return n;case"doub":return o.readFloat64(t);case"UntF":var s=o.readSignature(t),u=o.readFloat64(t);if(!l[s])throw new Error("Invalid units: "+s);return{units:l[s],value:u};case"UnFl":if(s=o.readSignature(t),u=o.readFloat32(t),!l[s])throw new Error("Invalid units: "+s);return{units:l[s],value:u};case"TEXT":return o.readUnicodeString(t);case"enum":return C(t)+"."+C(t);case"long":return o.readInt32(t);case"comp":return{low:o.readUint32(t),high:o.readUint32(t)};case"bool":return!!o.readUint8(t);case"type":case"GlbC":return O(t);case"alis":var d=o.readInt32(t);return o.readAsciiString(t,d);case"tdta":var c=o.readInt32(t);return o.readBytes(t,c);case"ObAr":o.readInt32(t),o.readUnicodeString(t),C(t);var f=o.readInt32(t);for(n=[],i=0;i<f;i++){var h=C(t);o.readSignature(t),o.readSignature(t);for(var p=o.readInt32(t),g=[],m=0;m<p;m++)g.push(o.readFloat64(t));n.push({type:h,values:g})}return n;case"Pth ":o.readInt32(t);var v=o.readSignature(t);o.readInt32LE(t);var b=o.readInt32LE(t);return{sig:v,path:o.readUnicodeStringWithLength(t,b)};default:throw new Error("Invalid TySh descriptor OSType: "+e+" at "+t.offset.toString(16))}}function L(t,e,r,n,i,a){switch(e){case"Objc":case"GlbO":if(!i)throw new Error("Missing ext type for: '"+n+"' ("+JSON.stringify(r)+")");I(t,i.name,i.classID,r,a);break;case"VlLs":s.writeInt32(t,r.length);for(var o=0;o<r.length;o++){var l=m[n];s.writeSignature(t,l||"long"),L(t,l||"long",r[o],"",h[n],a),d&&!l&&console.log("Missing descriptor array type for: '"+n+"' in",r)}break;case"doub":s.writeFloat64(t,r);break;case"UntF":if(!u[r.units])throw new Error("Invalid units: "+r.units+" in "+n);s.writeSignature(t,u[r.units]),s.writeFloat64(t,r.value);break;case"UnFl":if(!u[r.units])throw new Error("Invalid units: "+r.units+" in "+n);s.writeSignature(t,u[r.units]),s.writeFloat32(t,r.value);break;case"TEXT":s.writeUnicodeStringWithPadding(t,r);break;case"enum":var c=r.split("."),f=c[1];R(t,c[0]),R(t,f);break;case"long":s.writeInt32(t,r);break;case"bool":s.writeUint8(t,r?1:0);break;case"tdta":s.writeInt32(t,r.byteLength),s.writeBytes(t,r);break;case"ObAr":for(s.writeInt32(t,16),s.writeUnicodeStringWithPadding(t,""),R(t,"rationalPoint"),s.writeInt32(t,r.length),o=0;o<r.length;o++){R(t,r[o].type),s.writeSignature(t,"UnFl"),s.writeSignature(t,"#Pxl"),s.writeInt32(t,r[o].values.length);for(var p=0;p<r[o].values.length;p++)s.writeFloat64(t,r[o].values[p])}break;default:throw new Error("Not implemented TySh descriptor OSType: "+e)}}function O(t){return{name:o.readUnicodeString(t),classID:C(t)}}e.readAsciiStringOrClassId=C,e.readDescriptorStructure=A,e.writeDescriptorStructure=I,e.readVersionAndDescriptor=function(t){if(16!==o.readUint32(t))throw new Error("Invalid descriptor version");return A(t)},e.writeVersionAndDescriptor=function(t,e,r,n,i){void 0===i&&(i=""),s.writeUint32(t,16),I(t,e,r,n,i)},e.parseAngle=function(t){if(void 0===t)return 0;if("Angle"!==t.units)throw new Error("Invalid units: "+t.units);return t.value},e.parsePercent=function(t){if(void 0===t)return 1;if("Percent"!==t.units)throw new Error("Invalid units: "+t.units);return t.value/100},e.parsePercentOrAngle=function(t){if(void 0===t)return 1;if("Percent"===t.units)return t.value/100;if("Angle"===t.units)return t.value/360;throw new Error("Invalid units: "+t.units)},e.parseUnits=function(t){var e=t.units,r=t.value;if("Pixels"!==e&&"Millimeters"!==e&&"Points"!==e&&"None"!==e&&"Picas"!==e&&"Inches"!==e&&"Centimeters"!==e&&"Density"!==e)throw new Error("Invalid units: "+JSON.stringify({units:e,value:r}));return{value:r,units:e}},e.parseUnitsToNumber=function(t,e){var r=t.units,n=t.value;if(r!==e)throw new Error("Invalid units: "+JSON.stringify({units:r,value:n}));return n},e.unitsAngle=function(t){return{units:"Angle",value:t||0}},e.unitsPercent=function(t){return{units:"Percent",value:Math.round(100*(t||0))}},e.unitsValue=function(t,e){if(null==t)return{units:"Pixels",value:0};if("object"!=typeof t)throw new Error("Invalid value: "+JSON.stringify(t)+" (key: "+e+") (should have value and units)");var r=t.units,n=t.value;if("number"!=typeof n)throw new Error("Invalid value in "+JSON.stringify(t)+" (key: "+e+")");if("Pixels"!==r&&"Millimeters"!==r&&"Points"!==r&&"None"!==r&&"Picas"!==r&&"Inches"!==r&&"Centimeters"!==r&&"Density"!==r)throw new Error("Invalid units in "+JSON.stringify(t)+" (key: "+e+")");return{units:r,value:n}},e.textGridding=a.createEnum("textGridding","none",{none:"None"}),e.Ornt=a.createEnum("Ornt","horizontal",{horizontal:"Hrzn",vertical:"Vrtc"}),e.Annt=a.createEnum("Annt","sharp",{none:"Anno",sharp:"antiAliasSharp",crisp:"AnCr",strong:"AnSt",smooth:"AnSm"}),e.warpStyle=a.createEnum("warpStyle","none",{none:"warpNone",arc:"warpArc",arcLower:"warpArcLower",arcUpper:"warpArcUpper",arch:"warpArch",bulge:"warpBulge",shellLower:"warpShellLower",shellUpper:"warpShellUpper",flag:"warpFlag",wave:"warpWave",fish:"warpFish",rise:"warpRise",fisheye:"warpFisheye",inflate:"warpInflate",squeeze:"warpSqueeze",twist:"warpTwist",custom:"warpCustom"}),e.BlnM=a.createEnum("BlnM","normal",{normal:"Nrml",dissolve:"Dslv",darken:"Drkn",multiply:"Mltp","color burn":"CBrn","linear burn":"linearBurn","darker color":"darkerColor",lighten:"Lghn",screen:"Scrn","color dodge":"CDdg","linear dodge":"linearDodge","lighter color":"lighterColor",overlay:"Ovrl","soft light":"SftL","hard light":"HrdL","vivid light":"vividLight","linear light":"linearLight","pin light":"pinLight","hard mix":"hardMix",difference:"Dfrn",exclusion:"Xclu",subtract:"blendSubtraction",divide:"blendDivide",hue:"H   ",saturation:"Strt",color:"Clr ",luminosity:"Lmns"}),e.BESl=a.createEnum("BESl","inner bevel",{"inner bevel":"InrB","outer bevel":"OtrB",emboss:"Embs","pillow emboss":"PlEb","stroke emboss":"strokeEmboss"}),e.bvlT=a.createEnum("bvlT","smooth",{smooth:"SfBL","chisel hard":"PrBL","chisel soft":"Slmt"}),e.BESs=a.createEnum("BESs","up",{up:"In  ",down:"Out "}),e.BETE=a.createEnum("BETE","softer",{softer:"SfBL",precise:"PrBL"}),e.IGSr=a.createEnum("IGSr","edge",{edge:"SrcE",center:"SrcC"}),e.GrdT=a.createEnum("GrdT","linear",{linear:"Lnr ",radial:"Rdl ",angle:"Angl",reflected:"Rflc",diamond:"Dmnd"}),e.ClrS=a.createEnum("ClrS","rgb",{rgb:"RGBC",hsb:"HSBl",lab:"LbCl"}),e.FStl=a.createEnum("FStl","outside",{outside:"OutF",center:"CtrF",inside:"InsF"}),e.FrFl=a.createEnum("FrFl","color",{color:"SClr",gradient:"GrFl",pattern:"Ptrn"}),e.strokeStyleLineCapType=a.createEnum("strokeStyleLineCapType","butt",{butt:"strokeStyleButtCap",round:"strokeStyleRoundCap",square:"strokeStyleSquareCap"}),e.strokeStyleLineJoinType=a.createEnum("strokeStyleLineJoinType","miter",{miter:"strokeStyleMiterJoin",round:"strokeStyleRoundJoin",bevel:"strokeStyleBevelJoin"}),e.strokeStyleLineAlignment=a.createEnum("strokeStyleLineAlignment","inside",{inside:"strokeStyleAlignInside",center:"strokeStyleAlignCenter",outside:"strokeStyleAlignOutside"})},tjlA:function(t,e,r){"use strict";(function(t){var n=r("H7XF"),i=r("kVK+"),a=r("49sm");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=f(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=s(t,n)).write(e,r);return i!==n&&(t=t.slice(0,i)),t}(t,e,r):function(t,e){if(l.isBuffer(e)){var r=0|h(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):f(t,e);if("Buffer"===e.type&&a(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(d(e),t=s(t,e<0?0:0|h(e)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|h(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function h(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(n)return z(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){var a,o=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var d=-1;for(a=r;a<s;a++)if(u(t,a)===u(e,-1===d?0:a-d)){if(-1===d&&(d=a),a-d+1===l)return d*o}else-1!==d&&(a-=a-d),d=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var c=!0,f=0;f<l;f++)if(u(t,a+f)!==u(e,f)){c=!1;break}if(c)return a}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function w(t,e,r,n){return G(z(e,t.length-r),t,r,n)}function _(t,e,r,n){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return _(t,e,r,n)}function S(t,e,r,n){return G(j(e),t,r,n)}function k(t,e,r,n){return G(function(t,e){for(var r,n,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function E(t,e,r){return n.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,o,s,l,u=t[i],d=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(d=u);break;case 2:128==(192&(a=t[i+1]))&&(l=(31&u)<<6|63&a)>127&&(d=l);break;case 3:o=t[i+2],128==(192&(a=t[i+1]))&&128==(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=t[i+2],s=t[i+3],128==(192&(a=t[i+1]))&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,c=1):d>65535&&(n.push((d-=65536)>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=c}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=o(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return u(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return function(t,e,r,n){return d(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),s=Math.min(a,o),u=this.slice(n,i),d=t.slice(e,r),c=0;c<s;++c)if(u[c]!==d[c]){a=u[c],o=d[c];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function A(t,e,r){var n,i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var a="",o=e;o<r;++o)a+=(n=t[o])<16?"0"+n.toString(16):n.toString(16);return a}function I(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function D(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function O(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function P(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function F(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,a){return a||F(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,a){return a||F(t,0,r,8),i.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},l.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=l.isBuffer(t)?t:z(new l(t,n).toString()),s=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function z(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function j(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r("yLpj"))},uE1V:function(t,e,r){"use strict";(function(e,n){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(void 0),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var a;t.exports=E,E.WritableState=k;var o,s={deprecate:r("t9FE")},l=r("UYS0"),u=r("tjlA").Buffer,d=e.Uint8Array||function(){},c=r("eJ1Q"),f=r("4ROa").getHighWaterMark,h=r("Gwi7").codes,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,x=c.errorOrDestroy;function S(){}function k(t,e,o){a=a||r("hF/z"),"boolean"!=typeof o&&(o=e instanceof a),this.objectMode=!!(t=t||{}).objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,a){--e.pendingcb,r?(n.nextTick(a,i),n.nextTick(I,t,e),t._writableState.errorEmitted=!0,x(t,i)):(a(i),t._writableState.errorEmitted=!0,x(t,i),I(t,e))}(t,r,i,e,a);else{var o=R(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||C(t,r),i?n.nextTick(T,t,r,o,a):T(t,r,o,a)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(t){var e=this instanceof(a=a||r("hF/z"));if(!e&&!o.call(E,this))return new E(t);this._writableState=new k(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function B(t,e,r,n,i,a,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function T(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),I(t,e)}function C(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=new Array(e.bufferedRequestCount),a=e.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)n[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;n.allBuffers=s,B(t,e,!0,e.length,n,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk;if(B(t,e,!1,e.objectMode?1:l.length,l,r.encoding,r.callback),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function R(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function A(t,e){t._final(function(r){e.pendingcb--,r&&x(t,r),e.prefinished=!0,t.emit("prefinish"),I(t,e)})}function I(t,e){var r=R(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(A,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}r("P7XM")(E,l),k.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===E&&t&&t._writableState instanceof k}})):o=function(t){return t instanceof this},E.prototype.pipe=function(){x(this,new v)},E.prototype.write=function(t,e,r){var i,a=this._writableState,o=!1,s=!a.objectMode&&(u.isBuffer(i=t)||i instanceof d);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=a.defaultEncoding),"function"!=typeof r&&(r=S),a.ending?function(t,e){var r=new w;x(t,r),n.nextTick(e,r)}(this,r):(s||function(t,e,r,i){var a;return null===r?a=new y:"string"==typeof r||e.objectMode||(a=new p("chunk",["string","Buffer"],r)),!a||(x(t,a),n.nextTick(i,a),!1)}(this,a,t,r))&&(a.pendingcb++,o=function(t,e,r,n,i,a){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=e.objectMode?1:n.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else B(t,e,!1,s,n,i,a);return l}(this,a,s,t,e,r)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||C(this,t))},E.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(t,e,r){r(new g("_write()"))},E.prototype._writev=null,E.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,I(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),E.prototype.destroy=c.destroy,E.prototype._undestroy=c.undestroy,E.prototype._destroy=function(t,e){e(t)}}).call(this,r("yLpj"),r("8oxB"))},vXqZ:function(t,e,r){"use strict";(function(e,n){var i;t.exports=E,E.ReadableState=k,r("+qE3");var a,o=function(t,e){return t.listeners(e).length},s=r("UYS0"),l=r("tjlA").Buffer,u=e.Uint8Array||function(){},d=r(3);a=d&&d.debuglog?d.debuglog("stream"):function(){};var c,f,h,p=r("pojV"),g=r("eJ1Q"),m=r("4ROa").getHighWaterMark,v=r("Gwi7").codes,b=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("P7XM")(E,s);var x=g.errorOrDestroy,S=["error","close","destroy","pause","resume"];function k(t,e,n){i=i||r("hF/z"),"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!(t=t||{}).objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(c||(c=r("fXKp").StringDecoder),this.decoder=new c(t.encoding),this.encoding=t.encoding)}function E(t){if(i=i||r("hF/z"),!(this instanceof E))return new E(t);this._readableState=new k(t,this,this instanceof i),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function B(t,e,r,n,i){a("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(a("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?A(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,I(t)))}}(t,s);else if(i||(o=function(t,e){var r,n;return l.isBuffer(n=e)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],e)),r}(s,e)),o)x(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),n)s.endEmitted?x(t,new _):T(t,s,e,!0);else if(s.ended)x(t,new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?T(t,s,e,!1):D(t,s)):T(t,s,e,!1)}else n||(s.reading=!1,D(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function T(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&A(t)),D(t,e)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),E.prototype.destroy=g.destroy,E.prototype._undestroy=g.undestroy,E.prototype._destroy=function(t,e){e(t)},E.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=l.from(t,e),e=""),r=!0),B(this,t,e,!1,r)},E.prototype.unshift=function(t){return B(this,t,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){c||(c=r("fXKp").StringDecoder);var e=new c(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function R(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function A(t){var e=t._readableState;a("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(a("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(I,t))}function I(t){var e=t._readableState;a("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,U(t)}function D(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(a("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function O(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function P(t){a("readable nexttick read 0"),t.read(0)}function F(t,e){a("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),U(t),e.flowing&&!e.reading&&t.read(0)}function U(t){var e=t._readableState;for(a("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function N(t){var e=t._readableState;a("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(z,e,t))}function z(t,e){if(a("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function j(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}E.prototype.read=function(t){a("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return a("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?N(this):A(this),null;if(0===(t=R(t,e))&&e.ended)return 0===e.length&&N(this),null;var n,i=e.needReadable;return a("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&a("length less than watermark",i=!0),e.ended||e.reading?a("reading or ended",i=!1):i&&(a("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=R(r,e))),null===(n=t>0?M(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&N(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(t){x(this,new w("_read()"))},E.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,e);var s=e&&!1===e.end||t===n.stdout||t===n.stderr?g:l;function l(){a("onend"),t.end()}i.endEmitted?n.nextTick(s):r.once("end",s),t.on("unpipe",function e(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),t.removeListener("close",h),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",e),r.removeListener("end",l),r.removeListener("end",g),r.removeListener("data",c),d=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||u())});var u=function(t){return function(){var e=t._readableState;a("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,U(t))}}(r);t.on("drain",u);var d=!1;function c(e){a("ondata");var n=t.write(e);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==j(i.pipes,t))&&!d&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(e){a("onerror",e),g(),t.removeListener("error",f),0===o(t,"error")&&x(t,e)}function h(){t.removeListener("finish",p),g()}function p(){a("onfinish"),t.removeListener("close",h),g()}function g(){a("unpipe"),r.unpipe(t)}return r.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on(e,r)}(t,"error",f),t.once("close",h),t.once("finish",p),t.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),t},E.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=j(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},E.prototype.addListener=E.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?A(this):i.reading||n.nextTick(P,this))),r},E.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(O,this),r},E.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(O,this),e},E.prototype.resume=function(){var t=this._readableState;return t.flowing||(a("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(F,t,e))}(this,t)),t.paused=!1,this},E.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){a("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r("gt6k")),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),E._fromList=M,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,e){return void 0===h&&(h=r("o7xb")),h(E,t,e)})}).call(this,r("yLpj"),r("8oxB"))},x4Ov:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resourceHandlersMap=e.resourceHandlers=void 0;var n=r("H7XF"),i=r("DueJ"),a=r("lgos"),o=r("WSo5"),s=r("yEox"),l=r("tgq0");function u(t,r,n,i){var a={key:t,has:r,read:n,write:i};e.resourceHandlers.push(a),e.resourceHandlersMap[a.key]=a}e.resourceHandlers=[],e.resourceHandlersMap={};var d=[void 0,"PPI","PPCM"],c=[void 0,"Inches","Centimeters","Points","Picas","Columns"],f="0123456789abcdef";function h(t){return t<=57?t-48:t-87}u(1061,function(t){return void 0!==t.captionDigest},function(t,e){for(var r="",n=0;n<16;n++){var a=i.readUint8(t);r+=f[a>>4],r+=f[15&a]}e.captionDigest=r},function(t,e){for(var r=0;r<16;r++)a.writeUint8(t,h((n=e.captionDigest).charCodeAt(i=2*r))<<4|h(n.charCodeAt(i+1)));var n,i}),u(1060,function(t){return void 0!==t.xmpMetadata},function(t,e,r){return e.xmpMetadata=function(t,e){var r=i.readBytes(t,e);return s.decodeString(r)}(t,r())},function(t,e){return function(t,e){var r=s.encodeString(e);a.writeBytes(t,r)}(t,e.xmpMetadata)});var p=o.createEnum("Inte","perceptual",{perceptual:"Img ",saturation:"Grp ","relative colorimetric":"Clrm","absolute colorimetric":"AClr"});u(1082,function(t){return void 0!==t.printInformation},function(t,e){var r,n,i=l.readVersionAndDescriptor(t);e.printInformation={printerName:i.printerName||"",renderingIntent:p.decode(null!==(r=i.Inte)&&void 0!==r?r:"Inte.Img ")};var a=e.printInformation;void 0!==i.PstS&&(a.printerManagesColors=i.PstS),void 0!==i["Nm  "]&&(a.printerProfile=i["Nm  "]),void 0!==i.MpBl&&(a.blackPointCompensation=i.MpBl),void 0!==i.printSixteenBit&&(a.printSixteenBit=i.printSixteenBit),void 0!==i.hardProof&&(a.hardProof=i.hardProof),i.printProofSetup&&(a.proofSetup="Bltn"in i.printProofSetup?{builtin:i.printProofSetup.Bltn.split(".")[1]}:{profile:i.printProofSetup.profile,renderingIntent:p.decode(null!==(n=i.printProofSetup.Inte)&&void 0!==n?n:"Inte.Img "),blackPointCompensation:!!i.printProofSetup.MpBl,paperWhite:!!i.printProofSetup.paperWhite})},function(t,e){var r,n,i=e.printInformation,a={};i.printerManagesColors?a.PstS=!0:(void 0!==i.hardProof&&(a.hardProof=!!i.hardProof),a.ClrS="ClrS.RGBC",a["Nm  "]=null!==(r=i.printerProfile)&&void 0!==r?r:"CIE RGB"),a.Inte=p.encode(i.renderingIntent),i.printerManagesColors||(a.MpBl=!!i.blackPointCompensation),a.printSixteenBit=!!i.printSixteenBit,a.printerName=i.printerName||"",a.printProofSetup=i.proofSetup&&"profile"in i.proofSetup?{profile:i.proofSetup.profile||"",Inte:p.encode(i.proofSetup.renderingIntent),MpBl:!!i.proofSetup.blackPointCompensation,paperWhite:!!i.proofSetup.paperWhite}:{Bltn:(null===(n=i.proofSetup)||void 0===n?void 0:n.builtin)?"builtinProof."+i.proofSetup.builtin:"builtinProof.proofCMYK"},l.writeVersionAndDescriptor(t,"","printOutput",a)}),u(1005,function(t){return void 0!==t.resolutionInfo},function(t,e){var r=i.readFixedPoint32(t),n=i.readUint16(t),a=i.readUint16(t),o=i.readFixedPoint32(t),s=i.readUint16(t),l=i.readUint16(t);e.resolutionInfo={horizontalResolution:r,horizontalResolutionUnit:d[n]||"PPI",widthUnit:c[a]||"Inches",verticalResolution:o,verticalResolutionUnit:d[s]||"PPI",heightUnit:c[l]||"Inches"}},function(t,e){var r=e.resolutionInfo;a.writeFixedPoint32(t,r.horizontalResolution||0),a.writeUint16(t,Math.max(1,d.indexOf(r.horizontalResolutionUnit))),a.writeUint16(t,Math.max(1,c.indexOf(r.widthUnit))),a.writeFixedPoint32(t,r.verticalResolution||0),a.writeUint16(t,Math.max(1,d.indexOf(r.verticalResolutionUnit))),a.writeUint16(t,Math.max(1,c.indexOf(r.heightUnit)))});var g=["centered","size to fit","user defined"];u(1062,function(t){return void 0!==t.printScale},function(t,e){e.printScale={style:g[i.readInt16(t)],x:i.readFloat32(t),y:i.readFloat32(t),scale:i.readFloat32(t)}},function(t,e){var r=e.printScale,n=r.x,i=r.y,o=r.scale;a.writeInt16(t,Math.max(0,g.indexOf(r.style))),a.writeFloat32(t,n||0),a.writeFloat32(t,i||0),a.writeFloat32(t,o||0)}),u(1006,function(t){return void 0!==t.alphaChannelNames},function(t,e,r){for(e.alphaChannelNames=[];r();){var n=i.readPascalString(t,1);e.alphaChannelNames.push(n)}},function(t,e){for(var r=0,n=e.alphaChannelNames;r<n.length;r++)a.writePascalString(t,n[r],1)}),u(1045,function(t){return void 0!==t.alphaChannelNames},function(t,e,r){for(e.alphaChannelNames=[];r();)e.alphaChannelNames.push(i.readUnicodeString(t))},function(t,e){for(var r=0,n=e.alphaChannelNames;r<n.length;r++)a.writeUnicodeStringWithPadding(t,n[r])}),u(1053,function(t){return void 0!==t.alphaIdentifiers},function(t,e,r){for(e.alphaIdentifiers=[];r()>=4;)e.alphaIdentifiers.push(i.readUint32(t))},function(t,e){for(var r=0,n=e.alphaIdentifiers;r<n.length;r++)a.writeUint32(t,n[r])}),u(1010,function(t){return void 0!==t.backgroundColor},function(t,e){return e.backgroundColor=i.readColor(t)},function(t,e){return a.writeColor(t,e.backgroundColor)}),u(1037,function(t){return void 0!==t.globalAngle},function(t,e){return e.globalAngle=i.readUint32(t)},function(t,e){return a.writeUint32(t,e.globalAngle)}),u(1049,function(t){return void 0!==t.globalAltitude},function(t,e){return e.globalAltitude=i.readUint32(t)},function(t,e){return a.writeUint32(t,e.globalAltitude)}),u(1011,function(t){return void 0!==t.printFlags},function(t,e){e.printFlags={labels:!!i.readUint8(t),cropMarks:!!i.readUint8(t),colorBars:!!i.readUint8(t),registrationMarks:!!i.readUint8(t),negative:!!i.readUint8(t),flip:!!i.readUint8(t),interpolate:!!i.readUint8(t),caption:!!i.readUint8(t),printFlags:!!i.readUint8(t)}},function(t,e){var r=e.printFlags;a.writeUint8(t,r.labels?1:0),a.writeUint8(t,r.cropMarks?1:0),a.writeUint8(t,r.colorBars?1:0),a.writeUint8(t,r.registrationMarks?1:0),a.writeUint8(t,r.negative?1:0),a.writeUint8(t,r.flip?1:0),a.writeUint8(t,r.interpolate?1:0),a.writeUint8(t,r.caption?1:0),a.writeUint8(t,r.printFlags?1:0)}),u(1024,function(t){return void 0!==t.layerState},function(t,e){return e.layerState=i.readUint16(t)},function(t,e){return a.writeUint16(t,e.layerState)}),u(1026,function(t){return void 0!==t.layersGroup},function(t,e,r){for(e.layersGroup=[];r();)e.layersGroup.push(i.readUint16(t))},function(t,e){for(var r=0,n=e.layersGroup;r<n.length;r++)a.writeUint16(t,n[r])}),u(1072,function(t){return void 0!==t.layerGroupsEnabledId},function(t,e,r){for(e.layerGroupsEnabledId=[];r();)e.layerGroupsEnabledId.push(i.readUint8(t))},function(t,e){for(var r=0,n=e.layerGroupsEnabledId;r<n.length;r++)a.writeUint8(t,n[r])}),u(1069,function(t){return void 0!==t.layerSelectionIds},function(t,e){var r=i.readUint16(t);for(e.layerSelectionIds=[];r--;)e.layerSelectionIds.push(i.readUint32(t))},function(t,e){a.writeUint16(t,e.layerSelectionIds.length);for(var r=0,n=e.layerSelectionIds;r<n.length;r++)a.writeUint32(t,n[r])}),u(1032,function(t){return void 0!==t.gridAndGuidesInformation},function(t,e){var r=i.readUint32(t),n=i.readUint32(t),a=i.readUint32(t),o=i.readUint32(t);if(1!==r)throw new Error("Invalid 1032 resource version: "+r);e.gridAndGuidesInformation={grid:{horizontal:n,vertical:a},guides:[]};for(var s=0;s<o;s++)e.gridAndGuidesInformation.guides.push({location:i.readUint32(t)/32,direction:i.readUint8(t)?"horizontal":"vertical"})},function(t,e){var r=e.gridAndGuidesInformation,n=r.grid||{horizontal:576,vertical:576},i=r.guides||[];a.writeUint32(t,1),a.writeUint32(t,n.horizontal),a.writeUint32(t,n.vertical),a.writeUint32(t,i.length);for(var o=0,s=i;o<s.length;o++){var l=s[o];a.writeUint32(t,32*l.location),a.writeUint8(t,"horizontal"===l.direction?1:0)}}),u(1054,function(t){return void 0!==t.urlsList},function(t,e,r,n){if(i.readUint32(t)){if(!n.throwForMissingFeatures)return;throw new Error("Not implemented: URL List")}e.urlsList=[]},function(t,e){if(a.writeUint32(t,e.urlsList.length),e.urlsList.length)throw new Error("Not implemented: URL List")}),u(1064,function(t){return void 0!==t.pixelAspectRatio},function(t,e){if(i.readUint32(t)>2)throw new Error("Invalid pixelAspectRatio version");e.pixelAspectRatio={aspect:i.readFloat64(t)}},function(t,e){a.writeUint32(t,2),a.writeFloat64(t,e.pixelAspectRatio.aspect)}),u(1041,function(t){return void 0!==t.iccUntaggedProfile},function(t,e){e.iccUntaggedProfile=!!i.readUint8(t)},function(t,e){a.writeUint8(t,e.iccUntaggedProfile?1:0)}),u(1044,function(t){return void 0!==t.idsSeedNumber},function(t,e){return e.idsSeedNumber=i.readUint32(t)},function(t,e){return a.writeUint32(t,e.idsSeedNumber)}),u(1036,function(t){return void 0!==t.thumbnail||void 0!==t.thumbnailRaw},function(t,e,r,n){var a=i.readUint32(t),s=i.readUint32(t),l=i.readUint32(t);i.readUint32(t),i.readUint32(t),i.readUint32(t);var u=i.readUint16(t),d=i.readUint16(t);if(1!==a||24!==u||1!==d)return n.logMissingFeatures&&console.log("Invalid thumbnail data (format: "+a+", bitsPerPixel: "+u+", planes: "+d+")"),void i.skipBytes(t,r());var c=r(),f=i.readBytes(t,c);n.useRawThumbnail?e.thumbnailRaw={width:s,height:l,data:f}:e.thumbnail=o.createCanvasFromData(f)},function(t,e){var r,i=0,o=0;e.thumbnailRaw?(i=e.thumbnailRaw.width,o=e.thumbnailRaw.height,r=e.thumbnailRaw.data):(i=e.thumbnail.width,o=e.thumbnail.height,r=n.toByteArray(e.thumbnail.toDataURL("image/jpeg",1).substr("data:image/jpeg;base64,".length)));var s=4*Math.floor((24*i+31)/32),l=s*o*1,u=r.length;a.writeUint32(t,1),a.writeUint32(t,i),a.writeUint32(t,o),a.writeUint32(t,s),a.writeUint32(t,l),a.writeUint32(t,u),a.writeUint16(t,24),a.writeUint16(t,1),a.writeBytes(t,r)}),u(1057,function(t){return void 0!==t.versionInfo},function(t,e,r){if(1!==i.readUint32(t))throw new Error("Invalid versionInfo version");e.versionInfo={hasRealMergedData:!!i.readUint8(t),writerName:i.readUnicodeString(t),readerName:i.readUnicodeString(t),fileVersion:i.readUint32(t)},i.skipBytes(t,r())},function(t,e){var r=e.versionInfo;a.writeUint32(t,1),a.writeUint8(t,r.hasRealMergedData?1:0),a.writeUnicodeString(t,r.writerName),a.writeUnicodeString(t,r.readerName),a.writeUint32(t,r.fileVersion)}),o.createEnum("FrmD","",{auto:"Auto",none:"None",dispose:"Disp"})},xOOu:function(t,e,r){(function(e,r,n){t.exports=function t(e,r,n){function i(o,s){if(!r[o]){if(!e[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};e[o][0].call(u.exports,function(t){return i(e[o][1][t]||t)},u,u.exports,t,e,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,i,a){(function(e){!function(t){"object"==typeof a&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(t){return a(r[s][1][t]||t)},c,c.exports,e,r,n,i)}return n[s].exports}for(var o="function"==typeof t&&t,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,i,a){(function(e){!function(t){"object"==typeof a&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(t){return a(r[s][1][t]||t)},c,c.exports,e,r,n,i)}return n[s].exports}for(var o="function"==typeof t&&t,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,i,a){(function(e){!function(t){"object"==typeof a&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(t){return a(r[s][1][t]||t)},c,c.exports,e,r,n,i)}return n[s].exports}for(var o="function"==typeof t&&t,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,i,a){(function(e){!function(t){"object"==typeof a&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(t){return a(r[s][1][t]||t)},c,c.exports,e,r,n,i)}return n[s].exports}for(var o="function"==typeof t&&t,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,i,a){(function(e){!function(t){"object"==typeof a&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(r,n,i){function a(s,l){if(!n[s]){if(!r[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(t){return a(r[s][1][t]||t)},c,c.exports,e,r,n,i)}return n[s].exports}for(var o="function"==typeof t&&t,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){"use strict";var n=t("./utils"),i=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,i,o,s,l,u=[],d=0,c=t.length,f=c,h="string"!==n.getTypeOf(t);d<t.length;)f=c-d,i=h?(e=t[d++],r=d<c?t[d++]:0,d<c?t[d++]:0):(e=t.charCodeAt(d++),r=d<c?t.charCodeAt(d++):0,d<c?t.charCodeAt(d++):0),o=(3&e)<<4|r>>4,s=1<f?(15&r)<<2|i>>6:64,l=2<f?63&i:64,u.push(a.charAt(e>>2)+a.charAt(o)+a.charAt(s)+a.charAt(l));return u.join("")},r.decode=function(t){var e,r,n,o,s,l,u=0,d=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===a.charAt(64)&&f--,t.charAt(t.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=i.uint8array?new Uint8Array(0|f):new Array(0|f);u<t.length;)e=a.indexOf(t.charAt(u++))<<2|(o=a.indexOf(t.charAt(u++)))>>4,r=(15&o)<<4|(s=a.indexOf(t.charAt(u++)))>>2,n=(3&s)<<6|(l=a.indexOf(t.charAt(u++))),c[d++]=e,64!==s&&(c[d++]=r),64!==l&&(c[d++]=n);return c}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";var n=t("./external"),i=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),o=t("./stream/DataLengthProbe");function s(t,e,r,n,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var t=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new o("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var n=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(t){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";var n=t("./utils"),i=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==n.getTypeOf(t)?function(t,e,r){var n=i,a=0+r;t^=-1;for(var o=0;o<a;o++)t=t>>>8^n[255&(t^e[o])];return-1^t}(0|e,t,t.length):function(t,e,r){var n=i,a=0+r;t^=-1;for(var o=0;o<a;o++)t=t>>>8^n[255&(t^e.charCodeAt(o))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:37}],7:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),a=t("./utils"),o=t("./stream/GenericWorker"),s=n?"uint8array":"array";function l(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,t.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(t){return new l("Deflate",t)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){"use strict";function n(t,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n}function i(t,e,r,i,o,d){var c,f,h=t.file,p=t.compression,g=d!==s.utf8encode,m=a.transformTo("string",d(h.name)),v=a.transformTo("string",s.utf8encode(h.name)),b=h.comment,y=a.transformTo("string",d(b)),w=a.transformTo("string",s.utf8encode(b)),_=v.length!==h.name.length,x=w.length!==b.length,S="",k="",E="",B=h.dir,T=h.date,C={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(C.crc32=t.crc32,C.compressedSize=t.compressedSize,C.uncompressedSize=t.uncompressedSize);var R=0;e&&(R|=8),g||!_&&!x||(R|=2048);var A,I=0,D=0;B&&(I|=16),"UNIX"===o?(D=798,I|=((A=h.unixPermissions)||(A=B?16893:33204),(65535&A)<<16)):(D=20,I|=63&(h.dosPermissions||0)),c=T.getUTCHours(),c<<=6,c|=T.getUTCMinutes(),c<<=5,c|=T.getUTCSeconds()/2,f=T.getUTCFullYear()-1980,f<<=4,f|=T.getUTCMonth()+1,f<<=5,f|=T.getUTCDate(),_&&(S+="up"+n((k=n(1,1)+n(l(m),4)+v).length,2)+k),x&&(S+="uc"+n((E=n(1,1)+n(l(y),4)+w).length,2)+E);var L="";return L+="\n\0",L+=n(R,2),L+=p.magic,L+=n(c,2),L+=n(f,2),L+=n(C.crc32,4),L+=n(C.compressedSize,4),L+=n(C.uncompressedSize,4),L+=n(m.length,2),L+=n(S.length,2),{fileRecord:u.LOCAL_FILE_HEADER+L+m+S,dirRecord:u.CENTRAL_FILE_HEADER+n(D,2)+L+n(y.length,2)+"\0\0\0\0"+n(I,4)+n(i,4)+m+S+y}}var a=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),l=t("../crc32"),u=t("../signature");function d(t,e,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,o),d.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},d.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(t){this.accumulate=!1;var e,r=this.streamFiles&&!t.file.dir,a=i(t,r,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),r)this.push({data:(e=t,u.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r,i,o,s,l=(r=this.dirRecords.length,i=this.bytesWritten-t,o=t,s=a.transformTo("string",(0,this.encodeFileName)(this.zipComment)),u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(r,2)+n(r,2)+n(i,4)+n(o,4)+n(s.length,2)+s);this.push({data:l,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var n=t("../compressions"),i=t("./ZipFileWorker");r.generateWorker=function(t,e,r){var a=new i(e.streamFiles,r,e.platform,e.encodeFileName),o=0;try{t.forEach(function(t,r){o++;var i=function(t,e){var r=t||e,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,e.compression),s=r.dir,l=r.date;r._compressWorker(i,r.options.compressionOptions||e.compressionOptions||{}).withStreamInfo("file",{name:t,dir:s,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(t){a.error(t)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.5.0",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";var n=t("./utils"),i=t("./external"),a=t("./utf8"),o=t("./zipEntries"),s=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function u(t){return new i.Promise(function(e,r){var n=t.decompressed.getContentWorker().pipe(new s);n.on("error",function(t){r(t)}).on("end",function(){n.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}e.exports=function(t,e){var r=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var r=new o(e);return r.load(t),r}).then(function(t){var r=[i.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var a=0;a<n.length;a++)r.push(u(n[a]));return i.Promise.all(r)}).then(function(t){for(var n=t.shift(),i=n.files,a=0;a<i.length;a++){var o=i[a];r.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";var n=t("../utils"),i=t("../stream/GenericWorker");function a(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}n.inherits(a,i),a.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";var n=t("readable-stream").Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}t("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:void 0!==r,newBufferFrom:function(t,e){if(r.from&&r.from!==Uint8Array.from)return r.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new r(t,e)},allocBuffer:function(t){if(r.alloc)return r.alloc(t);var e=new r(t);return e.fill(0),e},isBuffer:function(t){return r.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function n(t,e,r){var n,a,l=o.getTypeOf(e),f=o.extend(r||{},u);f.date=f.date||new Date,null!==f.compression&&(f.compression=f.compression.toUpperCase()),"string"==typeof f.unixPermissions&&(f.unixPermissions=parseInt(f.unixPermissions,8)),f.unixPermissions&&16384&f.unixPermissions&&(f.dir=!0),f.dosPermissions&&16&f.dosPermissions&&(f.dir=!0),f.dir&&(t=i(t)),f.createFolders&&(n=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""}(t))&&g.call(this,n,!0),r&&void 0!==r.binary||(f.binary=!("string"===l&&!1===f.binary&&!1===f.base64)),(e instanceof d&&0===e.uncompressedSize||f.dir||!e||0===e.length)&&(f.base64=!1,f.binary=!0,e="",f.compression="STORE",l="string"),a=e instanceof d||e instanceof s?e:h.isNode&&h.isStream(e)?new p(t,e):o.prepareContent(t,e,f.binary,f.optimizedBinaryString,f.base64);var m=new c(t,a,f);this.files[t]=m}function i(t){return"/"!==t.slice(-1)&&(t+="/"),t}var a=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),u=t("./defaults"),d=t("./compressedObject"),c=t("./zipObject"),f=t("./generate"),h=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),g=function(t,e){return e=void 0!==e?e:u.createFolders,t=i(t),this.files[t]||n.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,n;for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,n))},filter:function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(n)}),e},file:function(t,e,r){if(1!==arguments.length)return n.call(this,t=this.root+t,e,r),this;if(m(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var a=this.files[this.root+t];return a&&!a.dir?a:null},folder:function(t){if(!t)return this;if(m(t))return this.filter(function(e,r){return r.dir&&t.test(e)});var e=g.call(this,this.root+t),r=this.clone();return r.root=e.name,r},remove:function(t){var e=this.files[t=this.root+t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(e,r){return r.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS"),e=f.generateWorker(this,r,r.comment||this.comment||"")}catch(t){(e=new s("error")).error(t)}return new l(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";var n=t("./DataReader");function i(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,n),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===e&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),a=this.readData(4);return e===a[0]&&r===a[1]&&n===a[2]&&i===a[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";var n=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,r){"use strict";var n=t("./Uint8ArrayReader");function i(t){n.call(this,t)}t("../utils").inherits(i,n),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";var n=t("./DataReader");function i(t){n.call(this,t)}t("../utils").inherits(i,n),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";var n=t("./ArrayReader");function i(t){n.call(this,t)}t("../utils").inherits(i,n),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var n=t("../utils"),i=t("../support"),a=t("./ArrayReader"),o=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new l(n.transformTo("uint8array",t)):new a(n.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,r){"use strict";var n=t("./GenericWorker"),i=t("../utils");function a(t){n.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(a,n),a.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";var n=t("./GenericWorker"),i=t("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,n),a.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";var n=t("../utils"),i=t("./GenericWorker");function a(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}n.inherits(a,i),a.prototype.processChunk=function(t){t&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+t.data.length),i.prototype.processChunk.call(this,t)},e.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";var n=t("../utils"),i=t("./GenericWorker");function a(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}n.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],29:[function(t,e,n){"use strict";var i=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),s=t("../base64"),l=t("../support"),u=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function c(t,e,r){var n=e;switch(e){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=e,this._mimeType=r,i.checkSupport(n),this._worker=t.pipe(new a(n)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}c.prototype={accumulate:function(t){return e=this,n=t,new u.Promise(function(t,a){var o=[],l=e._internalType,u=e._outputType,d=e._mimeType;e.on("data",function(t,e){o.push(t),n&&n(e)}).on("error",function(t){o=[],a(t)}).on("end",function(){try{var e=function(t,e,r){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),r);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(u,function(t,e){var n,i=0,a=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(a=new Uint8Array(o),n=0;n<e.length;n++)a.set(e[n],i),i+=e[n].length;return a;case"nodebuffer":return r.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,o),d);t(e)}catch(e){a(e)}o=[]}).resume()});var e,n},on:function(t,e){var r=this;return this._worker.on(t,"data"===t?function(t){e.call(r,t.data,t.meta)}:function(){i.delay(e,arguments,r)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==r,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),n.blob=0===a.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){"use strict";for(var n=t("./utils"),i=t("./support"),a=t("./nodejsUtils"),o=t("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(t){return i.nodebuffer?a.newBufferFrom(t,"utf-8"):function(t){var e,r,n,a,o,s=t.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=i.uint8array?new Uint8Array(l):new Array(l),a=o=0;o<l;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?e[o++]=r:(r<2048?e[o++]=192|r>>>6:(r<65536?e[o++]=224|r>>>12:(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63),e[o++]=128|r>>>6&63),e[o++]=128|63&r);return e}(t)},r.utf8decode=function(t){return i.nodebuffer?n.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,i,a,o=t.length,l=new Array(2*o);for(e=r=0;e<o;)if((i=t[e++])<128)l[r++]=i;else if(4<(a=s[i]))l[r++]=65533,e+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&e<o;)i=i<<6|63&t[e++],a--;1<a?l[r++]=65533:i<65536?l[r++]=i:(l[r++]=55296|(i-=65536)>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(t=n.transformTo(i.uint8array?"uint8array":"array",t))},n.inherits(u,o),u.prototype.processChunk=function(t){var e=n.transformTo(i.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=e;(e=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),e.set(a,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0||0===r?e:r+s[t[r]]>e?r:e}(e),l=e;o!==e.length&&(i.uint8array?(l=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(l=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:r.utf8decode(l),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,n.inherits(d,o),d.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){"use strict";var n=t("./support"),i=t("./base64"),a=t("./nodejsUtils"),o=t("set-immediate-shim"),s=t("./external");function l(t){return t}function u(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}r.newBlob=function(e,n){r.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(t,e,r){var n=[],i=0,a=t.length;if(a<=r)return String.fromCharCode.apply(null,t);for(;i<a;)n.push(String.fromCharCode.apply(null,"array"===e||"nodebuffer"===e?t.slice(i,Math.min(i+r,a)):t.subarray(i,Math.min(i+r,a)))),i+=r;return n.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var e=65536,n=r.getTypeOf(t),i=!0;if("uint8array"===n?i=d.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=d.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return d.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return d.stringifyByChar(t)}function f(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}r.applyFromCharCode=c;var h={};h.string={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return h.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,a.allocBuffer(t.length))}},h.array={string:c,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(t)}},h.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(new Uint8Array(t))}},h.uint8array={string:c,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return a.newBufferFrom(t)}},h.nodebuffer={string:c,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return h.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:l},r.transformTo=function(t,e){if(e=e||"",!t)return e;r.checkSupport(t);var n=r.getTypeOf(e);return h[n][t](e)},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&a.isBuffer(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)n+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return n},r.delay=function(t,e,r){o(function(){t.apply(r||null,e||[])})},r.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},r.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},r.prepareContent=function(t,e,a,o,l){return s.Promise.resolve(e).then(function(t){return n.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise(function(e,r){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){r(t.target.error)},n.readAsArrayBuffer(t)}):t}).then(function(e){var d,c=r.getTypeOf(e);return c?("arraybuffer"===c?e=r.transformTo("uint8array",e):"string"===c&&(l?e=i.decode(e):a&&!0!==o&&(e=u(d=e,n.uint8array?new Uint8Array(d.length):new Array(d.length)))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,r){"use strict";var n=t("./reader/readerFor"),i=t("./utils"),a=t("./signature"),o=t("./zipEntry"),s=(t("./utf8"),t("./support"));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=i.transformTo(s.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=e-r;if(0<n)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";var n=t("./reader/readerFor"),i=t("./utils"),a=t("./compressedObject"),o=t("./crc32"),s=t("./utf8"),l=t("./compressions"),u=t("./support");function d(t,e){this.options=t,this.loadOptions=e}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,n,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<i;)e=t.readInt(2),r=t.readInt(2),n=t.readData(r),this.extraFields[e]={id:e,length:r,value:n};t.setIndex(i)},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)||o(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)||o(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";function n(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),l=t("./stream/GenericWorker");n.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&n&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new i(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)n.prototype[u[c]]=d;e.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,n){(function(t){"use strict";var e,n,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,o=new i(d),s=t.document.createTextNode("");o.observe(s,{characterData:!0}),e=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var l=new t.MessageChannel;l.port1.onmessage=d,e=function(){l.port2.postMessage(0)}}var u=[];function d(){var t,e;n=!0;for(var r=u.length;r;){for(e=u,u=[],t=-1;++t<r;)e[t]();r=u.length}n=!1}r.exports=function(t){1!==u.push(t)||n||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){"use strict";var n=t("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==i&&h(this,t)}function d(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(t,e,r){n(function(){var n;try{n=e(r)}catch(n){return a.reject(t,n)}n===t?a.reject(t,new TypeError("Cannot resolve promise with itself")):a.resolve(t,n)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var r=!1;function n(e){r||(r=!0,a.reject(t,e))}function i(e){r||(r=!0,a.resolve(t,e))}var o=p(function(){e(i,n)});"error"===o.status&&n(o.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=u).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===o)return this;var r=new this.constructor(i);return this.state!==l?c(r,this.state===s?t:e,this.outcome):this.queue.push(new d(r,t,e)),r},d.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},d.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},d.prototype.callRejected=function(t){a.reject(this.promise,t)},d.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},a.resolve=function(t,e){var r=p(f,e);if("error"===r.status)return a.reject(t,r.value);var n=r.value;if(n)h(t,n);else{t.state=s,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},a.reject=function(t,e){t.state=o,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:a.resolve(new this(i),t)},u.reject=function(t){var e=new this(i);return a.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,l=-1,u=new this(i);++l<r;)d(t[l],l);return u;function d(t,i){e.resolve(t).then(function(t){o[i]=t,++s!==r||n||(n=!0,a.resolve(u,o))},function(t){n||(n=!0,a.reject(u,t))})}},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,r=!1;if(!e)return this.resolve([]);for(var n=-1,o=new this(i);++n<e;)this.resolve(t[n]).then(function(t){r||(r=!0,a.resolve(o,t))},function(t){r||(r=!0,a.reject(o,t))});return o}},{immediate:36}],38:[function(t,e,r){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){"use strict";var n=t("./zlib/deflate"),i=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/messages"),s=t("./zlib/zstream"),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(o[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,d)))throw new Error(o[r]);this._dict_set=!0}}function d(t,e){var r=new u(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}u.prototype.push=function(t,e){var r,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,s.input="string"==typeof t?a.string2buf(t):"[object ArrayBuffer]"===l.call(t)?new Uint8Array(t):t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,o))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?a.buf2binstring(i.shrinkBuf(s.output,s.next_out)):i.shrinkBuf(s.output,s.next_out))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=u,r.deflate=d,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){"use strict";var n=t("./zlib/inflate"),i=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/constants"),s=t("./zlib/messages"),l=t("./zlib/zstream"),u=t("./zlib/gzheader"),d=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function f(t,e){var r=new c(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}c.prototype.push=function(t,e){var r,s,l,u,c,f,h=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,h.input="string"==typeof t?a.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?new Uint8Array(t):t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(r=n.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(f="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,r=n.inflateSetDictionary(this.strm,f)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(h.output,h.next_out),u=h.next_out-l,c=a.buf2string(h.output,l),h.next_out=u,h.avail_out=p-u,u&&i.arraySet(h.output,h.output,l,u,0),this.onData(c)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=c,r.inflate=f,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},r.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,o;for(e=n=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),e=i=0,r=t.length;e<r;e++)o.set(a=t[e],i),i+=a.length;return o}},a={arraySet:function(t,e,r,n,i){for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],42:[function(t,e,r){"use strict";var n=t("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,r.string2buf=function(t){var e,r,i,a,o,s=t.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(l),a=o=0;o<l;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?e[o++]=r:(r<2048?e[o++]=192|r>>>6:(r<65536?e[o++]=224|r>>>12:(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63),e[o++]=128|r>>>6&63),e[o++]=128|63&r);return e},r.buf2binstring=function(t){return l(t,t.length)},r.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,n,i,a,s=e||t.length,u=new Array(2*s);for(r=n=0;r<s;)if((i=t[r++])<128)u[n++]=i;else if(4<(a=o[i]))u[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&r<s;)i=i<<6|63&t[r++],a--;1<a?u[n++]=65533:i<65536?u[n++]=i:(u[n++]=55296|(i-=65536)>>10&1023,u[n++]=56320|1023&i)}return l(u,n)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0||0===r?e:r+o[t[r]]>e?r:e}},{"./common":41}],43:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;a=a+(i=i+e[n++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var a=n,o=i+r;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,r){"use strict";var n,i=t("../utils/common"),a=t("./trees"),o=t("./adler32"),s=t("./crc32"),l=t("./messages"),u=-2,d=258,c=262,f=113;function h(t,e){return t.msg=l[e],e}function p(t){return(t<<1)-(4<t?9:0)}function g(t){for(var e=t.length;0<=--e;)t[e]=0}function m(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function v(t,e){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,m(t.strm)}function b(t,e){t.pending_buf[t.pending++]=e}function y(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function w(t,e){var r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-c?t.strstart-(t.w_size-c):0,u=t.window,f=t.w_mask,h=t.prev,p=t.strstart+d,g=u[a+o-1],m=u[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(r=e)+o]===m&&u[r+o-1]===g&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do{}while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<p);if(n=d-(p-a),a=p-d,o<n){if(t.match_start=e,s<=(o=n))break;g=u[a+o-1],m=u[a+o]}}}while((e=h[e&f])>l&&0!=--i);return o<=t.lookahead?o:t.lookahead}function _(t){var e,r,n,a,l,u,d,f,h,p,g=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-c)){for(i.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,e=r=t.hash_size;n=t.head[--e],t.head[e]=g<=n?n-g:0,--r;);for(e=r=g;n=t.prev[--e],t.prev[e]=g<=n?n-g:0,--r;);a+=g}if(0===t.strm.avail_in)break;if(d=t.window,f=t.strstart+t.lookahead,p=void 0,(h=a)<(p=(u=t.strm).avail_in)&&(p=h),r=0===p?0:(u.avail_in-=p,i.arraySet(d,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=o(u.adler,d,p,f):2===u.state.wrap&&(u.adler=s(u.adler,d,p,f)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=r,t.lookahead+t.insert>=3)for(t.ins_h=t.window[l=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<c&&0!==t.strm.avail_in)}function x(t,e){for(var r,n;;){if(t.lookahead<c){if(_(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-c&&(t.match_length=w(t,r)),t.match_length>=3)if(n=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function S(t,e){for(var r,n,i;;){if(t.lookahead<c){if(_(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-c&&(t.match_length=w(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-3,n=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(v(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=a._tr_tally(t,0,t.window[t.strstart-1]))&&v(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function k(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:f,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):h(t,u)}function T(t){var e,r=B(t);return 0===r&&((e=t.state).window_size=2*e.w_size,g(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function C(t,e,r,n,a,o){if(!t)return u;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),a<1||9<a||8!==r||n<8||15<n||e<0||9<e||o<0||4<o)return h(t,u);8===n&&(n=9);var l=new E;return(t.state=l).strm=t,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=r,T(t)}n=[new k(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,v(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-c&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&v(t,!1),1)}),new k(4,4,8,4,x),new k(4,5,16,8,x),new k(4,6,32,32,x),new k(4,4,16,16,S),new k(8,16,32,32,S),new k(8,16,128,128,S),new k(8,32,128,256,S),new k(32,128,258,1024,S),new k(32,258,258,4096,S)],r.deflateInit=function(t,e){return C(t,e,8,15,8,0)},r.deflateInit2=C,r.deflateReset=T,r.deflateResetKeep=B,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},r.deflate=function(t,e){var r,i,o,l;if(!t||!t.state||5<e||e<0)return t?h(t,u):u;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return h(t,0===t.avail_out?-5:u);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,b(i,31),b(i,139),b(i,8),i.gzhead?(b(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),b(i,255&i.gzhead.time),b(i,i.gzhead.time>>8&255),b(i,i.gzhead.time>>16&255),b(i,i.gzhead.time>>24&255),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(b(i,255&i.gzhead.extra.length),b(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(b(i,0),b(i,0),b(i,0),b(i,0),b(i,0),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,3),i.status=f);else{var c=8+(i.w_bits-8<<4)<<8;c|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(c|=32),c+=31-c%31,i.status=f,y(i,c),0!==i.strstart&&(y(i,t.adler>>>16),y(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),m(t),o=i.pending,i.pending!==i.pending_buf_size));)b(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),m(t),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,b(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),m(t),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,b(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(t),i.pending+2<=i.pending_buf_size&&(b(i,255&t.adler),b(i,t.adler>>8&255),t.adler=0,i.status=f)):i.status=f),0!==i.pending){if(m(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(r)&&4!==e)return h(t,-5);if(666===i.status&&0!==t.avail_in)return h(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var w=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(_(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=d){if(_(t),t.lookahead<=d&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=t.strstart+d;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=d-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==w&&4!==w||(i.status=666),1===w||3===w)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===w&&(1===e?a._tr_align(i):5!==e&&(a._tr_stored_block(i,0,0,!1),3===e&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(b(i,255&t.adler),b(i,t.adler>>8&255),b(i,t.adler>>16&255),b(i,t.adler>>24&255),b(i,255&t.total_in),b(i,t.total_in>>8&255),b(i,t.total_in>>16&255),b(i,t.total_in>>24&255)):(y(i,t.adler>>>16),y(i,65535&t.adler)),m(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==f&&666!==e?h(t,u):(t.state=null,e===f?h(t,-3):0):u},r.deflateSetDictionary=function(t,e){var r,n,a,s,l,d,c,f,h=e.length;if(!t||!t.state)return u;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return u;for(1===s&&(t.adler=o(t.adler,e,h,0)),r.wrap=0,h>=r.w_size&&(0===s&&(g(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,e,h-r.w_size,r.w_size,0),e=f,h=r.w_size),l=t.avail_in,d=t.next_in,c=t.input,t.avail_in=h,t.next_in=0,t.input=e,_(r);r.lookahead>=3;){for(n=r.strstart,a=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--a;);r.strstart=n,r.lookahead=2,_(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=d,t.input=c,t.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n,i,a,o,s,l,u,d,c,f,h,p,g,m,v,b,y,w,_,x,S,k,E,B;E=t.input,i=(n=t.next_in)+(t.avail_in-5),B=t.output,o=(a=t.next_out)-(e-t.avail_out),s=a+(t.avail_out-257),l=(r=t.state).dmax,u=r.wsize,d=r.whave,c=r.wnext,f=r.window,h=r.hold,p=r.bits,g=r.lencode,m=r.distcode,v=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(h+=E[n++]<<p,h+=E[n++]<<(p+=8),p+=8),y=g[h&v];e:for(;;){if(h>>>=w=y>>>24,p-=w,0==(w=y>>>16&255))B[a++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=g[(65535&y)+(h&(1<<w)-1)];continue e}if(32&w){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}_=65535&y,(w&=15)&&(p<w&&(h+=E[n++]<<p,p+=8),_+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=E[n++]<<p,h+=E[n++]<<(p+=8),p+=8),y=m[h&b];r:for(;;){if(h>>>=w=y>>>24,p-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=m[(65535&y)+(h&(1<<w)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(x=65535&y,p<(w&=15)&&(h+=E[n++]<<p,(p+=8)<w&&(h+=E[n++]<<p,p+=8)),l<(x+=h&(1<<w)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(h>>>=w,p-=w,(w=a-o)<x){if(d<(w=x-w)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(k=f,(S=0)===c){if(S+=u-w,w<_){for(_-=w;B[a++]=f[S++],--w;);S=a-x,k=B}}else if(c<w){if(S+=u+c-w,(w-=c)<_){for(_-=w;B[a++]=f[S++],--w;);if(S=0,c<_){for(_-=w=c;B[a++]=f[S++],--w;);S=a-x,k=B}}}else if(S+=c-w,w<_){for(_-=w;B[a++]=f[S++],--w;);S=a-x,k=B}for(;2<_;)B[a++]=k[S++],B[a++]=k[S++],B[a++]=k[S++],_-=3;_&&(B[a++]=k[S++],1<_&&(B[a++]=k[S++]))}else{for(S=a-x;B[a++]=B[S++],B[a++]=B[S++],B[a++]=B[S++],2<(_-=3););_&&(B[a++]=B[S++],1<_&&(B[a++]=B[S++]))}break}}break}}while(n<i&&a<s);n-=_=p>>3,h&=(1<<(p-=_<<3))-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=a<s?s-a+257:257-(a-s),r.hold=h,r.bits=p}},{}],49:[function(t,e,r){"use strict";var n=t("../utils/common"),i=t("./adler32"),a=t("./crc32"),o=t("./inffast"),s=t("./inftrees"),l=-2;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):l}function f(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):l}function h(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,f(t))):l}function p(t,e){var r,n;return t?(n=new d,(t.state=n).window=null,0!==(r=h(t,e))&&(t.state=null),r):l}var g,m,v=!0;function b(t){if(v){var e;for(g=new n.Buf32(512),m=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),v=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function y(t,e,r,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),n.arraySet(o.window,e,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,e,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}r.inflateReset=f,r.inflateReset2=h,r.inflateResetKeep=c,r.inflateInit=function(t){return p(t,15)},r.inflateInit2=p,r.inflate=function(t,e){var r,d,c,f,h,p,g,m,v,w,_,x,S,k,E,B,T,C,R,A,I,D,L,O,P=0,F=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(r=t.state).mode&&(r.mode=13),h=t.next_out,c=t.output,f=t.next_in,d=t.input,m=r.hold,v=r.bits,w=p=t.avail_in,_=g=t.avail_out,D=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;v<16;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(2&r.wrap&&35615===m){F[r.check=0]=255&m,F[1]=m>>>8&255,r.check=a(r.check,F,2,0),v=m=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",r.mode=30;break}if(v-=4,I=8+(15&(m>>>=4)),0===r.wbits)r.wbits=I;else if(I>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<I,t.adler=r.check=1,r.mode=512&m?10:12,v=m=0;break;case 2:for(;v<16;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(r.flags=m,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,r.check=a(r.check,F,2,0)),v=m=0,r.mode=3;case 3:for(;v<32;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}r.head&&(r.head.time=m),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,F[2]=m>>>16&255,F[3]=m>>>24&255,r.check=a(r.check,F,4,0)),v=m=0,r.mode=4;case 4:for(;v<16;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,r.check=a(r.check,F,2,0)),v=m=0,r.mode=5;case 5:if(1024&r.flags){for(;v<16;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,r.check=a(r.check,F,2,0)),v=m=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p<(x=r.length)&&(x=p),x&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,d,f,x,I)),512&r.flags&&(r.check=a(r.check,d,x,f)),p-=x,f+=x,r.length-=x),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===p)break t;for(x=0;I=d[f+x++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I)),I&&x<p;);if(512&r.flags&&(r.check=a(r.check,d,x,f)),p-=x,f+=x,I)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===p)break t;for(x=0;I=d[f+x++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I)),I&&x<p;);if(512&r.flags&&(r.check=a(r.check,d,x,f)),p-=x,f+=x,I)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;v<16;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(m!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}v=m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;v<32;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}t.adler=r.check=u(m),v=m=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=h,t.avail_out=g,t.next_in=f,t.avail_in=p,r.hold=m,r.bits=v,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){m>>>=7&v,v-=7&v,r.mode=27;break}for(;v<3;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}switch(r.last=1&m,v-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(b(r),r.mode=20,6!==e)break;m>>>=2,v-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&m,v=m=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(x=r.length){if(p<x&&(x=p),g<x&&(x=g),0===x)break t;n.arraySet(c,d,f,x,h),p-=x,f+=x,g-=x,h+=x,r.length-=x;break}r.mode=12;break;case 17:for(;v<14;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(r.nlen=257+(31&m),v-=5,r.ndist=1+(31&(m>>>=5)),v-=5,r.ncode=4+(15&(m>>>=5)),m>>>=4,v-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;v<3;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}r.lens[U[r.have++]]=7&m,m>>>=3,v-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D=s(0,r.lens,0,19,r.lencode,0,r.work,L={bits:r.lenbits}),r.lenbits=L.bits,D){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;B=(P=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,T=65535&P,!((E=P>>>24)<=v);){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(T<16)m>>>=E,v-=E,r.lens[r.have++]=T;else{if(16===T){for(O=E+2;v<O;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(m>>>=E,v-=E,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}I=r.lens[r.have-1],x=3+(3&m),m>>>=2,v-=2}else if(17===T){for(O=E+3;v<O;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}v-=E,I=0,x=3+(7&(m>>>=E)),m>>>=3,v-=3}else{for(O=E+7;v<O;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}v-=E,I=0,x=11+(127&(m>>>=E)),m>>>=7,v-=7}if(r.have+x>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;x--;)r.lens[r.have++]=I}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,D=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,L={bits:r.lenbits}),r.lenbits=L.bits,D){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,D=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L={bits:r.distbits}),r.distbits=L.bits,D){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=p&&258<=g){t.next_out=h,t.avail_out=g,t.next_in=f,t.avail_in=p,r.hold=m,r.bits=v,o(t,_),h=t.next_out,c=t.output,g=t.avail_out,f=t.next_in,d=t.input,p=t.avail_in,m=r.hold,v=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;B=(P=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,T=65535&P,!((E=P>>>24)<=v);){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(B&&0==(240&B)){for(C=E,R=B,A=T;B=(P=r.lencode[A+((m&(1<<C+R)-1)>>C)])>>>16&255,T=65535&P,!(C+(E=P>>>24)<=v);){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}m>>>=C,v-=C,r.back+=C}if(m>>>=E,v-=E,r.back+=E,r.length=T,0===B){r.mode=26;break}if(32&B){r.back=-1,r.mode=12;break}if(64&B){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&B,r.mode=22;case 22:if(r.extra){for(O=r.extra;v<O;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,v-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;B=(P=r.distcode[m&(1<<r.distbits)-1])>>>16&255,T=65535&P,!((E=P>>>24)<=v);){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(0==(240&B)){for(C=E,R=B,A=T;B=(P=r.distcode[A+((m&(1<<C+R)-1)>>C)])>>>16&255,T=65535&P,!(C+(E=P>>>24)<=v);){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}m>>>=C,v-=C,r.back+=C}if(m>>>=E,v-=E,r.back+=E,64&B){t.msg="invalid distance code",r.mode=30;break}r.offset=T,r.extra=15&B,r.mode=24;case 24:if(r.extra){for(O=r.extra;v<O;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,v-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===g)break t;if(r.offset>(x=_-g)){if((x=r.offset-x)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}S=x>r.wnext?r.wsize-(x-=r.wnext):r.wnext-x,x>r.length&&(x=r.length),k=r.window}else k=c,S=h-r.offset,x=r.length;for(g<x&&(x=g),g-=x,r.length-=x;c[h++]=k[S++],--x;);0===r.length&&(r.mode=21);break;case 26:if(0===g)break t;c[h++]=r.length,g--,r.mode=21;break;case 27:if(r.wrap){for(;v<32;){if(0===p)break t;p--,m|=d[f++]<<v,v+=8}if(t.total_out+=_-=g,r.total+=_,_&&(t.adler=r.check=r.flags?a(r.check,c,_,h-_):i(r.check,c,_,h-_)),_=g,(r.flags?m:u(m))!==r.check){t.msg="incorrect data check",r.mode=30;break}v=m=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;v<32;){if(0===p)break t;p--,m+=d[f++]<<v,v+=8}if(m!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}v=m=0}r.mode=29;case 29:D=1;break t;case 30:D=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=h,t.avail_out=g,t.next_in=f,t.avail_in=p,r.hold=m,r.bits=v,(r.wsize||_!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&y(t,t.output,t.next_out,_-t.avail_out)?(r.mode=31,-4):(_-=t.avail_out,t.total_in+=w-=t.avail_in,t.total_out+=_,r.total+=_,r.wrap&&_&&(t.adler=r.check=r.flags?a(r.check,c,_,t.next_out-_):i(r.check,c,_,t.next_out-_)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==w&&0===_||4===e)&&0===D&&(D=-5),D)},r.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?l:((r.head=e).done=!1,0):l},r.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,e,n,0)!==r.check?-3:y(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){"use strict";var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,l,u,d,c,f){var h,p,g,m,v,b,y,w,_,x=f.bits,S=0,k=0,E=0,B=0,T=0,C=0,R=0,A=0,I=0,D=0,L=null,O=0,P=new n.Buf16(16),F=new n.Buf16(16),U=null,M=0;for(S=0;S<=15;S++)P[S]=0;for(k=0;k<l;k++)P[e[r+k]]++;for(T=x,B=15;1<=B&&0===P[B];B--);if(B<T&&(T=B),0===B)return u[d++]=20971520,u[d++]=20971520,f.bits=1,0;for(E=1;E<B&&0===P[E];E++);for(T<E&&(T=E),S=A=1;S<=15;S++)if(A<<=1,(A-=P[S])<0)return-1;if(0<A&&(0===t||1!==B))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+P[S];for(k=0;k<l;k++)0!==e[r+k]&&(c[F[e[r+k]]++]=k);if(b=0===t?(L=U=c,19):1===t?(L=i,O-=257,U=a,M-=257,256):(L=o,U=s,-1),S=E,v=d,R=k=D=0,g=-1,m=(I=1<<(C=T))-1,1===t&&852<I||2===t&&592<I)return 1;for(;;){for(y=S-R,_=c[k]<b?(w=0,c[k]):c[k]>b?(w=U[M+c[k]],L[O+c[k]]):(w=96,0),h=1<<S-R,E=p=1<<C;u[v+(D>>R)+(p-=h)]=y<<24|w<<16|_|0,0!==p;);for(h=1<<S-1;D&h;)h>>=1;if(0!==h?(D&=h-1,D+=h):D=0,k++,0==--P[S]){if(S===B)break;S=e[r+c[k]]}if(T<S&&(D&m)!==g){for(0===R&&(R=T),v+=E,A=1<<(C=S-R);C+R<B&&!((A-=P[C+R])<=0);)C++,A<<=1;if(I+=1<<C,1===t&&852<I||2===t&&592<I)return 1;u[g=D&m]=T<<24|C<<16|v-d|0}}return 0!==D&&(u[v+D]=S-R<<24|64<<16|0),f.bits=T,0}},{"../utils/common":41}],51:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){"use strict";var n=t("../utils/common");function i(t){for(var e=t.length;0<=--e;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var d=new Array(60);i(d);var c=new Array(512);i(c);var f=new Array(256);i(f);var h=new Array(29);i(h);var p,g,m,v=new Array(30);function b(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?c[t]:c[256+(t>>>7)]}function _(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function S(t,e,r){x(t,r[2*e],r[2*e+1])}function k(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function E(t,e,r){var n,i,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=k(a[s]++,s))}}function B(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function T(t){8<t.bi_valid?_(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function C(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function R(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&C(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!C(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function A(t,e,r){var n,i,s,l,u=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===n?S(t,i,e):(S(t,(s=f[i])+256+1,e),0!==(l=a[s])&&x(t,i-=h[s],l),S(t,s=w(--n),r),0!==(l=o[s])&&x(t,n-=v[s],l)),u<t.last_lit;);S(t,256,e)}function I(t,e){var r,n,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<l;r++)0!==a[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=u,r=t.heap_len>>1;1<=r;r--)R(t,a,r);for(i=l;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,R(t,a,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,a,o,s,l=e.dyn_tree,u=e.max_code,d=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)p<(a=l[2*l[2*(n=t.heap[r])+1]+1]+1)&&(a=p,g++),l[2*n+1]=a,u<n||(t.bl_count[a]++,o=0,h<=n&&(o=f[n-h]),t.opt_len+=(s=l[2*n])*(a+o),c&&(t.static_len+=s*(d[2*n+1]+o)));if(0!==g){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,g-=2}while(0<g);for(a=p;0!==a;a--)for(n=t.bl_count[a];0!==n;)u<(i=t.heap[--r])||(l[2*i+1]!==a&&(t.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),n--)}}(t,e),E(a,u,t.bl_count)}function D(t,e,r){var n,i,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<l&&i===o||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4))}function L(t,e,r){var n,i,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<l&&i===o)){if(s<u)for(;S(t,i,t.bl_tree),0!=--s;);else 0!==i?(i!==a&&(S(t,i,t.bl_tree),s--),S(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(S(t,17,t.bl_tree),x(t,s-3,3)):(S(t,18,t.bl_tree),x(t,s-11,7));a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4)}}i(v);var O=!1;function P(t,e,r,i){var a,o,s;x(t,0+(i?1:0),3),o=e,s=r,T(a=t),_(a,s),_(a,~s),n.arraySet(a.pending_buf,a.window,o,s,a.pending),a.pending+=s}r._tr_init=function(t){O||(function(){var t,e,r,n,i,l=new Array(16);for(n=r=0;n<28;n++)for(h[n]=r,t=0;t<1<<a[n];t++)f[r++]=n;for(f[r-1]=n,n=i=0;n<16;n++)for(v[n]=i,t=0;t<1<<o[n];t++)c[i++]=n;for(i>>=7;n<30;n++)for(v[n]=i<<7,t=0;t<1<<o[n]-7;t++)c[256+i++]=n;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,l[8]++;for(;t<=255;)u[2*t+1]=9,t++,l[9]++;for(;t<=279;)u[2*t+1]=7,t++,l[7]++;for(;t<=287;)u[2*t+1]=8,t++,l[8]++;for(E(u,287,l),t=0;t<30;t++)d[2*t+1]=5,d[2*t]=k(t,5);p=new b(u,a,257,286,15),g=new b(d,o,0,30,15),m=new b(new Array(0),s,0,19,7)}(),O=!0),t.l_desc=new y(t.dyn_ltree,p),t.d_desc=new y(t.dyn_dtree,g),t.bl_desc=new y(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,B(t)},r._tr_stored_block=P,r._tr_flush_block=function(t,e,r,n){var i,a,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),o=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(a=t.static_len+3+7>>>3)<=(i=t.opt_len+3+7>>>3)&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?P(t,e,r,n):4===t.strategy||a===i?(x(t,2+(n?1:0),3),A(t,u,d)):(x(t,4+(n?1:0),3),function(t,e,r,n){var i;for(x(t,e-257,5),x(t,r-1,5),x(t,n-4,4),i=0;i<n;i++)x(t,t.bl_tree[2*l[i]+1],3);L(t,t.dyn_ltree,e-1),L(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),A(t,t.dyn_ltree,t.dyn_dtree)),B(t),n&&T(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(f[r]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){var e;x(t,2,3),S(t,256,u),16===(e=t).bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){"use strict";e.exports="function"==typeof n?n:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}).call(this,r("yLpj"),r("tjlA").Buffer,r("URgk").setImmediate)},xgIS:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r("HDdC"),i=r("DH7j"),a=r("n6bG"),o=r("lJxs");function s(t,e,r,u){return Object(a.a)(r)&&(u=r,r=void 0),u?s(t,e,r).pipe(Object(o.a)(t=>Object(i.a)(t)?u(...t):u(t))):new n.a(n=>{l(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,r)})}function l(t,e,r,n,i){let a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const n=t;t.addEventListener(e,r,i),a=()=>n.removeEventListener(e,r,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const n=t;t.on(e,r),a=()=>n.off(e,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const n=t;t.addListener(e,r),a=()=>n.removeListener(e,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let a=0,o=t.length;a<o;a++)l(t[a],e,r,n,i)}n.add(a)}},xtZf:function(t,e,r){"use strict";t.exports=i;var n=r("iljw");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r("P7XM")(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},yEox:function(t,e,r){"use strict";function n(t){return 0==(4294967168&t)?1:0==(4294965248&t)?2:0==(4294901760&t)?3:4}function i(t){for(var e=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){if(r+1<t.length){var a=t.charCodeAt(r+1);56320==(64512&a)&&(r++,e+=n(((1023&i)<<10)+(1023&a)+65536))}}else e+=n(i)}return e}function a(t,e,r){var i=n(r);switch(i){case 1:t[e]=r;break;case 2:t[e]=r>>6&31|192,t[e+1]=63&r|128;break;case 3:t[e]=r>>12&15|224,t[e+1]=r>>6&63|128,t[e+2]=63&r|128;break;default:t[e]=r>>18&7|240,t[e+1]=r>>12&63|128,t[e+2]=r>>6&63|128,t[e+3]=63&r|128}return i}function o(t,e,r){for(var n=0;n<r.length;n++){var i=r.charCodeAt(n);if(i>=55296&&i<=56319){if(n+1<r.length){var o=r.charCodeAt(n+1);56320==(64512&o)&&(n++,e+=a(t,e,((1023&i)<<10)+(1023&o)+65536))}}else e+=a(t,e,i)}return e}function s(t,e){if(e>=t.length)throw Error("Invalid byte index");var r=t[e];if(128==(192&r))return 63&r;throw Error("Invalid continuation byte")}Object.defineProperty(e,"__esModule",{value:!0}),e.decodeString=e.encodeString=e.encodeStringTo=e.stringLengthInBytes=void 0,e.stringLengthInBytes=i,e.encodeStringTo=o,e.encodeString=function(t){var e=new Uint8Array(i(t));return o(e,0,t),e},e.decodeString=function(t){for(var e="",r=0;r<t.length;){var n=t[r++],i=void 0;if(0==(128&n))i=n;else if(192==(224&n)){if((i=(31&n)<<6|s(t,r++))<128)throw Error("Invalid continuation byte")}else if(224==(240&n)){if((i=(15&n)<<12|s(t,r++)<<6|s(t,r++))<2048)throw Error("Invalid continuation byte");if(i>=55296&&i<=57343)throw Error("Lone surrogate U+"+i.toString(16).toUpperCase()+" is not a scalar value")}else{if(240!=(248&n))throw Error("Invalid UTF-8 detected");if((i=(15&n)<<18|s(t,r++)<<12|s(t,r++)<<6|s(t,r++))<65536||i>1114111)throw Error("Invalid continuation byte")}i>65535&&(i-=65536,e+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),e+=String.fromCharCode(i)}return e}}}]);